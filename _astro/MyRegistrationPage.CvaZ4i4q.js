import{e as Ae,d as Nt,f as St,c as G,B as A,g as ye,h as oe,b as ne,i as $e,I as Yt,S as st,j as ot,u as Ot}from"./utils.CeEdiwNv.js";import{g,t as h,r as vt,h as N,j as kt,k as qe,l as Je,n as _t,e as re,b as j,p as Ge,q as Bt,w as jt,x as zt,y as Kt,c as a,z as Mt,A as ie,S as C,B as Wt,C as pt,D as Ie,E as Qe,m as ut,G as Vt,H as Zt,I as we,i as c,a as S,s as Se,J as qt,M,F as ae,f as ke,K as ce,L as Pe,N as De,O as Xe,P as Jt,u as Gt,d as Re,Q as Qt,R as Xt}from"./web.gnKM2iBd.js";import{c as z,u as en}from"./store.BEDEK3nM.js";import{e as Ue,o as W,n as ve,s as H,a as et,u as tt,l as ee}from"./types.BB3bk5F8.js";import"./Textarea.B1KkMEf6.js";const[be,xe]=z([]);function yt(e,t){if(t?.uuid!==void 0&&be.find(u=>u.uuid===t.uuid)!==void 0)return We(t.uuid,e,t);const n=t?.uuid??crypto.randomUUID(),r=t?.duration??5e3,i=t?.kind??"gray",s=t?.dismissable??!0,l=setTimeout(()=>{xe(be.filter(u=>u.uuid!==n))},r);return xe(be.length,{uuid:n,kind:i,message:e,duration:r,dismissable:s,cleanup:()=>clearTimeout(l)}),n}function We(e,t,n){const r=be.find(o=>o.uuid===e);if(r===void 0)return e;r.cleanup();const i=n.duration??r.duration,s=n.kind??r.kind,l=n?.dismissable??r.dismissable,u=setTimeout(()=>{xe(be.filter(o=>o.uuid!==e))},i);return xe(o=>o.uuid===e,{uuid:e,kind:s,message:t,duration:i,dismissable:l,cleanup:()=>clearTimeout(u)}),e}const tn=Ue(["SATURDAY","SUNDAY"]);W({uuid:H().uuid(),day:tn,from:ve(),to:ve()}).refine(e=>e.from<e.to,{message:"A TimeSlot can't end before it starts."});W({name:H(),label:H(),description:H()});const nn=Ue(["draft","published","archived"]);async function rn(e){const t=new URL(Ae("/lst26/load"));t.searchParams.append("secret",e);const n=await fetch(t);if(!n.ok)return{kind:"FAILURE"};const r=await n.json();return typeof r=="object"&&r!==null?{kind:"SUCCESS",data:r}:(console.error("`last_save` not found on ",r),{kind:"FAILURE"})}async function an(e,t){try{const n=await fetch(Ae("/lst26/save"),{method:"POST",body:JSON.stringify({secret:t,save:e}),headers:{"Content-Type":"application/json"}});return n.ok?{kind:"SUCCESS",data:t}:(console.error(await n.text()),{kind:"FAILURE"})}catch(n){return console.error(n),{kind:"FAILURE"}}}async function ln(e){try{const t=new URL(Ae("/lst26/help"));t.searchParams.append("secret",e);const n=await fetch(t,{headers:{"Content-Type":"application/json"}});return n.ok?{kind:"SUCCESS",data:await n.json()}:(console.error(await n.text()),{kind:"FAILURE"})}catch(t){return console.error(t),{kind:"FAILURE"}}}Ue(["SAVING","IDLE","ERROR"]);const sn=et(tt([ee("admin"),ee("erklaerbaer")])),on=Ue(["FRIDAY","SATURDAY","SUNDAY"]),un=W({from:ve(),to:ve()}),cn=un.extend({day:on});function pe(e,t){const{from:n,to:r}=t;return n<e&&e<r}function dn(e,t){const{from:n,to:r}=e,{from:i,to:s}=t;return pe(n,t)||pe(r,t)||pe(i,e)||pe(s,e)||n===i&&r===s}function gn(e,t=!1){const{from:n,to:r}=e;if(n>r)return[];const i=r-n;return Et(t?i+1:i,n)}function Et(e,t=0){return[...Array(e)].map((n,r)=>r+t)}const hn=W({name:H(),email:H(),mobile:H()}),fn=W({kind:ee("ERKLAERBAER"),uuid:H().uuid(),slot:cn}),mn=tt([W({kind:ee("SELF"),helpEntryUuid:H().uuid(),uuid:H().uuid()}),W({kind:ee("FRIEND"),helpEntryUuid:H().uuid(),name:H(),uuid:H().uuid()}),fn]),bn=W({version:ee(4),contact:hn,helping:et(mn)}),$n=W({kind:ee("SUCCESS"),status:nn,roles:sn,data:bn});async function Sn(e){if(e.length!==36&&e.length!==4)return{kind:"FAILURE",reason:"SECRET_INVALID"};const t=await rn(e);if(t.kind==="FAILURE")return console.error("Unexpected error. Maybe network, maybe server error."),{kind:"FAILURE",reason:"GENERAL"};const n=$n.safeParse(t.data);return n.success?{kind:"SUCCESS",data:n.data}:(console.error(n.error),{kind:"FAILURE",reason:"PARSE_ERROR"})}const Te=crypto.randomUUID();async function vn(e,t,n){const[r,i]=z(e);i("saveState","SAVING"),yt("Am Speichern...",{uuid:Te,dismissable:!1});const s=new Date;try{if((await an(t,n)).kind==="FAILURE")throw Error("")}catch(l){return i("saveState","ERROR"),console.error(l),We(Te,"Speichern war nicht möglich!",{kind:"danger",duration:1e4,dismissable:!0}),{kind:"FAILURE"}}return We(Te,`Zuletzt gespeichert um: ${St(s)} Uhr`,{kind:"success",dismissable:!0}),i("saveState","IDLE"),{kind:"SUCCESS",data:s}}const kn=Nt(vn,1e3);var ct=h("<br>"),_n=h("<strong>Donnerstag, 21. August 2025"),pn=h("<p>Deine Anmeldung wird geladen..."),yn=h("<p>Das Programm wird geladen..."),En=h("<p>Leider ist ein unerwarteter Fehler passiert. Versuche deine Anmeldung erneut zu laden. Wiederholt sich dieser Fehler, bitte kontaktiere uns sobald als möglich über das <a href=/kontakt>Kontaktformular</a>, da dies nicht passieren sollte."),wn=h("<p>Wir konnten leider keine Anmeldung finden. Wenn du bereits eine Anmeldung begonnen hast, solltest du den korrekten Link per E-Mail erhalten haben.<br><br> Falls du noch keine Anmeldung begonnen hast, kannst du <a href=/anmeldung>hier</a> deine persönliche Anmeldung beginnen. <br><br>Für generelle Fragen oder Probleme, schreibe uns doch bitte über unser <a href=/kontatk>Kontaktformular</a>."),Rn=h("<p>Wir konnten leider keine Spielrunde unter diesem Link finden.<br><br>Vermutlich liegt es an uns. Bitte kontaktiere uns sobald als möglich über das "),xn=h("<p>Leider ist ein unerwarteter Fehler passiert. Vermutlich liegt es an uns. Bitte kontaktiere uns sobald als möglich über das <a href=/kontakt>Kontaktformular</a>."),An=h("<p>Leider ist ein unerwarteter Fehler passiert beim Laden des Programmes. Vermutlich liegt es an uns. Bitte kontaktiere uns sobald als möglich über das <a href=/kontakt>Kontaktformular</a>."),Dn=h("<p>Leider ist ein unerwarteter Fehler passiert beim Laden von Daten. Vermutlich liegt es an uns. Bitte kontaktiere uns sobald als möglich über das <a href=/kontakt>Kontaktformular</a>."),Un=h("<p>Leider ist das keine gültige Seite. Versuche deine Anmeldung erneut zu laden. Wiederholt sich dieser Fehler, bitte kontaktiere uns sobald als möglich über das <a href=/kontakt>Kontaktformular</a>, da dies nicht passieren sollte."),Cn=h("<p>Leider hast du keinen Zugriff auf diese Seite. Sollte dies ein Fehler sein, dann kontaktiere uns sobald als möglich über das <a href=/kontakt>Kontaktformular</a>.");g(ct),g(ct),g(_n);const Ln={registration:g(pn),program:g(yn)},Fn={general:g(En),secretError:g(wn),gameroundUuidError:g(Rn),ourMistake:g(xn),program:g(An),help:g(Dn),siteNotFound:g(Un),noAccess:g(Cn)},In="Neuer Eintrag erstellen",Pn="Die Eingabe scheint keine gültige E-Mail-Adresse zu sein.",Tn="Dies ist ein Pflichtfeld.",Hn={FRIDAY:"Freitag",SATURDAY:"Samstag",SUNDAY:"Sonntag"},U={loading:Ln,error:Fn,createNewEntry:In,invalidEmail:Pn,mandatoryField:Tn,days:Hn};function wt(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function r(i,s){if(n)return!(n=!1);const l={to:i,options:s,defaultPrevented:!1,preventDefault:()=>l.defaultPrevented=!0};for(const u of e)u.listener({...l,from:u.location,retry:o=>{o&&(n=!0),u.navigate(i,{...s,resolve:!1})}});return!l.defaultPrevented}return{subscribe:t,confirm:r}}let Ve;function nt(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Ve=window.history.state._depth}nt();function Nn(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function Yn(e,t){let n=!1;return()=>{const r=Ve;nt();const i=r==null?null:Ve-r;if(n){n=!1;return}i&&t(i)?(n=!0,window.history.go(-i)):e()}}const On=/^(?:[a-z0-9]+:)?\/\//i,Bn=/^\/+|(\/)\/+$/g,Rt="http://sr";function ue(e,t=!1){const n=e.replace(Bn,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Ee(e,t,n){if(On.test(t))return;const r=ue(e),i=n&&ue(n);let s="";return!i||t.startsWith("/")?s=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?s=r+i:s=i,(s||"/")+ue(t,!s)}function jn(e,t){if(e==null)throw new Error(t);return e}function zn(e,t){return ue(e).replace(/\/*(\*.*)?$/g,"")+ue(t)}function xt(e){const t={};return e.searchParams.forEach((n,r)=>{r in t?Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n}),t}function Kn(e,t,n){const[r,i]=e.split("/*",2),s=r.split("/").filter(Boolean),l=s.length;return u=>{const o=u.split("/").filter(Boolean),d=o.length-l;if(d<0||d>0&&i===void 0&&!t)return null;const b={path:l?"":"/",params:{}},m=k=>n===void 0?void 0:n[k];for(let k=0;k<l;k++){const $=s[k],_=$[0]===":",f=_?o[k]:o[k].toLowerCase(),v=_?$.slice(1):$.toLowerCase();if(_&&He(f,m(v)))b.params[v]=f;else if(_||!He(f,v))return null;b.path+=`/${f}`}if(i){const k=d?o.slice(-d).join("/"):"";if(He(k,m(i)))b.params[i]=k;else return null}return b}}function He(e,t){const n=r=>r===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Mn(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,s)=>i+(s.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function At(e){const t=new Map,n=kt();return new Proxy({},{get(r,i){return t.has(i)||vt(n,()=>t.set(i,N(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())},has(r,i){return i in e()}})}function Wn(e,t){const n=new URLSearchParams(e);Object.entries(t).forEach(([i,s])=>{s==null||s===""||s instanceof Array&&!s.length?n.delete(i):s instanceof Array?(n.delete(i),s.forEach(l=>{n.append(i,String(l))})):n.set(i,String(s))});const r=n.toString();return r?`?${r}`:""}function Dt(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return Dt(r).reduce((s,l)=>[...s,...i.map(u=>u+l)],[])}const Vn=100,Ut=_t(),rt=_t(),_e=()=>jn(Je(Ut),"<A> and 'use' router primitives can be only used inside a Route."),Zn=()=>Je(rt)||_e().base,qn=e=>{const t=Zn();return N(()=>t.resolvePath(e()))},Jn=e=>{const t=_e();return N(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},Ct=()=>_e().navigatorFactory(),Lt=()=>_e().location,Gn=()=>_e().params,it=()=>{const e=Lt(),t=Ct(),n=(r,i)=>{const s=qe(()=>Wn(e.search,r)+e.hash);t(s,{scroll:!1,resolve:!1,...i})};return[e.query,n]};function Qn(e,t=""){const{component:n,preload:r,load:i,children:s,info:l}=e,u=!s||Array.isArray(s)&&!s.length,o={key:e,component:n,preload:r||i,info:l};return Ft(e.path).reduce((d,b)=>{for(const m of Dt(b)){const k=zn(t,m);let $=u?k:k.split("/*",1)[0];$=$.split("/").map(_=>_.startsWith(":")||_.startsWith("*")?_:encodeURIComponent(_)).join("/"),d.push({...o,originalPath:b,pattern:$,matcher:Kn($,!u,e.matchFilters)})}return d},[])}function Xn(e,t=0){return{routes:e,score:Mn(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const s=e[i],l=s.matcher(n);if(!l)return null;r.unshift({...l,route:s})}return r}}}function Ft(e){return Array.isArray(e)?e:[e]}function It(e,t="",n=[],r=[]){const i=Ft(e);for(let s=0,l=i.length;s<l;s++){const u=i[s];if(u&&typeof u=="object"){u.hasOwnProperty("path")||(u.path="");const o=Qn(u,t);for(const d of o){n.push(d);const b=Array.isArray(u.children)&&u.children.length===0;if(u.children&&!b)It(u.children,d.pattern,n,r);else{const m=Xn([...n],r.length);r.push(m)}n.pop()}}}return n.length?r:r.sort((s,l)=>l.score-s.score)}function Ne(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function er(e,t,n){const r=new URL(Rt),i=N(b=>{const m=e();try{return new URL(m,r)}catch{return console.error(`Invalid path ${m}`),b}},r,{equals:(b,m)=>b.href===m.href}),s=N(()=>i().pathname),l=N(()=>i().search,!0),u=N(()=>i().hash),o=()=>"",d=Ge(l,()=>xt(i()));return{get pathname(){return s()},get search(){return l()},get hash(){return u()},get state(){return t()},get key(){return o()},query:n?n(d):At(d)}}let se;function tr(){return se}function nr(e,t,n,r={}){const{signal:[i,s],utils:l={}}=e,u=l.parsePath||(E=>E),o=l.renderPath||(E=>E),d=l.beforeLeave||wt(),b=Ee("",r.base||"");if(b===void 0)throw new Error(`${b} is not a valid base path`);b&&!i().value&&s({value:b,replace:!0,scroll:!1});const[m,k]=re(!1);let $;const _=(E,w)=>{w.value===f()&&w.state===p()||($===void 0&&k(!0),se=E,$=w,jt(()=>{$===w&&(v($.value),y($.state),Kt(),I[1](T=>T.filter(te=>te.pending)))}).finally(()=>{$===w&&zt(()=>{se=void 0,E==="navigate"&&F($),k(!1),$=void 0})}))},[f,v]=re(i().value),[p,y]=re(i().state),D=er(f,p,l.queryWrapper),R=[],I=re([]),L=N(()=>typeof r.transformUrl=="function"?Ne(t(),r.transformUrl(D.pathname)):Ne(t(),D.pathname)),Y=()=>{const E=L(),w={};for(let T=0;T<E.length;T++)Object.assign(w,E[T].params);return w},O=l.paramsWrapper?l.paramsWrapper(Y,t):At(Y),K={pattern:b,path:()=>b,outlet:()=>null,resolvePath(E){return Ee(b,E)}};return j(Ge(i,E=>_("native",E),{defer:!0})),{base:K,location:D,params:O,isRouting:m,renderPath:o,parsePath:u,navigatorFactory:Z,matches:L,beforeLeave:d,preloadRoute:q,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:I};function V(E,w,T){qe(()=>{if(typeof w=="number"){w&&(l.go?l.go(w):console.warn("Router integration does not support relative routing"));return}const te=!w||w[0]==="?",{replace:ge,resolve:P,scroll:he,state:x}={replace:!1,resolve:!te,scroll:!0,...T},B=P?E.resolvePath(w):Ee(te&&D.pathname||"",w);if(B===void 0)throw new Error(`Path '${w}' is not a routable path`);if(R.length>=Vn)throw new Error("Too many redirects");const J=f();(B!==J||x!==p())&&(Bt||d.confirm(B,T)&&(R.push({value:J,replace:ge,scroll:he,state:p()}),_("navigate",{value:B,state:x})))})}function Z(E){return E=E||Je(rt)||K,(w,T)=>V(E,w,T)}function F(E){const w=R[0];w&&(s({...E,replace:w.replace,scroll:w.scroll}),R.length=0)}function q(E,w){const T=Ne(t(),E.pathname),te=se;se="preload";for(let ge in T){const{route:P,params:he}=T[ge];P.component&&P.component.preload&&P.component.preload();const{preload:x}=P;w&&x&&vt(n(),()=>x({params:he,location:{pathname:E.pathname,search:E.search,hash:E.hash,query:xt(E),state:null,key:""},intent:"preload"}))}se=te}}function rr(e,t,n,r){const{base:i,location:s,params:l}=e,{pattern:u,component:o,preload:d}=r().route,b=N(()=>r().path);o&&o.preload&&o.preload();const m=d?d({params:l,location:s,intent:se||"initial"}):void 0;return{parent:t,pattern:u,path:b,outlet:()=>o?a(o,{params:l,location:s,data:m,get children(){return n()}}):n(),resolvePath($){return Ee(i.path(),$,b())}}}const ir=e=>t=>{const{base:n}=t,r=Mt(()=>t.children),i=N(()=>It(r(),t.base||""));let s;const l=nr(e,i,()=>s,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(l),a(Ut.Provider,{value:l,get children(){return a(ar,{routerState:l,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[ie(()=>(s=kt())&&null),a(lr,{routerState:l,get branches(){return i()}})]}})}})};function ar(e){const t=e.routerState.location,n=e.routerState.params,r=N(()=>e.preload&&qe(()=>{e.preload({params:n,location:t,intent:tr()||"initial"})}));return a(C,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:i=>a(i,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function lr(e){const t=[];let n;const r=N(Ge(e.routerState.matches,(i,s,l)=>{let u=s&&i.length===s.length;const o=[];for(let d=0,b=i.length;d<b;d++){const m=s&&s[d],k=i[d];l&&m&&k.route.key===m.route.key?o[d]=l[d]:(u=!1,t[d]&&t[d](),Wt($=>{t[d]=$,o[d]=rr(e.routerState,o[d-1]||e.routerState.base,dt(()=>r()[d+1]),()=>{const _=e.routerState.matches();return _[d]??_[0]})}))}return t.splice(i.length).forEach(d=>d()),l&&u?l:(n=o[0],o)}));return dt(()=>r()&&n)()}const dt=e=>()=>a(C,{get when(){return e()},keyed:!0,children:t=>a(rt.Provider,{value:t,get children(){return t.outlet()}})});function sr([e,t],n,r){return[e,r?i=>t(r(i)):t]}function or(e){let t=!1;const n=i=>typeof i=="string"?{value:i}:i,r=sr(re(n(e.get()),{equals:(i,s)=>i.value===s.value&&i.state===s.state}),void 0,i=>(!t&&e.set(i),Ie.registry&&!Ie.done&&(Ie.done=!0),i));return e.init&&pt(e.init((i=e.get())=>{t=!0,r[1](n(i)),t=!1})),ir({signal:r,create:e.create,utils:e.utils})}function ur(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function cr(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const dr=new Map;function gr(e=!0,t=!1,n="/_server",r){return i=>{const s=i.base.path(),l=i.navigatorFactory(i.base);let u,o;function d(f){return f.namespaceURI==="http://www.w3.org/2000/svg"}function b(f){if(f.defaultPrevented||f.button!==0||f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)return;const v=f.composedPath().find(L=>L instanceof Node&&L.nodeName.toUpperCase()==="A");if(!v||t&&!v.hasAttribute("link"))return;const p=d(v),y=p?v.href.baseVal:v.href;if((p?v.target.baseVal:v.target)||!y&&!v.hasAttribute("state"))return;const R=(v.getAttribute("rel")||"").split(/\s+/);if(v.hasAttribute("download")||R&&R.includes("external"))return;const I=p?new URL(y,document.baseURI):new URL(y);if(!(I.origin!==window.location.origin||s&&I.pathname&&!I.pathname.toLowerCase().startsWith(s.toLowerCase())))return[v,I]}function m(f){const v=b(f);if(!v)return;const[p,y]=v,D=i.parsePath(y.pathname+y.search+y.hash),R=p.getAttribute("state");f.preventDefault(),l(D,{resolve:!1,replace:p.hasAttribute("replace"),scroll:!p.hasAttribute("noscroll"),state:R?JSON.parse(R):void 0})}function k(f){const v=b(f);if(!v)return;const[p,y]=v;i.preloadRoute(y,p.getAttribute("preload")!=="false")}function $(f){clearTimeout(u);const v=b(f);if(!v)return o=null;const[p,y]=v;o!==p&&(u=setTimeout(()=>{i.preloadRoute(y,p.getAttribute("preload")!=="false"),o=p},20))}function _(f){if(f.defaultPrevented)return;let v=f.submitter&&f.submitter.hasAttribute("formaction")?f.submitter.getAttribute("formaction"):f.target.getAttribute("action");if(!v)return;if(!v.startsWith("https://action/")){const y=new URL(v,Rt);if(v=i.parsePath(y.pathname+y.search),!v.startsWith(n))return}if(f.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const p=dr.get(v);if(p){f.preventDefault();const y=new FormData(f.target,f.submitter);p.call({r:i,f:f.target},f.target.enctype==="multipart/form-data"?y:new URLSearchParams(y))}}Qe(["click","submit"]),document.addEventListener("click",m),e&&(document.addEventListener("mousemove",$,{passive:!0}),document.addEventListener("focusin",k,{passive:!0}),document.addEventListener("touchstart",k,{passive:!0})),document.addEventListener("submit",_),pt(()=>{document.removeEventListener("click",m),e&&(document.removeEventListener("mousemove",$),document.removeEventListener("focusin",k),document.removeEventListener("touchstart",k)),document.removeEventListener("submit",_)})}}function hr(e){const t=e.replace(/^.*?#/,"");if(!t.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${t}`}return t}function fr(e){const t=()=>window.location.hash.slice(1),n=wt();return or({get:t,set({value:r,replace:i,scroll:s,state:l}){i?window.history.replaceState(Nn(l),"","#"+r):window.history.pushState(l,"","#"+r);const u=r.indexOf("#"),o=u>=0?r.slice(u+1):"";cr(o,s),nt()},init:r=>ur(window,"hashchange",Yn(r,i=>!n.confirm(i&&i<0?i:t()))),create:gr(e.preload,e.explicitLinks,e.actionBase),utils:{go:r=>window.history.go(r),renderPath:r=>`#${r}`,parsePath:hr,beforeLeave:n}})(e)}var mr=h("<a>");function Q(e){e=ut({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=Vt(e,["href","state","class","activeClass","inactiveClass","end"]),n=qn(()=>e.href),r=Jn(n),i=Lt(),s=N(()=>{const l=n();if(l===void 0)return[!1,!1];const u=ue(l.split(/[?#]/,1)[0]).toLowerCase(),o=decodeURI(ue(i.pathname).toLowerCase());return[e.end?u===o:o.startsWith(u+"/")||o===u,u===o]});return(()=>{var l=g(mr);return Zt(l,ut(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!s()[0],[e.activeClass]:s()[0],...t.classList}},link:"",get"aria-current"(){return s()[1]?"page":void 0}}),!1,!1),we(),l})()}var br=h("<div class=grid><!$><!/><div>"),$r=h("<div class=boxLink>");function Ze(e){const t=e.type??"special";return(()=>{var n=g($r);return c(n,a(A,{type:t,get onClick(){return e.onClick},get children(){var r=g(br),i=r.firstChild,[s,l]=S(i.nextSibling),u=s.nextSibling;return c(r,a(G,{get icon(){return e.icon}}),s,l),c(u,()=>e.children),r}})),n})()}var Sr=h("<h3>Helfen"),vr=h("<p>Beim Kiosk und der Essensausgabe können wir immer ein paar helfende Hände gebrauchen."),kr=h("<h3>Zusammenfassung"),_r=h("<p>Erhalte einen Überblick über dein gesamtes Programm."),pr=h("<div><!$><!/><br><!$><!/>");function Ye(e){return(()=>{var t=g(pr),n=t.firstChild,[r,i]=S(n.nextSibling),s=r.nextSibling,l=s.nextSibling,[u,o]=S(l.nextSibling);return c(t,a(Q,{get href(){return e.link("/helfen")},class:"button-link",get children(){return a(Ze,{icon:"hand-heart",get children(){return[g(Sr),g(vr)]}})}}),r,i),c(t,a(Q,{get href(){return e.link("/zusammenfassung")},class:"button-link",get children(){return a(Ze,{icon:"list",get children(){return[g(kr),g(_r)]}})}}),u,o),t})()}var yr=h("<a class=header-anchor>");function Er(e){return encodeURIComponent(e.replaceAll(/\s/g,"-").replaceAll("&","").replaceAll(/-{1,}/g,"-").toLocaleLowerCase())}function at(e){const t=Er("title"in e?e.id??e.title:e.id);return a(qt,{get component(){return`h${e.level}`},id:t,get children(){var n=g(yr);return Se(n,"href",`#${t}`),c(n,(()=>{var r=ie(()=>"title"in e);return()=>r()?e.title:e.children})()),n}})}var wr=h("<div style=display:grid;gap:1rem><!$><!/><!$><!/><!$><!/>"),Rr=h("<div><div style=margin-block-end:1.5rem></div><!$><!/>"),xr=h("<p>Konflikte gefunden! Bitte stelle sicher, dass du nicht zeitlich überlappende Spielrunden eingetragen hast:"),Ar=h('<div style="display:grid;grid-template-columns:1fr max-content 1fr;gap:1rem;margin-block:0.5rem"><!$><!/><span style=color:var(--clr-warning-10);align-self:center;font-size:2rem></span><!$><!/>'),Dr=h("<div><!$><!/><div class=entries></div><div class=after-hour><div class=annotation>"),Ur=h("<div><div class=annotation></div><div class=background>"),Cr=h("<div class=entry>");function Lr(e){return(()=>{var t=g(wr),n=t.firstChild,[r,i]=S(n.nextSibling),s=r.nextSibling,[l,u]=S(s.nextSibling),o=l.nextSibling,[d,b]=S(o.nextSibling);return c(t,a(C,{get when(){return ie(()=>e.openingHours.FRIDAY.open.from!==e.openingHours.FRIDAY.open.to)()&&(e.dayFilter===null||e.dayFilter==="FRIDAY")},get children(){return a(Oe,{get programEntries(){return e.programEntries.FRIDAY},get openingHoursOfDay(){return e.openingHours.FRIDAY},get openingHours(){return e.openingHours},day:"FRIDAY",get conflictsAllowed(){return e.conflictsAllowed??!1},get columns(){return e.columns}})}}),r,i),c(t,a(C,{get when(){return e.dayFilter===null||e.dayFilter==="SATURDAY"},get children(){return a(Oe,{get programEntries(){return e.programEntries.SATURDAY},get openingHoursOfDay(){return e.openingHours.SATURDAY},get openingHours(){return e.openingHours},day:"SATURDAY",get conflictsAllowed(){return e.conflictsAllowed??!1},get columns(){return e.columns}})}}),l,u),c(t,a(C,{get when(){return e.dayFilter===null||e.dayFilter==="SUNDAY"},get children(){return a(Oe,{get programEntries(){return e.programEntries.SUNDAY},get openingHoursOfDay(){return e.openingHours.SUNDAY},get openingHours(){return e.openingHours},day:"SUNDAY",get conflictsAllowed(){return e.conflictsAllowed??!1},get columns(){return e.columns}})}}),d,b),t})()}function Oe(e){const t=e.conflictsAllowed?[]:Ir(e.programEntries);return(()=>{var n=g(Rr),r=n.firstChild,i=r.nextSibling,[s,l]=S(i.nextSibling);return c(r,a(at,{level:4,get title(){return U.days[e.day]}})),c(n,a(ke,{get fallback(){return[a(A,{type:"danger",get children(){return g(xr)}}),a(ae,{each:t,children:([u,o])=>(()=>{var d=g(Ar),b=d.firstChild,[m,k]=S(b.nextSibling),$=m.nextSibling,_=$.nextSibling,[f,v]=S(_.nextSibling);return c(d,()=>u.component(),m,k),c($,a(G,{icon:"triangle-exclamation"})),c(d,()=>o.component(),f,v),d})()})]},get children(){return a(M,{get when(){return t.length===0},get children(){return a(Fr,{get programEntries(){return e.programEntries},get openingHoursOfDay(){return e.openingHoursOfDay},get openingHours(){return e.openingHours},get day(){return e.day},get conflictsAllowed(){return e.conflictsAllowed},get columns(){return e.columns}})}})}}),s,l),n})()}function Fr(e){const t=gn(e.openingHoursOfDay.open),n=e.openingHoursOfDay.breaks.flatMap(({from:l,to:u})=>{ye(l<u,`Break is not valid, as from '${l}' is not smaller than to '${u}'`);const o=[l];let d=u-l;for(;d>1;)o.push(l+--d);return o}),r=(t[0]??0)-1,i=t.at(-1)??0,s=()=>{const l=["timetable"];return e.conflictsAllowed&&l.push(e.columns===2?"two-columns":"four-columns"),l.join(" ")};return(()=>{var l=g(Dr),u=l.firstChild,[o,d]=S(u.nextSibling),b=o.nextSibling,m=b.nextSibling,k=m.firstChild;return c(l,a(ae,{each:t,children:$=>{const _=n.includes($);return(()=>{var f=g(Ur),v=f.firstChild;return ce(f,`hour ${_?"break":""}`),c(v,$),j(p=>Pe(f,gt({from:$,to:$},r,e.day,e.openingHours),p)),f})()}}),o,d),c(b,a(ae,{get each(){return e.programEntries},children:$=>(()=>{var _=g(Cr);return c(_,()=>$.component()),j(f=>Pe(_,gt($.range,r,e.day,e.openingHours),f)),_})()})),c(k,i+1),j($=>{var _=s(),f=`grid-row: 1 / ${i-r+1};`;return _!==$.e&&ce(l,$.e=_),$.t=Pe(b,f,$.t),$},{e:void 0,t:void 0}),l})()}function gt(e,t,n,r){const{from:i,to:s}=e,l=i-t,u=s-t,o=r[n].open.to;return ye(l>0,`[${JSON.stringify(e)}] Entry can't start at ${i}.`),ye(u>0,`[${JSON.stringify(e)}] Entry can't end at ${s}.`),ye(s<=o,`[${JSON.stringify(e)}] Entry can't end at ${s}. Closing hour set to '${o}' on day '${n}'`),`grid-row: ${l} / ${u};`}function Ir(e){const t=[];return e.forEach((n,r)=>{e.slice(r+1).forEach(i=>{dn(n.range,i.range)&&t.push([n,i])})}),t}const me={kitchen:{title:"Küche",description:"Mahlzeit vorbereiten, unterstützen beim Kochen und Abwaschen."},service:{title:"Essensausgabe",description:""},cleaning:{title:"Reinigung",description:"Unterstützen beim Küche aufräumen und putzen."},kiosk:{title:"Kiosk",description:"Am Kiosk Getränke (inkl. Kaffee) und Snacks verkaufen."},flohmarkt:{title:"Flohmarkt",description:"Hilf uns beim Auf- oder Abbau des Flohmarkt und der Annahme oder Abgabe von Spielen."},checkout:{title:"Kiosk / Flohmarkt",description:"Am Kiosk Getränke und Snacks verkaufen oder am Flohmarkt die Kasse bedienen."},setup:{title:"Aufbau",description:"Hilf uns beim Zubereiten der Menüs und Aufstellen von Tischen, Stühle und der Bibliothek."},breakdown:{title:"Abbau",description:"Hilf uns beim Zusammenräumen von Tischen, Stühle, der Bibliothek und dem Flohmarkt."}},X={FRIDAY:{16:[{uuid:"eb443040-0674-429c-a3ad-48634a323b76",count:4,duration:5,kind:"setup"}],19:[{uuid:"91699a72-78d0-4dc9-bfe1-ece55b15db7d",count:1,duration:3,kind:"flohmarkt"}]},SATURDAY:{9:[{uuid:"6303bd52-cd10-4dd0-b760-b71ab971ad3b",count:4,duration:2,kind:"flohmarkt"}],10:[{uuid:"9ebca7e9-f44a-4cc9-8961-73539f17d5d6",count:2,duration:2,kind:"checkout"}],11:[{uuid:"804c379d-c747-4d7c-9f0c-a53f8548216e",count:2,duration:2,kind:"checkout"}],12:[{uuid:"bfec6f59-14eb-45b9-a21c-d33ee2205b64",count:2,duration:2,kind:"checkout"}],13:[{uuid:"8db23dfd-616e-4f1d-9a07-deb6e519d35a",count:2,duration:2,kind:"checkout"}],14:[{uuid:"477a1c27-b660-4221-9be0-de34de910f4b",count:2,duration:2,kind:"checkout"}],15:[{uuid:"516de07b-bc06-45b5-94f6-be5de186d4d5b",count:2,duration:2,kind:"checkout"}],16:[{uuid:"490c799f-ced5-461e-a483-ad6a90df221b",count:2,duration:2,kind:"checkout"}],17:[{uuid:"c9f79536-225a-41ee-93e6-ef1741b511f7",count:2,duration:2,kind:"checkout"}],18:[{uuid:"c6c3f0f7-04c6-4819-95e6-aa8476e4392c",count:2,duration:2,kind:"checkout"}],19:[{uuid:"9748b1e6-1712-449b-8dda-eb44f172071e",count:2,duration:2,kind:"checkout"}],20:[{uuid:"04f724ea-4a78-4363-ba0a-75a71ab22598",count:2,duration:2,kind:"checkout"}],21:[{uuid:"62d5af53-5e3e-4d59-b574-261e33b0a872",count:2,duration:2,kind:"checkout"}],22:[{uuid:"98fef052-02ba-4a33-ba2a-13ccad6834c7",count:2,duration:2,kind:"checkout"}],23:[{uuid:"e4700acc-7192-4063-b03d-cb4009cbe6f2",count:2,duration:1,kind:"checkout"}]},SUNDAY:{10:[{uuid:"d30340e1-e49f-44aa-bf1b-d90839b0f1aa",count:2,duration:1,kind:"checkout"},{uuid:"e1a9b252-628c-4c01-b8e1-e1964b51e646",count:2,duration:2,kind:"checkout"}],11:[{uuid:"873a1308-57bc-46bc-bdfc-a82213364c77",count:2,duration:2,kind:"checkout"}],12:[{uuid:"2e9864a9-0208-4e56-b232-dcd258e31545",count:2,duration:2,kind:"checkout"}],13:[{uuid:"caef5fea-8458-4b65-b699-9c4e5ee6589d",count:2,duration:2,kind:"checkout"}],14:[{uuid:"0da24180-0269-4206-adf7-4b9faeefa091",count:2,duration:2,kind:"checkout"}],15:[{uuid:"6c0430dd-9968-456d-bf68-d893040f73fa",count:2,duration:2,kind:"checkout"}],16:[{uuid:"40eaef18-d6a0-46e8-b3e5-a98be09cef57",count:2,duration:2,kind:"checkout"}],17:[{uuid:"3c6468ad-fdb8-432d-92ce-a52fae471206",count:2,duration:1,kind:"checkout"},{uuid:"b9da7047-c359-49fa-b558-53207ac5255a",count:2,duration:2,kind:"flohmarkt"},{uuid:"c0e1d54c-0832-4147-9054-082208dab2f2",count:4,duration:3,kind:"breakdown"}]}},Pr=[...Object.values(X.FRIDAY),...Object.values(X.SATURDAY),...Object.values(X.SUNDAY)].flatMap(e=>e.map(t=>t.uuid)),ht=Object.entries(Object.groupBy(Pr,e=>e)).reduce((e,[t,n])=>[...e,{uuid:t,count:n?.length??0}],[]).filter(({count:e})=>e!==1);if(ht.length>0)throw Error(`duplicate uuids found:  ${ht.map(({uuid:e})=>e).join(", ")}`);function Tr(e){return Be("FRIDAY",X.FRIDAY).concat(Be("SATURDAY",X.SATURDAY)).concat(Be("SUNDAY",X.SUNDAY)).find(n=>n.entry.uuid===e)??null}function Be(e,t){const n=[];return Object.entries(t).forEach(([r,i])=>{const s=Number(r);i.forEach(l=>{n.push({dateTime:{day:e,from:s,to:s+1},entry:l})})}),n}const Hr={FRIDAY:{open:{from:0,to:0},breaks:[]},SATURDAY:{open:{from:10,to:24},breaks:[]},SUNDAY:{open:{from:10,to:18},breaks:[]}},Nr={FRIDAY:{open:{from:16,to:22},breaks:[{from:16,to:22}]},SATURDAY:{open:{from:9,to:24},breaks:[{from:9,to:10}]},SUNDAY:{open:{from:10,to:20},breaks:[{from:18,to:20}]}};var Yr=h("<span>");function ft(e){const t=()=>{const n=["chip"];return n.push(e.kind??"gray"),e.inverted&&n.push("inverted"),e.size==="small"&&n.push("small"),n.join(" ")};return(()=>{var n=g(Yr);return c(n,()=>e.children),j(r=>{var i=t(),s=e.title;return i!==r.e&&ce(n,r.e=i),s!==r.t&&Se(n,"title",r.t=s),r},{e:void 0,t:void 0}),n})()}const Or=et(H().uuid());async function Pt(e){const t=await ln(e);if(t.kind==="FAILURE")return console.error("Unexpected error. Maybe network, maybe server error."),{kind:"FAILURE"};const n=Or.safeParse(t.data);return n.success?{kind:"SUCCESS",data:n.data}:{kind:"FAILURE"}}var Br=h("<p>Beim Kiosk und der Essensausgabe können wir immer ein paar helfende Hände gebrauchen. Wenn du bereit bist zu helfen, klicke in der jeweiligen Stunde auf das Handsymbol <!$><!/>."),mt=h("<br>"),jr=h("<div style=display:flex;flex-wrap:wrap;gap:1rem;justify-content:space-between><h5 style=margin:0>Filter"),zr=h("<div style=display:flex;flex-wrap:wrap;gap:0.5rem><!$><!/><!$><!/><!$><!/><!$><!/>"),Kr=h("<p>Plan konnte nicht geladen werden."),bt=h("<div><!$><!/><!$><!/><h5></h5><p class=duration><em><!$><!/> / <!$><!/>");function Mr(e){const[t]=it(),[n,r]=re(null),[i]=De(()=>Pt(String(t.secret)));return[(()=>{var s=g(Br),l=s.firstChild,u=l.nextSibling,[o,d]=S(u.nextSibling);return o.nextSibling,c(s,a(G,{icon:"hand-heart"}),o,d),s})(),g(mt),a(C,{get when(){return e.roles.includes("erklaerbaer")},get children(){return a(Q,{get href(){return e.link("/erklaerbaer")},class:"button-link",style:"margin-block-end: 1rem;",get children(){return a(oe,{icon:"hand-heart",label:"Anmelden als Erklärbär"})}})}}),a(A,{get children(){return[g(jr),(()=>{var s=g(zr),l=s.firstChild,[u,o]=S(l.nextSibling),d=u.nextSibling,[b,m]=S(d.nextSibling),k=b.nextSibling,[$,_]=S(k.nextSibling),f=$.nextSibling,[v,p]=S(f.nextSibling);return c(s,a(ne,{label:"Alle Tage",get kind(){return n()===null?"success":"gray"},onClick:()=>r(null)}),u,o),c(s,a(ne,{label:"Freitag",get kind(){return n()==="FRIDAY"?"success":"gray"},onClick:()=>r("FRIDAY")}),b,m),c(s,a(ne,{label:"Samstag",get kind(){return n()==="SATURDAY"?"success":"gray"},onClick:()=>r("SATURDAY")}),$,_),c(s,a(ne,{label:"Sonntag",get kind(){return n()==="SUNDAY"?"success":"gray"},onClick:()=>r("SUNDAY")}),v,p),s})()]}}),g(mt),a(Xe,{get fallback(){return a(A,{get children(){return U.loading.program}})},get children(){return a(C,{get when(){return i()},get fallback(){return a(A,{type:"danger",get children(){return U.error.help}})},children:s=>a(C,{get when(){return s().kind==="SUCCESS"},get fallback(){return a(A,{type:"danger",get children(){return g(Kr)}})},get children(){return a(Wr,{get helpReservations(){return e.store.helping},get externalHelpReservations(){return s().data},get isEditable(){return e.isEditable},get link(){return e.link},get dayFilter(){return n()}})}})})}})]}function Wr(e){const t=()=>{const r=[];return e.helpReservations.forEach(i=>{i.kind!=="ERKLAERBAER"&&r.push(i.helpEntryUuid)}),e.externalHelpReservations.forEach(i=>{r.push(i)}),r},n=()=>({FRIDAY:je({constants:X.FRIDAY,alreadyReservedUuids:t(),myReservations:e.helpReservations,link:e.link}),SATURDAY:je({constants:X.SATURDAY,alreadyReservedUuids:t(),myReservations:e.helpReservations,link:e.link}),SUNDAY:je({constants:X.SUNDAY,alreadyReservedUuids:t(),myReservations:e.helpReservations,link:e.link})});return a(Lr,{get programEntries(){return n()},openingHours:Nr,conflictsAllowed:!0,columns:4,get dayFilter(){return e.dayFilter}})}function je(e){const t=Ct(),n=[],r=Vr(e.alreadyReservedUuids);return Object.entries(e.constants).forEach(([i,s])=>{s.forEach(l=>{const u={from:Number(i),to:Number(i)+l.duration},o=()=>l.count-(r[l.uuid]??0),d=()=>e.myReservations.filter(m=>"helpEntryUuid"in m&&m.helpEntryUuid===l.uuid).length>0,b=()=>{const m=["box-simple","timeview-entry"];return d()&&m.push("success"),m.join(" ")};o()===0?n.push({range:u,component:()=>(()=>{var m=g(bt),k=m.firstChild,[$,_]=S(k.nextSibling),f=$.nextSibling,[v,p]=S(f.nextSibling),y=v.nextSibling,D=y.nextSibling,R=D.firstChild,I=R.firstChild,[L,Y]=S(I.nextSibling),O=L.nextSibling,K=O.nextSibling,[V,Z]=S(K.nextSibling);return m.$$click=()=>t(e.link(`/helfen/${l.uuid}`)),c(m,a(ft,{title:"Helfer:innen gesucht",get inverted(){return d()},size:"small",children:"HL"}),$,_),c(m,a(C,{get when(){return d()},get children(){return a($e,{icon:"hand-heart",kind:"ghost",onClick:()=>t(e.link(`/helfen/${l.uuid}`)),title:"Helfen"})}}),v,p),c(y,()=>me[l.kind].title),c(R,o,L,Y),c(R,()=>l.count,V,Z),j(F=>{var q=b(),E=me[l.kind].title;return q!==F.e&&ce(m,F.e=q),E!==F.t&&Se(y,"title",F.t=E),F},{e:void 0,t:void 0}),we(),m})()}):n.push({range:u,component:()=>(()=>{var m=g(bt),k=m.firstChild,[$,_]=S(k.nextSibling),f=$.nextSibling,[v,p]=S(f.nextSibling),y=v.nextSibling,D=y.nextSibling,R=D.firstChild,I=R.firstChild,[L,Y]=S(I.nextSibling),O=L.nextSibling,K=O.nextSibling,[V,Z]=S(K.nextSibling);return m.$$click=()=>t(e.link(`/helfen/${l.uuid}`)),c(m,a(ft,{title:"Helfer:innen gesucht",get inverted(){return d()},size:"small",children:"HL"}),$,_),c(m,a($e,{icon:"hand-heart",kind:"ghost",onClick:()=>t(e.link(`/helfen/${l.uuid}`)),title:"Helfen"}),v,p),c(y,()=>me[l.kind].title),c(R,()=>l.count-o(),L,Y),c(R,()=>l.count,V,Z),j(F=>{var q=b(),E=me[l.kind].title;return q!==F.e&&ce(m,F.e=q),E!==F.t&&Se(y,"title",F.t=E),F},{e:void 0,t:void 0}),we(),m})()})})}),n}function Vr(e){const t=Object.groupBy(e,r=>r),n={};for(const r of e)n[r]=t[r]?.length??0;return n}Qe(["click"]);var Zr=h("<dialog closedby=any><!$><!/><!$><!/><!$><!/>"),qr=h("<h4>");function Jr(e=!1){return{open:e}}function Gr(e){let t;const[n,r]=z(e.store);Jt(()=>{n.open?t.showModal():t.close()});function i(){r({open:!1}),e.onClose?.()}const s=()=>{const l=[];return e.type!==void 0&&l.push(e.type),e.size!==void 0&&l.push(e.size),e.onClose!==void 0&&l.push("dialog-with-close"),l};return(()=>{var l=g(Zr),u=l.firstChild,[o,d]=S(u.nextSibling),b=o.nextSibling,[m,k]=S(b.nextSibling),$=m.nextSibling,[_,f]=S($.nextSibling);l.addEventListener("close",i);var v=t;return typeof v=="function"?Gt(v,l):t=l,c(l,a(C,{get when(){return e.onClose},get children(){return a($e,{onClick:i,icon:"circle-xmark",kind:"gray"})}}),o,d),c(l,a(C,{get when(){return e.title},children:p=>(()=>{var y=g(qr);return c(y,p),y})()}),m,k),c(l,()=>e.children,_,f),j(()=>ce(l,s().join(" "))),l})()}var Qr=h("<p>");function ze(e){const[t,n]=z(e.store),r=e.showErrors==="ALWAYS",i=()=>r||t.isDirty?e.errors??[]:[];return[a(Yt,{get label(){return e.label},get name(){return e.name},get value(){return t.value},onValueUpdate:s=>{n("value",s),e.onUpdate?.()},onBlur:()=>n("isDirty",!0),get type(){return e.type},get required(){return e.required},get isHoneypot(){return e.isHoneypot},get disabled(){return e.disabled}}),a(C,{get when(){return i().length>0},get children(){return a(A,{type:"danger",get children(){return a(ae,{get each(){return i()},children:s=>(()=>{var l=g(Qr);return c(l,s),l})()})}})}})]}H().transform(e=>({value:e,isDirty:!1}));function Ke(e){return{value:e,isDirty:!1}}ve().transform(e=>({value:e,isDirty:!1}));var Xr=h("<div style=display:grid;gap:1rem><!$><!/><!$><!/>"),ei=h("<div>"),ti=h("<div style=display:grid;gap:1rem><h3>Meine Kontaktdaten</h3><p><strong>Name:</strong> <!$><!/></p><p><strong>E-Mail:</strong> <!$><!/></p><p><strong>Handynummer:</strong> <!$><!/></p><!$><!/>"),ni=h("<form novalidate><!$><!/><!$><!/><!$><!/><!$><!/>");function ri(e){return(()=>{var t=g(Xr),n=t.firstChild,[r,i]=S(n.nextSibling),s=r.nextSibling,[l,u]=S(s.nextSibling);return c(t,a(ii,{get store(){return e.store.contact},get isEditable(){return e.isEditable}}),r,i),c(t,a(A,{type:"special",children:"Eine persöhnliche Zusammenfassung folgt noch."}),l,u),t})()}function ii(e){const[t,n]=z(e.store),[r,i]=z(Jr());return a(A,{get children(){return[a(C,{get when(){return r.open},get children(){return a(ai,{dialogStore:r,get currentState(){return e.store},updateCurrentState:n})}}),(()=>{var s=g(ti),l=s.firstChild,u=l.nextSibling,o=u.firstChild,d=o.nextSibling,b=d.nextSibling,[m,k]=S(b.nextSibling),$=u.nextSibling,_=$.firstChild,f=_.nextSibling,v=f.nextSibling,[p,y]=S(v.nextSibling),D=$.nextSibling,R=D.firstChild,I=R.nextSibling,L=I.nextSibling,[Y,O]=S(L.nextSibling),K=D.nextSibling,[V,Z]=S(K.nextSibling);return c(u,()=>e.store.name,m,k),c($,()=>e.store.email,p,y),c(D,()=>e.store.mobile,Y,O),c(s,a(C,{get when(){return e.isEditable},get children(){var F=g(ei);return c(F,a(oe,{icon:"pencil",label:"Kontaktdaten editieren",onClick:()=>i("open",!0)})),F}}),V,Z),s})()]}})}function ai(e){const[t]=it(),[n]=z({name:Ke(e.currentState.name),email:Ke(e.currentState.email),mobile:Ke(e.currentState.mobile)}),[r,i]=z({kind:"IDLE",isDuplicate:!1}),s=N(()=>{const o={name:[],email:[]};return n.name.value.trim().length===0&&o.name.push(U.mandatoryField),n.email.value.trim().length===0?o.email.push(U.mandatoryField):n.email.value.includes("@")||o.email.push(U.invalidEmail),r.kind==="IDLE"&&r.isDuplicate&&o.email.push("Diese E-Mail wird bereits verwendet."),{...o,hasErrors:o.name.length+o.email.length>0}}),[l,u]=z(e.dialogStore);return a(Gr,{get store(){return e.dialogStore},title:"Kontaktdaten editieren",onClose:()=>{},size:"medium",get children(){var o=g(ni),d=o.firstChild,[b,m]=S(d.nextSibling),k=b.nextSibling,[$,_]=S(k.nextSibling),f=$.nextSibling,[v,p]=S(f.nextSibling),y=v.nextSibling,[D,R]=S(y.nextSibling);return c(o,a(ze,{get store(){return n.name},label:"Name",name:"name",showErrors:"ON_BLUR",get errors(){return s().name}}),b,m),c(o,a(ze,{get store(){return n.email},label:"E-Mail",name:"email",showErrors:"ALWAYS",get errors(){return s().email},onUpdate:()=>i({kind:"IDLE",isDuplicate:!1})}),$,_),c(o,a(ze,{get store(){return n.mobile},label:"Handynummer",name:"mobile"}),v,p),c(o,a(ne,{label:"Speichern",get disabled(){return s().hasErrors||r.kind==="CHECKING"},onClick:async()=>{if(!s().hasErrors){i({kind:"CHECKING"});const I=t.secret,L=await fetch(Ae(`/lst26/check-email?email=${n.email.value}&secret=${I}`));if(!L.ok){i({kind:"IDLE",isDuplicate:!0});return}const Y=await L.json(),O=li.safeParse(Y);if(!O.success){i({kind:"IDLE",isDuplicate:!0});return}if(O.data.kind==="FAILURE"){i({kind:"IDLE",isDuplicate:!0});return}i({kind:"IDLE",isDuplicate:!1}),e.updateCurrentState({name:n.name.value,email:n.email.value,mobile:n.mobile.value}),u("open",!1)}}}),D,R),o}})}const li=tt([W({kind:ee("SUCCESS")}),W({kind:ee("FAILURE")})]);var si=h("<div class=tooltip-wrapper><div class=tooltip></div><!$><!/>");function Me(e){return(()=>{var t=g(si),n=t.firstChild,r=n.nextSibling,[i,s]=S(r.nextSibling);return c(n,()=>e.tooltip),c(t,()=>e.children,i,s),t})()}var oi=h("<div class=quickmenu-wrapper><div class=quickmenu><!$><!/><!$><!/><!$><!/>"),ui=h('<div class="quickmenu extended"><!$><!/><!$><!/><!$><!/>'),ci=h("<div style=margin-block-start:1rem;display:flex;gap:0.5rem;align-items:center><!$><!/><em>Zuletzt gespeichert um: <!$><!/> Uhr"),di=h("<div style=margin-block-start:1rem;display:flex;gap:0.5rem;align-items:center><!$><!/><em>Am Speichern..."),gi=h("<div style=margin-block-start:1rem;display:flex;gap:0.5rem;align-items:center><!$><!/><em>Speichern war nicht möglich!");function hi(e){return(()=>{var t=g(oi),n=t.firstChild,r=n.firstChild,[i,s]=S(r.nextSibling),l=i.nextSibling,[u,o]=S(l.nextSibling),d=u.nextSibling,[b,m]=S(d.nextSibling);return c(n,a(Me,{tooltip:"Zur Übersicht",get children(){return a(Q,{get href(){return e.link(e.parentPath)},class:"button-link",get children(){return a(ne,{get label(){return a(G,{icon:"backward"})}})}})}}),i,s),c(n,a(Me,{tooltip:"Zum Helferplan",get children(){return a(Q,{get href(){return e.link("/helfen")},class:"button-link",get children(){return a(ne,{get label(){return a(G,{icon:"hand-heart"})}})}})}}),u,o),c(n,a(Me,{tooltip:"Zur Zusammenfassung",get children(){return a(Q,{get href(){return e.link("/zusammenfassung")},class:"button-link",get children(){return a(ne,{get label(){return a(G,{icon:"list"})}})}})}}),b,m),t})()}function fi(e){return[a(A,{type:"gray",get children(){var t=g(ui),n=t.firstChild,[r,i]=S(n.nextSibling),s=r.nextSibling,[l,u]=S(s.nextSibling),o=l.nextSibling,[d,b]=S(o.nextSibling);return c(t,a(Q,{get href(){return e.link(e.parentPath)},class:"button-link",get children(){return a(oe,{icon:"backward",label:"Zur Übersicht"})}}),r,i),c(t,a(Q,{get href(){return e.link("/helfen")},class:"button-link",get children(){return a(oe,{icon:"hand-heart",label:"Zum Helferplan"})}}),l,u),c(t,a(Q,{get href(){return e.link("/zusammenfassung")},class:"button-link",get children(){return a(oe,{icon:"list",label:"Zur Zusammenfassung"})}}),d,b),t}}),a(mi,{get saveState(){return e.saveState},get lastSaved(){return e.lastSaved}})]}function mi(e){return a(ke,{get children(){return[a(M,{get when(){return e.saveState==="IDLE"},get children(){var t=g(ci),n=t.firstChild,[r,i]=S(n.nextSibling),s=r.nextSibling,l=s.firstChild,u=l.nextSibling,[o,d]=S(u.nextSibling);return o.nextSibling,c(t,a(G,{icon:"circle-check"}),r,i),c(s,()=>St(e.lastSaved),o,d),t}}),a(M,{get when(){return e.saveState==="SAVING"},get children(){var t=g(di),n=t.firstChild,[r,i]=S(n.nextSibling);return r.nextSibling,c(t,a(G,{icon:"floppy-disk-circle-arrow-right"}),r,i),t}}),a(M,{get when(){return e.saveState==="ERROR"},get children(){var t=g(gi),n=t.firstChild,[r,i]=S(n.nextSibling);return r.nextSibling,c(t,a(G,{icon:"triangle-exclamation"}),r,i),t}})]}})}var bi=h("<div class=page><!$><!/><div class=page-content><!$><!/><!$><!/></div><!$><!/>"),$i=h("<h2>"),Si=h("<br>"),vi=h("<div class=extended-wrapper style=margin-block-start:1rem>");function le(e){return(()=>{var t=g(bi),n=t.firstChild,[r,i]=S(n.nextSibling),s=r.nextSibling,l=s.firstChild,[u,o]=S(l.nextSibling),d=u.nextSibling,[b,m]=S(d.nextSibling),k=s.nextSibling,[$,_]=S(k.nextSibling);return c(t,(()=>{var f=ie(()=>e.showQuickmenu!==!1);return()=>f()?a(hi,{get link(){return e.link},get saveState(){return e.saveState},get lastSaved(){return e.lastSaved},get parentPath(){return e.parentPath??"/"}}):null})(),r,i),c(s,(()=>{var f=ie(()=>e.title===void 0);return()=>f()?null:[(()=>{var v=g($i);return c(v,()=>e.title),v})(),g(Si)]})(),u,o),c(s,()=>e.children,b,m),c(t,(()=>{var f=ie(()=>e.showQuickmenu!==!1);return()=>f()?(()=>{var v=g(vi);return c(v,a(fi,{get link(){return e.link},get saveState(){return e.saveState},get lastSaved(){return e.lastSaved},get parentPath(){return e.parentPath??"/"}})),v})():null})(),$,_),t})()}var ki=h('<form class=input-button style="display:grid;gap:0rem;grid-template-columns:1fr max-content"><input type=text style=border-color:var(--clr-special-9)><!$><!/>');function $t(e){const[t,n]=re("");return(()=>{var r=g(ki),i=r.firstChild,s=i.nextSibling,[l,u]=S(s.nextSibling);return r.addEventListener("submit",o=>{o.preventDefault();const d=t();d.trim().length>0&&e.addFriend(d)}),Re(r,"noValidate",!0),i.$$input=o=>n(o.target.value),c(r,a(oe,{icon:"arrow-right",type:"submit",label:"Begleitperson anmelden",kind:"special"}),l,u),j(()=>Re(i,"value",t())),we(),r})()}Qe(["input"]);var _i=h("<p>Plan konnte nicht geladen werden."),pi=h("<h3>"),yi=h("<div class=game-dialog><ul role=list style=display:grid;gap:0.5rem><li><strong style=color:var(--clr-accent-1)>Tag, Zeit:</strong> <br><!$><!/>, <!$><!/> - <!$><!/> Uhr</li><li><strong style=color:var(--clr-accent-1)>Beschreibung:</strong> <br><!$><!/></li></ul><div class=reservations><h5 style=margin-block-start:0>Plätze reservieren</h5><div class=reservation-table>"),Ei=h("<div class=count>"),wi=h("<div class=reservation-table-entry><p>Reserviert für mich </p><!$><!/>"),Ri=h('<div class=reservation-table-entry><p>Reserviert für "<!$><!/>"</p><!$><!/>'),xi=h('<div style="display:grid;gap:1rem;grid-template-columns:max-content 1fr"><!$><!/><!$><!/>');function Ai(e){const[t,n]=z(e.store),r=Gn().uuid??"no-uuid-found",i=Tr(r),[s]=it(),[l]=De(()=>Pt(String(s.secret)));return a(Xe,{get fallback(){return a(A,{get children(){return U.loading.program}})},get children(){return a(C,{get when(){return l()},get fallback(){return a(A,{type:"danger",get children(){return U.error.help}})},children:u=>a(C,{get when(){return u().kind==="SUCCESS"},get fallback(){return a(A,{type:"danger",get children(){return g(_i)}})},get children(){return a(C,{when:i,children:o=>a(Di,{get entry(){return o()},get helpReservations(){return e.store.helping},get externalHelpReservations(){return u().data},get isEditable(){return e.isEditable},addReservation:d=>n("helping",t.helping.length,{...d,uuid:crypto.randomUUID()}),removeReservation:d=>{n("helping",t.helping.filter(b=>b.uuid!==d))}})})}})})}})}function Di(e){const{dateTime:t,entry:n}=e.entry,r=me[n.kind],i=()=>e.helpReservations.filter(o=>"helpEntryUuid"in o&&o.helpEntryUuid===n.uuid),s=e.externalHelpReservations.filter(o=>o===n.uuid).length,l=()=>Et(n.count).map(o=>{const d=i()[o];return d!==void 0?d:n.count-s<=o?{kind:"RESERVED_OTHER"}:{kind:"FREE"}}),u=()=>i().find(o=>o.kind==="SELF")!==void 0;return[(()=>{var o=g(pi);return c(o,()=>r.title),o})(),(()=>{var o=g(yi),d=o.firstChild,b=d.firstChild,m=b.firstChild,k=m.nextSibling,$=k.nextSibling,_=$.nextSibling,[f,v]=S(_.nextSibling),p=f.nextSibling,y=p.nextSibling,[D,R]=S(y.nextSibling),I=D.nextSibling,L=I.nextSibling,[Y,O]=S(L.nextSibling);Y.nextSibling;var K=b.nextSibling,V=K.firstChild,Z=V.nextSibling,F=Z.nextSibling,q=F.nextSibling,[E,w]=S(q.nextSibling),T=d.nextSibling,te=T.firstChild,ge=te.nextSibling;return c(b,()=>U.days[t.day],f,v),c(b,()=>t.from,D,R),c(b,()=>t.to,Y,O),c(K,()=>r.description,E,w),c(ge,a(ae,{get each(){return l()},children:(P,he)=>[(()=>{var x=g(Ei);return c(x,()=>he()+1),x})(),a(ke,{get children(){return[a(M,{get when(){return P.kind==="RESERVED_OTHER"},get children(){return a(A,{children:"Bereits reserviert"})}}),a(M,{get when(){return!e.isEditable},get children(){return a(A,{children:"Freier Platz"})}}),a(M,{get when(){return P.kind==="SELF"},get children(){return a(st,{type:"success",get children(){var x=g(wi),B=x.firstChild,J=B.nextSibling,[fe,de]=S(J.nextSibling);return c(x,a($e,{icon:"trash",onClick:()=>e.removeReservation(P.kind==="SELF"?P.uuid:"should not happen")}),fe,de),x}})}}),a(M,{get when(){return P.kind==="FRIEND"},get children(){return a(st,{type:"success",get children(){var x=g(Ri),B=x.firstChild,J=B.firstChild,fe=J.nextSibling,[de,Ce]=S(fe.nextSibling);de.nextSibling;var Le=B.nextSibling,[Fe,Tt]=S(Le.nextSibling);return c(B,(()=>{var Ht=ie(()=>P.kind==="FRIEND");return()=>Ht()?P.name:"[Fehler beim Laden]"})(),de,Ce),c(x,a($e,{icon:"trash",onClick:()=>e.removeReservation(P.kind==="FRIEND"?P.uuid:"should not happen")}),Fe,Tt),x}})}}),a(M,{get when(){return P.kind==="FREE"},get children(){return a(C,{get when(){return u()},get fallback(){return(()=>{var x=g(xi),B=x.firstChild,[J,fe]=S(B.nextSibling),de=J.nextSibling,[Ce,Le]=S(de.nextSibling);return c(x,a(oe,{icon:"person-to-portal",label:"Mich anmelden",kind:"success",onClick:()=>e.addReservation({kind:"SELF",helpEntryUuid:n.uuid,uuid:crypto.randomUUID()})}),J,fe),c(x,a($t,{addFriend:Fe=>e.addReservation({kind:"FRIEND",helpEntryUuid:n.uuid,name:Fe,uuid:crypto.randomUUID()})}),Ce,Le),x})()},get children(){return a($t,{addFriend:x=>e.addReservation({kind:"FRIEND",helpEntryUuid:n.uuid,name:x,uuid:crypto.randomUUID()})})}})}})]}})]})),o})()]}var Ui=h("<ul role=list>"),Ci=h("<li>"),Li=h("<label class=input-radio><input type=radio><!$><!/>");function Fi(e){const t=e.layout??"vertical";return(()=>{var n=g(Ui);return ce(n,`radio-list ${t}`),c(n,a(ae,{get each(){return e.items},children:r=>(()=>{var i=g(Ci);return c(i,a(Ii,{get label(){return r.label},get name(){return`${r.value}-${e.name}`},get value(){return r.value},get checked(){return r.checked},onValueUpdate:()=>e.onValueUpdate(r.value)})),i})()})),n})()}function Ii(e){return(()=>{var t=g(Li),n=t.firstChild,r=n.nextSibling,[i,s]=S(r.nextSibling);return Qt(n,"change",e.onValueUpdate),c(t,()=>e.label,i,s),j(()=>Se(n,"name",e.name)),j(()=>Re(n,"value",e.value)),j(()=>Re(n,"checked",e.checked)),t})()}var Pi=h("<p>Eines der Hauptziele der Luzerner Spieltage ist es, dass die Besucher/-innen noch nicht gespielte Spiele ausprobieren können. Dazu unterstützen uns jedes Jahr Freiwillige und erklären die ihnen bekannten Spiele aus der Spiele-Bibliothek. Diese Erklärbären sind durch ihr rotes T-Shirt erkennbar."),lt=h("<br>"),Ti=h("<ul><li>Sie müssen nicht alle Spiele der Spiele-Bibliothek kennen!</li><li>Sie erklären Spiele während der eingeplanten Zeit<ul><li>Grundsätzlich spielen die Erklärbären nicht mit</li><li>Sobald die Spieler/-innen die Regeln verstanden haben (z.B. nach den ersten paar Runden) verlassen sie den Tisch</li><li>Sie stehen weiterhin für Fragen zur Verfügung und kommen allenfalls periodisch zum Tisch zurück</li></ul></li><li>Sie bringen Spiele für die Spiele-Bibliothek mit welche sie erklären können<ul><li>Diese Spiele sollen ein breites Spektrum, von einfach bis komplex, abdecken</li><li>Eine Liste der mitgebrachten Spiele (Spiele-Bibliothek) wird vor dem Event von allen Erklärbären zusammen erstellt</li><li>Vor dem Event notieren die Erklärbären, was sie aus der Spiele-Bibliothek erklären können - (Mitbringen eigener Spiele ist nicht Pflicht, falls genügend Spiele aus der Liste erklärt werden können)</li></ul></li><li>Sie erarbeiten gemeinsam vor dem Event eine Empfehlungsliste aus ca.&nbsp;6&nbsp;Spielen<ul><li>Alle Erklärbären sollen die Regeln dieser Spiele vor dem Event lesen"),Hi=h("<h3>"),Ni=h("<div style=display:grid;gap:1rem><!$><!/><!$><!/>"),Yi=h("<em>Noch keine Einsätze eingetragen"),Oi=h("<h4>Tag"),Bi=h("<h4>Uhrzeit"),ji=h('<div style="display:grid;grid-template-columns:repeat(2, 1fr);gap:1rem"><!$><!/><!$><!/>'),zi=h("<h5>Warnungen"),Ki=h("<ul>"),Mi=h("<li>");function Wi(e){return[g(Pi),g(lt),a(at,{level:3,title:"Was machen die Erklärbären"}),g(Ti),a(Vi,{get store(){return e.store},get isEditable(){return e.isEditable}})]}function Vi(e){const[t,n]=z(e.store.helping);function r(){return t.filter(i=>i.kind==="ERKLAERBAER")}return[a(at,{level:3,title:"Meine Einsätze"}),g(lt),(()=>{var i=g(Ni),s=i.firstChild,[l,u]=S(s.nextSibling),o=l.nextSibling,[d,b]=S(o.nextSibling);return c(i,a(ae,{get each(){return r()},get fallback(){return g(Yi)},children:m=>a(Zi,{job:m,updateJob:k=>{n(t.map($=>$.uuid===m.uuid?k:$))},removeJob:()=>{n(t.filter(k=>k.uuid!==m.uuid))},get isEditable(){return e.isEditable}})}),l,u),c(i,a(C,{get when(){return e.isEditable},get children(){return a(Ze,{icon:"grid-2-plus",type:"success",onClick:()=>{n(t.length,{kind:"ERKLAERBAER",uuid:crypto.randomUUID(),slot:{day:"SATURDAY",from:10,to:18}})},get children(){var m=g(Hi);return c(m,()=>U.createNewEntry),m}})}}),d,b),i})()]}function Zi(e){function t(){const n=[],{day:r,from:i,to:s}=e.job.slot;i>=s&&n.push("Das Ende muss grösser sein als der Start.");const l=Hr[r],{from:u,to:o}=l.open;return u>i&&n.push(`Die Spieltage öffnen am ${U.days[r]} erst um ${u} Uhr.`),o<s&&n.push(`Die Spieltage schliessen am ${U.days[r]} um ${o} Uhr.`),n}return a(A,{get onClose(){return ie(()=>!!e.isEditable)()?e.removeJob:void 0},get children(){return[g(Oi),a(Fi,{get items(){return[{label:U.days.SATURDAY,checked:e.job.slot.day==="SATURDAY",value:"SATURDAY"},{label:U.days.SUNDAY,checked:e.job.slot.day==="SUNDAY",value:"SUNDAY"}]},onValueUpdate:n=>{e.updateJob({...e.job,slot:{...e.job.slot,day:n}})},get name(){return`day-entry-${e.job.uuid}`},layout:"horizontal",get disabled(){return!e.isEditable}}),g(lt),g(Bi),(()=>{var n=g(ji),r=n.firstChild,[i,s]=S(r.nextSibling),l=i.nextSibling,[u,o]=S(l.nextSibling);return c(n,a(ot,{label:"Start",name:"from",get value(){return e.job.slot.from},onValueUpdate:d=>e.updateJob({...e.job,slot:{...e.job.slot,from:d}}),get disabled(){return!e.isEditable}}),i,s),c(n,a(ot,{label:"Ende",name:"to",get value(){return e.job.slot.to},onValueUpdate:d=>e.updateJob({...e.job,slot:{...e.job.slot,to:d}}),get disabled(){return!e.isEditable}}),u,o),n})(),a(C,{get when(){return t().length>0},get children(){return[g(zi),(()=>{var n=g(Ki);return c(n,a(ae,{get each(){return t()},children:r=>(()=>{var i=g(Mi);return c(i,r),i})()})),n})()]}})]}})}function qi(e){const[t,n]=z({meta:{saveState:"IDLE",lastSaved:new Date,roles:e.initState.roles},save:e.initState.data}),r=crypto.randomUUID(),[i,s]=re(!1);De(()=>JSON.stringify(t.save),async()=>{if(!i()){s(!0);return}if(e.initState.status!=="published"){yt("Diese Anmeldung wurde deaktiviert und kann nicht editiert werden.",{kind:"danger",uuid:r});return}const u=en(t.save);try{const o=await kn(t.meta,u,e.secret);o.kind==="FAILURE"?console.error(o):n("meta","lastSaved",o.data)}catch(o){console.error(o),n("meta","saveState","ERROR")}});function l(u){return`${u}?secret=${e.secret}`}return a(fr,{children:[{path:"/",component:()=>a(le,{title:"Wo möchtest du starten?",link:l,get saveState(){return t.meta.saveState},get lastSaved(){return t.meta.lastSaved},get children(){return a(Ye,{link:l})}})},{path:"/runden",component:()=>a(Ye,{link:l})},{path:"/erstellen",component:()=>a(Ye,{link:l})},{path:"/helfen",component:()=>a(le,{title:"Helfen",link:l,get saveState(){return t.meta.saveState},get lastSaved(){return t.meta.lastSaved},showQuickmenu:!0,get children(){return a(Mr,{get store(){return t.save},get isEditable(){return e.initState.status==="published"},link:l,get roles(){return t.meta.roles}})}})},{path:"/helfen/:uuid",component:()=>a(le,{link:l,get saveState(){return t.meta.saveState},get lastSaved(){return t.meta.lastSaved},showQuickmenu:!0,parentPath:"/helfen",get children(){return a(Ai,{get store(){return t.save},get isEditable(){return e.initState.status==="published"}})}})},{path:"/erklaerbaer",component:()=>a(ke,{get fallback(){return a(le,{title:"Keinen Zugriff",link:l,get saveState(){return t.meta.saveState},get lastSaved(){return t.meta.lastSaved},showQuickmenu:!0,get children(){return a(A,{type:"danger",get children(){return U.error.noAccess}})}})},get children(){return a(M,{get when(){return t.meta.roles.includes("erklaerbaer")},get children(){return a(le,{title:"Helfen: Erklärbären",link:l,get saveState(){return t.meta.saveState},get lastSaved(){return t.meta.lastSaved},showQuickmenu:!0,parentPath:"/helfen",get children(){return a(Wi,{get store(){return t.save},get isEditable(){return e.initState.status==="published"}})}})}})}})},{path:"/zusammenfassung",component:()=>a(le,{title:"Zusammenfassung",link:l,get saveState(){return t.meta.saveState},get lastSaved(){return t.meta.lastSaved},showQuickmenu:!0,get children(){return a(ri,{get store(){return t.save},get isEditable(){return e.initState.status==="published"}})}})},{path:"*",component:()=>a(le,{title:"Seite nicht gefunden",link:l,get saveState(){return t.meta.saveState},get lastSaved(){return t.meta.lastSaved},showQuickmenu:!0,get children(){return a(A,{type:"danger",get children(){return U.error.siteNotFound}})}})}]})}function Ji(){return a(A,{get children(){return U.loading.registration}})}function ra(){const t=URL.parse(location.toString().replace("#/",""))?.searchParams.get("secret")??"no-secret-found",[n]=De(()=>Sn(t));return a(Xt,{fallback:r=>(console.error(r),a(A,{type:"danger",get children(){return U.error.general}})),get children(){return a(Xe,{get fallback(){return a(Ji,{})},get children(){return a(ke,{get children(){return a(M,{get when(){return n()},children:r=>{const{kind:i,value:s}=Ot(r());return i==="FAILURE"?s.reason==="SECRET_INVALID"?a(A,{type:"danger",get children(){return U.error.secretError}}):(console.error(s),a(A,{type:"danger",get children(){return U.error.ourMistake}})):a(qi,{get initState(){return s.data},secret:t})}})}})}})}})}export{ra as MeineAnmeldungWrapper};
