import{g as v,t as C,c as S,a as L,s as Y,d as I,i as f,b as i,e as b,f as w,r as V,m as N,o as Z,h as F,u as J,j as P,S as k,k as B,F as H,l as j,M as O}from"./web.CXIi3SLr.js";var p=C("<i>");function K(e){const n=(e.classes??[]).concat(["fa-duotone",`fa-${e.icon}`]);return(()=>{var t=v(p);return S(l=>{var u=n.join(" "),s=e.style;return u!==l.e&&L(t,l.e=u),l.t=Y(t,s,l.t),l},{e:void 0,t:void 0}),t})()}var Q=C("<button>");function ee(e){const n=()=>{const t=[];return e.kind!==void 0?t.push(`button-${e.kind}`):e.disabled?t.push("button-gray"):t.push("button-accent"),e.onClick===void 0&&e.type!=="submit"&&t.push("button-no-event"),e.kind==="ghost-danger"&&(t.push("button-ghost"),t.push("button-danger")),t};return(()=>{var t=v(Q);return t.$$click=l=>e.onClick?.(l),f(t,()=>e.label),S(l=>{var u=e.type??"button",s=n().join(" "),a=e.disabled===!0,r=e.title;return u!==l.e&&b(t,"type",l.e=u),s!==l.t&&L(t,l.t=s),a!==l.a&&w(t,"disabled",l.a=a),r!==l.o&&b(t,"title",l.o=r),l},{e:void 0,t:void 0,a:void 0,o:void 0}),V(),t})()}function te(e){const n=()=>{const t=["button-icon"];return e.kind!==void 0?t.push(`button-${e.kind}`):e.disabled?t.push("button-gray"):t.push("button-accent"),e.onClick===void 0&&t.push("button-no-event"),e.kind==="ghost-danger"&&(t.push("button-ghost"),t.push("button-danger")),t};return(()=>{var t=v(Q);return t.$$click=l=>e.onClick?.(l),f(t,i(K,{get icon(){return e.icon}})),S(l=>{var u=e.type??"button",s=n().join(" "),a=e.disabled===!0,r=e.title;return u!==l.e&&b(t,"type",l.e=u),s!==l.t&&L(t,l.t=s),a!==l.a&&w(t,"disabled",l.a=a),r!==l.o&&b(t,"title",l.o=r),l},{e:void 0,t:void 0,a:void 0,o:void 0}),V(),t})()}I(["click"]);var ne=C("<form method=post><!$><!/><!$><!/>");function re(e){const n=N({language:"de",submitLabel:e.language==="en"?"Submit":"Absenden"},e);let t;Z(()=>{t.setAttribute("novalidate",""),[...t.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(s=>s.remove())});async function l(u){const{target:s}=u;if(s!==null&&s instanceof HTMLFormElement){u.preventDefault();const a=new FormData(s);if(!n.isValid(a))return;try{const r=await fetch(n.actionUrl,{method:"post",body:a});r.ok?n.onSuccess():n.onError(await r.text())}catch(r){n.onError(r)}}}return(()=>{var u=v(ne),s=u.firstChild,[a,r]=F(s.nextSibling),o=a.nextSibling,[g,y]=F(o.nextSibling),h=t;return typeof h=="function"?J(h,u):t=u,u.addEventListener("submit",l),f(u,()=>n.children,a,r),f(u,i(ee,{type:"submit",get label(){return n.submitLabel}}),g,y),S(()=>b(u,"action",n.actionUrl.href)),u})()}var X=C("<label><!$><!/><input>");function R(e){const n=N({type:"text",required:!0,isHoneypot:!1},e);return(()=>{var t=v(X),l=t.firstChild,[u,s]=F(l.nextSibling),a=u.nextSibling;return f(t,()=>n.label,u,s),P(a,"blur",e.onBlur),a.$$input=r=>n.onValueUpdate(r.target.value),S(r=>{var o=n.isHoneypot?"honey":"",g=n.type,y=n.name,h=n.label,x=n.required,E=e.disabled===!0;return o!==r.e&&L(t,r.e=o),g!==r.t&&b(a,"type",r.t=g),y!==r.a&&b(a,"name",r.a=y),h!==r.o&&b(a,"placeholder",r.o=h),x!==r.i&&w(a,"required",r.i=x),E!==r.n&&w(a,"disabled",r.n=E),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),S(()=>w(a,"value",n.value)),V(),t})()}function ae(e){const n=N({type:"text",required:!0,isHoneypot:!1},e);return(()=>{var t=v(X),l=t.firstChild,[u,s]=F(l.nextSibling),a=u.nextSibling;f(t,()=>n.label,u,s);var r=n.ref;return typeof r=="function"?J(r,a):n.ref=a,P(a,"blur",e.onBlur),a.$$input=o=>n.onValueUpdate(o.target.value),S(o=>{var g=n.isHoneypot?"honey":"",y=n.type,h=n.name,x=n.label,E=n.required,m=e.disabled===!0;return g!==o.e&&L(t,o.e=g),y!==o.t&&b(a,"type",o.t=y),h!==o.a&&b(a,"name",o.a=h),x!==o.o&&b(a,"placeholder",o.o=x),E!==o.i&&w(a,"required",o.i=E),m!==o.n&&w(a,"disabled",o.n=m),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),S(()=>w(a,"value",n.value)),V(),t})()}I(["input"]);var ie=C("<label><!$><!/><textarea>");function le(e){const n=N({required:!0},e);return(()=>{var t=v(ie),l=t.firstChild,[u,s]=F(l.nextSibling),a=u.nextSibling;return f(t,()=>n.label,u,s),P(a,"blur",e.onBlur),a.$$input=r=>n.onValueUpdate(r.target.value),S(r=>{var o=e.size==="small"?"small":"",g=n.name,y=n.label,h=n.required,x=e.disabled===!0;return o!==r.e&&L(a,r.e=o),g!==r.t&&b(a,"name",r.t=g),y!==r.a&&b(a,"placeholder",r.a=y),h!==r.o&&w(a,"required",r.o=h),x!==r.i&&w(a,"disabled",r.i=x),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),S(()=>w(a,"value",n.value)),V(),t})()}I(["input"]);var ue=C("<input type=hidden>");function U(e){return(()=>{var n=v(ue);return S(()=>b(n,"name",e.name)),S(()=>w(n,"value",e.value)),n})()}var se=C("<a><!$><!/><span> <!$><!/>"),ce=C("<div><!$><!/><span></span><!$><!/>");function M(e){return(()=>{var n=v(ce),t=n.firstChild,[l,u]=F(t.nextSibling),s=l.nextSibling,a=s.nextSibling,[r,o]=F(a.nextSibling);return P(n,"click",e.onClick,!0),f(n,i(k,{get when(){return e.onClose},children:g=>i(te,{get onClick(){return g()},icon:"circle-xmark",kind:"gray"})}),l,u),f(s,()=>e.children),f(n,i(k,{get when(){return e.link!==void 0&&e.linkLabel!==void 0},get children(){var g=v(se),y=g.firstChild,[h,x]=F(y.nextSibling),E=h.nextSibling,m=E.firstChild,D=m.nextSibling,[q,A]=F(D.nextSibling);return f(g,i(K,{icon:"arrow-turn-down-right",classes:["event-icon"]}),h,x),f(E,()=>e.linkLabel,q,A),S(c=>{var d=e.link??"",$=`button button-small button-${e.type??"gray"}`;return d!==c.e&&b(g,"href",c.e=d),$!==c.t&&L(g,c.t=$),c},{e:void 0,t:void 0}),g}}),r,o),S(()=>L(n,`box-${e.type??"gray"} ${e.onClose!==void 0?"box-with-close":""}`)),V(),n})()}I(["click"]);function oe(e){return new URL(e,"https://elysium.gildedernacht.ch")}var z=C("<br>"),T=C("<p>");function G(){return{name:"",email:"",captcha:"",message:""}}function W(){return{name:[],email:[],captcha:[],message:[]}}const de=oe("/forms");function he(e){const n="Name",t=e.language!=="en"?"E-Mail":"Email",l=e.language!=="en"?"Bitte leer lassen":"leave this field empty",u=e.language!=="en"?"Nachricht":"Message",[s,a]=B(G());let r;const[o,g]=B(!1),[y,h]=B(!1);function x(){h(!1),a(G()),g(!0)}function E(c){g(!1),h(!0),console.error(c)}const[m,D]=B(W());function q(c){return d=>{h(!1),D(W()),a($=>({...$,[c]:d}))}}function A(c){D(W());const d=e.language==="en";if(s().name.trim().length===0){const $=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";D(_=>({..._,name:[..._.name,$]}))}if(s().email.trim().length===0){const $=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";D(_=>({..._,email:[..._.email,$]}))}if(r.validity.typeMismatch){const $=d?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";D(_=>({..._,email:[..._.email,$]}))}if(s().captcha.trim().length>0){const $=d?"This is field must be empty.":"Dieses Feld muss leer bleiben.";D(_=>({..._,captcha:[..._.captcha,$]}))}if(s().message.trim().length===0){const $=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";D(_=>({..._,message:[..._.message,$]}))}return m().name.length===0&&m().email.length===0&&m().captcha.length===0&&m().message.length===0}return[i(re,{actionUrl:de,get language(){return e.language??"de"},isValid:A,onSuccess:x,onError:E,get children(){return[i(R,{label:n,name:"private-name",get value(){return s().name},get onValueUpdate(){return q("name")}}),i(k,{get when(){return m().name.length>0},get children(){return i(M,{type:"danger",get children(){return i(H,{get each(){return m().name},children:c=>(()=>{var d=v(T);return f(d,c),d})()})}})}}),i(ae,{label:t,name:"private-email",type:"email",get value(){return s().email},get onValueUpdate(){return q("email")},ref(c){var d=r;typeof d=="function"?d(c):r=c}}),i(k,{get when(){return m().email.length>0},get children(){return i(M,{type:"danger",get children(){return i(H,{get each(){return m().email},children:c=>(()=>{var d=v(T);return f(d,c),d})()})}})}}),i(R,{label:l,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return s().captcha},get onValueUpdate(){return q("captcha")}}),i(k,{get when(){return m().captcha.length>0},get children(){return i(M,{type:"danger",get children(){return i(H,{get each(){return m().captcha},children:c=>(()=>{var d=v(T);return f(d,c),d})()})}})}}),i(le,{label:u,name:"private-message",get value(){return s().message},get onValueUpdate(){return q("message")}}),i(k,{get when(){return m().message.length>0},get children(){return i(M,{type:"danger",get children(){return i(H,{get each(){return m().message},children:c=>(()=>{var d=v(T);return f(d,c),d})()})}})}}),i(k,{get when(){return e.language},children:c=>i(U,{name:"language",get value(){return c()}})}),i(k,{get when(){return e.category},children:c=>i(U,{name:"category",get value(){return c()}})}),i(k,{get when(){return e.referer},children:c=>i(U,{name:"referer",get value(){return c().href}})}),i(k,{get when(){return e.redirectOnSuccess},children:c=>i(U,{name:"redirect-on-success",get value(){return c().href}})}),i(k,{get when(){return e.redirectOnFailure},children:c=>i(U,{name:"redirect-on-failure",get value(){return c().href}})}),i(k,{get when(){return e.redirectOnSpam},children:c=>i(U,{name:"redirect-on-spam",get value(){return c().href}})})]}}),i(k,{get when(){return y()},get children(){return[v(z),i(M,{type:"danger",get children(){return i(j,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return i(O,{get when(){return e.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),i(k,{get when(){return o()},get children(){return[v(z),i(M,{type:"success",get children(){return i(j,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return i(O,{get when(){return e.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{he as ContactFormImpl};
