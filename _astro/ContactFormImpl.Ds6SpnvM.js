import{g as m,t as w,c as S,a as F,s as X,d as N,i as v,b as n,e as x,f as C,r as V,m as P,o as Y,h as D,u as G,j as Z,S as _,k as H,F as T,l as W,M as O}from"./web.BqEwjiIp.js";var p=w("<i>");function J(t){const e=(t.classes??[]).concat(["fa-duotone",`fa-${t.icon}`]);return(()=>{var r=m(p);return S(d=>{var i=e.join(" "),l=t.style;return i!==d.e&&F(r,d.e=i),d.t=X(r,l,d.t),d},{e:void 0,t:void 0}),r})()}var K=w("<button>");function ee(t){return(()=>{var e=m(K);return e.$$click=()=>t.onClick?.(),v(e,()=>t.label),S(r=>{var d=t.type??"button",i=`button-${t.kind??(t.disabled?"gray":"accent")}`,l=t.disabled===!0;return d!==r.e&&x(e,"type",r.e=d),i!==r.t&&F(e,r.t=i),l!==r.a&&C(e,"disabled",r.a=l),r},{e:void 0,t:void 0,a:void 0}),V(),e})()}function te(t){return(()=>{var e=m(K);return e.$$click=()=>t.onClick?.(),v(e,n(J,{get icon(){return t.icon}})),S(r=>{var d=t.type??"button",i=`button-${t.kind??(t.disabled?"gray":"accent")} button-icon`,l=t.disabled===!0;return d!==r.e&&x(e,"type",r.e=d),i!==r.t&&F(e,r.t=i),l!==r.a&&C(e,"disabled",r.a=l),r},{e:void 0,t:void 0,a:void 0}),V(),e})()}N(["click"]);var ne=w("<form method=post><!$><!/><!$><!/>");function re(t){const e=P({language:"de",submitLabel:t.language==="en"?"Submit":"Absenden"},t);let r;Y(()=>{r.setAttribute("novalidate",""),[...r.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(l=>l.remove())});async function d(i){const{target:l}=i;if(l!==null&&l instanceof HTMLFormElement){i.preventDefault();const u=new FormData(l);if(!e.isValid(u))return;try{const a=await fetch(e.actionUrl,{method:"post",body:u});a.ok?e.onSuccess():e.onError(await a.text())}catch(a){e.onError(a)}}}return(()=>{var i=m(ne),l=i.firstChild,[u,a]=D(l.nextSibling),s=u.nextSibling,[g,f]=D(s.nextSibling),h=r;return typeof h=="function"?G(h,i):r=i,i.addEventListener("submit",d),v(i,()=>e.children,u,a),v(i,n(ee,{type:"submit",get label(){return e.submitLabel}}),g,f),S(()=>x(i,"action",e.actionUrl.href)),i})()}var Q=w("<label><!$><!/><input>");function R(t){const e=P({type:"text",required:!0,isHoneypot:!1},t);return(()=>{var r=m(Q),d=r.firstChild,[i,l]=D(d.nextSibling),u=i.nextSibling;return v(r,()=>e.label,i,l),u.$$input=a=>e.onValueUpdate(a.target.value),S(a=>{var s=e.isHoneypot?"honey":"",g=e.type,f=e.name,h=e.label,k=e.required;return s!==a.e&&F(r,a.e=s),g!==a.t&&x(u,"type",a.t=g),f!==a.a&&x(u,"name",a.a=f),h!==a.o&&x(u,"placeholder",a.o=h),k!==a.i&&C(u,"required",a.i=k),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),S(()=>C(u,"value",e.value)),V(),r})()}function ae(t){const e=P({type:"text",required:!0,isHoneypot:!1},t);return(()=>{var r=m(Q),d=r.firstChild,[i,l]=D(d.nextSibling),u=i.nextSibling;v(r,()=>e.label,i,l);var a=e.ref;return typeof a=="function"?G(a,u):e.ref=u,u.$$input=s=>e.onValueUpdate(s.target.value),S(s=>{var g=e.isHoneypot?"honey":"",f=e.type,h=e.name,k=e.label,L=e.required;return g!==s.e&&F(r,s.e=g),f!==s.t&&x(u,"type",s.t=f),h!==s.a&&x(u,"name",s.a=h),k!==s.o&&x(u,"placeholder",s.o=k),L!==s.i&&C(u,"required",s.i=L),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),S(()=>C(u,"value",e.value)),V(),r})()}N(["input"]);var ie=w("<label><!$><!/><textarea>");function le(t){const e=P({required:!0},t);return(()=>{var r=m(ie),d=r.firstChild,[i,l]=D(d.nextSibling),u=i.nextSibling;return v(r,()=>e.label,i,l),u.$$input=a=>e.onValueUpdate(a.target.value),S(a=>{var s=t.size==="sm"?"small":"",g=e.name,f=e.label,h=e.required;return s!==a.e&&F(u,a.e=s),g!==a.t&&x(u,"name",a.t=g),f!==a.a&&x(u,"placeholder",a.a=f),h!==a.o&&C(u,"required",a.o=h),a},{e:void 0,t:void 0,a:void 0,o:void 0}),S(()=>C(u,"value",e.value)),V(),r})()}N(["input"]);var ue=w("<input type=hidden>");function U(t){return(()=>{var e=m(ue);return S(()=>x(e,"name",t.name)),S(()=>C(e,"value",t.value)),e})()}var ce=w("<a><!$><!/><span> <!$><!/>"),se=w("<div><!$><!/><span></span><!$><!/>");function M(t){return(()=>{var e=m(se),r=e.firstChild,[d,i]=D(r.nextSibling),l=d.nextSibling,u=l.nextSibling,[a,s]=D(u.nextSibling);return Z(e,"click",t.onClick),v(e,n(_,{get when(){return t.onClose},children:g=>n(te,{get onClick(){return g()},icon:"circle-xmark",kind:"gray"})}),d,i),v(l,()=>t.children),v(e,n(_,{get when(){return t.link!==void 0&&t.linkLabel!==void 0},get children(){var g=m(ce),f=g.firstChild,[h,k]=D(f.nextSibling),L=h.nextSibling,b=L.firstChild,E=b.nextSibling,[q,A]=D(E.nextSibling);return v(g,n(J,{icon:"arrow-turn-down-right",classes:["event-icon"]}),h,k),v(L,()=>t.linkLabel,q,A),S(c=>{var o=t.link??"",$=`button button-small button-${t.type??"gray"}`;return o!==c.e&&x(g,"href",c.e=o),$!==c.t&&F(g,c.t=$),c},{e:void 0,t:void 0}),g}}),a,s),S(()=>F(e,`box-${t.type??"gray"} ${t.onClose!==void 0?"box-with-close":""}`)),V(),e})()}N(["click"]);function oe(t){return new URL(t,"https://elysium.gildedernacht.ch")}var j=w("<br>"),I=w("<p>");function z(){return{name:"",email:"",captcha:"",message:""}}function B(){return{name:[],email:[],captcha:[],message:[]}}const de=oe("/forms");function he(t){const e="Name",r=t.language!=="en"?"E-Mail":"Email",d=t.language!=="en"?"Bitte leer lassen":"leave this field empty",i=t.language!=="en"?"Nachricht":"Message",[l,u]=H(z());let a;const[s,g]=H(!1),[f,h]=H(!1);function k(){h(!1),u(z()),g(!0)}function L(c){g(!1),h(!0),console.error(c)}const[b,E]=H(B());function q(c){return o=>{h(!1),E(B()),u($=>({...$,[c]:o}))}}function A(c){E(B());const o=t.language==="en";if(l().name.trim().length===0){const $=o?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(y=>({...y,name:[...y.name,$]}))}if(l().email.trim().length===0){const $=o?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(y=>({...y,email:[...y.email,$]}))}if(a.validity.typeMismatch){const $=o?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";E(y=>({...y,email:[...y.email,$]}))}if(l().captcha.trim().length>0){const $=o?"This is field must be empty.":"Dieses Feld muss leer bleiben.";E(y=>({...y,captcha:[...y.captcha,$]}))}if(l().message.trim().length===0){const $=o?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(y=>({...y,message:[...y.message,$]}))}return b().name.length===0&&b().email.length===0&&b().captcha.length===0&&b().message.length===0}return[n(re,{actionUrl:de,get language(){return t.language??"de"},isValid:A,onSuccess:k,onError:L,get children(){return[n(R,{label:e,name:"private-name",get value(){return l().name},get onValueUpdate(){return q("name")}}),n(_,{get when(){return b().name.length>0},get children(){return n(M,{type:"danger",get children(){return n(T,{get each(){return b().name},children:c=>(()=>{var o=m(I);return v(o,c),o})()})}})}}),n(ae,{label:r,name:"private-email",type:"email",get value(){return l().email},get onValueUpdate(){return q("email")},ref(c){var o=a;typeof o=="function"?o(c):a=c}}),n(_,{get when(){return b().email.length>0},get children(){return n(M,{type:"danger",get children(){return n(T,{get each(){return b().email},children:c=>(()=>{var o=m(I);return v(o,c),o})()})}})}}),n(R,{label:d,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return l().captcha},get onValueUpdate(){return q("captcha")}}),n(_,{get when(){return b().captcha.length>0},get children(){return n(M,{type:"danger",get children(){return n(T,{get each(){return b().captcha},children:c=>(()=>{var o=m(I);return v(o,c),o})()})}})}}),n(le,{label:i,name:"private-message",get value(){return l().message},get onValueUpdate(){return q("message")}}),n(_,{get when(){return b().message.length>0},get children(){return n(M,{type:"danger",get children(){return n(T,{get each(){return b().message},children:c=>(()=>{var o=m(I);return v(o,c),o})()})}})}}),n(_,{get when(){return t.language},children:c=>n(U,{name:"language",get value(){return c()}})}),n(_,{get when(){return t.category},children:c=>n(U,{name:"category",get value(){return c()}})}),n(_,{get when(){return t.referer},children:c=>n(U,{name:"referer",get value(){return c().href}})}),n(_,{get when(){return t.redirectOnSuccess},children:c=>n(U,{name:"redirect-on-success",get value(){return c().href}})}),n(_,{get when(){return t.redirectOnFailure},children:c=>n(U,{name:"redirect-on-failure",get value(){return c().href}})}),n(_,{get when(){return t.redirectOnSpam},children:c=>n(U,{name:"redirect-on-spam",get value(){return c().href}})})]}}),n(_,{get when(){return f()},get children(){return[m(j),n(M,{type:"danger",get children(){return n(W,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return n(O,{get when(){return t.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),n(_,{get when(){return s()},get children(){return[m(j),n(M,{type:"success",get children(){return n(W,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return n(O,{get when(){return t.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{he as ContactFormImpl};
