import{c as We,o as Y,n as De,s as F,e as Ve,d as ke,u as dt,l as de,f as nn,g as rn,h as Ct,i as J,B as w,j as X,q as me,r as an,b as ae,k as Re,I as ln,m as ue,S as kt,p as pt,t as sn}from"./utils.CNb1DqHY.js";import{g as h,a as f,i as c,c as a,t as m,r as Pt,h as z,j as Ft,k as gt,l as Lt,e as oe,b as j,n as ht,p as mt,q as un,w as on,x as cn,y as dn,z as gn,A as W,S as E,B as hn,C as It,D as Ge,E as ft,m as yt,G as mn,H as fn,I as je,s as xe,J as $n,M as Q,F as ge,f as Fe,K as $e,L as Qe,N as Le,O as bn,u as Sn,d as pe,P as _n,Q as Yt,R as st}from"./web.BGDrlDKA.js";import{c as ce,u as vn}from"./store.XlVLhlw3.js";import{E as se}from"./ExitSpa.B46xHIx7.js";import"./Textarea.Df3zblOd.js";const[Ce,ze]=ce([]);function Nt(e,n){if(n?.uuid!==void 0&&Ce.find(o=>o.uuid===n.uuid)!==void 0)return ut(n.uuid,e,n);const t=n?.uuid??crypto.randomUUID(),r=n?.duration??5e3,i=n?.kind??"gray",l=n?.dismissable??!0,s=setTimeout(()=>{ze(Ce.filter(o=>o.uuid!==t))},r);return ze(Ce.length,{uuid:t,kind:i,message:e,duration:r,dismissable:l,cleanup:()=>clearTimeout(s)}),t}function ut(e,n,t){const r=Ce.find(u=>u.uuid===e);if(r===void 0)return e;r.cleanup();const i=t.duration??r.duration,l=t.kind??r.kind,s=t?.dismissable??r.dismissable,o=setTimeout(()=>{ze(Ce.filter(u=>u.uuid!==e))},i);return ze(u=>u.uuid===e,{uuid:e,kind:l,message:n,duration:i,dismissable:s,cleanup:()=>clearTimeout(o)}),e}const kn=We(["SATURDAY","SUNDAY"]);Y({uuid:F().uuid(),day:kn,from:De(),to:De()}).refine(e=>e.from<e.to,{message:"A TimeSlot can't end before it starts."});Y({name:F(),label:F(),description:F()});const Ht=We(["draft","published","archived"]);async function pn(e){const n=new URL(Ve("/lst26/load"));n.searchParams.append("secret",e);const t=await fetch(n);if(!t.ok)return{kind:"FAILURE"};const r=await t.json();return typeof r=="object"&&r!==null?{kind:"SUCCESS",data:r}:(console.error("`last_save` not found on ",r),{kind:"FAILURE"})}async function yn(e,n){try{const t=await fetch(Ve("/lst26/save"),{method:"POST",body:JSON.stringify({secret:n,save:e}),headers:{"Content-Type":"application/json"}});return t.ok?{kind:"SUCCESS",data:n}:(console.error(await t.text()),{kind:"FAILURE"})}catch(t){return console.error(t),{kind:"FAILURE"}}}async function Dn(){try{const e=new URL(Ve("/lst26/public")),n=await fetch(e,{headers:{"Content-Type":"application/json"}});return n.ok?{kind:"SUCCESS",data:await n.json()}:(console.error(await n.text()),{kind:"FAILURE"})}catch(e){return console.error(e),{kind:"FAILURE"}}}We(["SAVING","IDLE","ERROR"]);const xn=ke(dt([de("admin"),de("erklaerbaer")])),ot=We(["FRIDAY","SATURDAY","SUNDAY"]),En=Y({from:De(),to:De()}),wn=En.extend({day:ot});function Ne(e,n){const{startTime:t,endTime:r}=n;return!(t.hour>e.hour||t.hour===e.hour&&t.minute>e.minute||r.hour<e.hour||r.hour===e.hour&&r.minute<e.minute)}function An(e,n){const{startTime:t,endTime:r}=e,{startTime:i,endTime:l}=n;return Ne(t,n)||Ne(r,n)||Ne(i,e)||Ne(l,e)||t===i&&r===l}function Rn(e,n=!1){const{from:t,to:r}=e;if(t>r)return[];const i=r-t;return Ot(n?i+1:i,t)}function Ot(e,n=0){return[...Array(e)].map((t,r)=>r+n)}function Me(e,n){const{minutes:t}=n??{minutes:!0};return t?`${e.hour}.${e.minute.toString().padStart(2,"0")}`:`${e.hour}`}function Tn(e,n){const t=e.minute+e.hour*60,r=n.minute+n.hour*60,i=Math.abs(r-t),l=i%60,s=Math.round((i-l)/60);return l===0?`${s} ${s===1?"Stunde":"Stunden"}`:s===0?`${l} ${l===1?"Minute":"Minuten"}`:`${s},${l} Stunden`}const Un=Y({name:F(),email:F(),mobile:F()}),Cn=Y({kind:de("ERKLAERBAER"),uuid:F().uuid(),slot:wn}),Pn=dt([Y({kind:de("SELF"),helpEntryUuid:F().uuid(),uuid:F().uuid()}),Y({kind:de("FRIEND"),helpEntryUuid:F().uuid(),name:F(),uuid:F().uuid()}),Cn]),Fn=Y({start:Y({day:ot,time:F()}),end:Y({day:ot,time:F()})}),Ln=Y({uuid:F().uuid(),status:Ht,title:F(),shortDescription:F(),longDescription:F(),slots:ke(Fn),playerMax:De(),tagNames:ke(F())}),In=Y({}),Yn=Y({version:de(7),contact:Un,config:Y({wantsUpdates:nn()}),helping:ke(Pn),program:Y({organising:ke(Ln),participating:ke(In)})}),Nn=Y({kind:de("SUCCESS"),status:Ht,roles:xn,data:Yn});async function Hn(e){if(e.length!==36&&e.length!==4)return{kind:"FAILURE",reason:"SECRET_INVALID"};const n=await pn(e);if(n.kind==="FAILURE")return console.error("Unexpected error. Maybe network, maybe server error."),{kind:"FAILURE",reason:"GENERAL"};const t=Nn.safeParse(n.data);return t.success?{kind:"SUCCESS",data:t.data}:(console.error(t.error),{kind:"FAILURE",reason:"PARSE_ERROR"})}const Xe=crypto.randomUUID();async function On(e,n,t){const[r,i]=ce(e);i("saveState","SAVING"),Nt("Am Speichern...",{uuid:Xe,dismissable:!1});const l=new Date;try{if((await yn(n,t)).kind==="FAILURE")throw Error("")}catch(s){return i("saveState","ERROR"),console.error(s),ut(Xe,"Speichern war nicht möglich!",{kind:"danger",duration:1e4,dismissable:!0}),{kind:"FAILURE"}}return ut(Xe,`Zuletzt gespeichert um: ${Ct(l)} Uhr`,{kind:"success",dismissable:!0}),i("saveState","IDLE"),{kind:"SUCCESS",data:l}}const Bn=rn(On,1e3);var Dt=m("<br>"),jn=m("<strong>Donnerstag, 21. August 2025"),zn=m("<p>Deine Anmeldung wird geladen..."),Mn=m("<p>Das Programm wird geladen..."),Kn=m("<p>Leider ist ein unerwarteter Fehler passiert. Versuche deine Anmeldung erneut zu laden. Wiederholt sich dieser Fehler, bitte kontaktiere uns sobald als möglich über das <!$><!/>, da dies nicht passieren sollte."),Wn=m("<p>Wir konnten leider keine Anmeldung finden. Wenn du bereits eine Anmeldung begonnen hast, solltest du den korrekten Link per E-Mail erhalten haben.<br><br> Falls du noch keine Anmeldung begonnen hast, kannst du <!$><!/> deine persönliche Anmeldung beginnen. <br><br>Für generelle Fragen oder Probleme, schreibe uns doch bitte über unser <!$><!/>."),Vn=m("<p>Wir konnten leider keine Spielrunde unter diesem Link finden.<br><br>Vermutlich liegt es an uns. Bitte kontaktiere uns sobald als möglich über das "),Zn=m("<p>Leider ist ein unerwarteter Fehler passiert. Vermutlich liegt es an uns. Bitte kontaktiere uns sobald als möglich über das <!$><!/>."),Jn=m("<p>Leider ist ein unerwarteter Fehler passiert beim Laden des Programmes. Vermutlich liegt es an uns. Bitte kontaktiere uns sobald als möglich über das <!$><!/>."),qn=m("<p>Leider ist ein unerwarteter Fehler passiert beim Laden von Daten. Vermutlich liegt es an uns. Bitte kontaktiere uns sobald als möglich über das <!$><!/>."),Gn=m("<p>Leider ist das keine gültige Seite. Versuche deine Anmeldung erneut zu laden. Wiederholt sich dieser Fehler, bitte kontaktiere uns sobald als möglich über das <!$><!/>, da dies nicht passieren sollte."),Qn=m("<p>Leider hast du keinen Zugriff auf diese Seite. Sollte dies ein Fehler sein, dann kontaktiere uns sobald als möglich über das <!$><!/>.");h(Dt),h(Dt),h(jn);const Xn={registration:h(zn),program:h(Mn)},er={general:(()=>{var e=h(Kn),n=e.firstChild,t=n.nextSibling,[r,i]=f(t.nextSibling);return r.nextSibling,c(e,a(se,{href:"/kontakt",children:"Kontaktformular"}),r,i),e})(),secretError:(()=>{var e=h(Wn),n=e.firstChild,t=n.nextSibling,r=t.nextSibling,i=r.nextSibling,l=i.nextSibling,[s,o]=f(l.nextSibling),u=s.nextSibling,d=u.nextSibling,g=d.nextSibling,b=g.nextSibling,_=b.nextSibling,[S,k]=f(_.nextSibling);return S.nextSibling,c(e,a(se,{href:"/anmeldung",children:"hier"}),s,o),c(e,a(se,{href:"/kontakt",children:"Kontaktformular"}),S,k),e})(),gameroundUuidError:h(Vn),ourMistake:(()=>{var e=h(Zn),n=e.firstChild,t=n.nextSibling,[r,i]=f(t.nextSibling);return r.nextSibling,c(e,a(se,{href:"/kontakt",children:"Kontaktformular"}),r,i),e})(),program:(()=>{var e=h(Jn),n=e.firstChild,t=n.nextSibling,[r,i]=f(t.nextSibling);return r.nextSibling,c(e,a(se,{href:"/kontakt",children:"Kontaktformular"}),r,i),e})(),help:(()=>{var e=h(qn),n=e.firstChild,t=n.nextSibling,[r,i]=f(t.nextSibling);return r.nextSibling,c(e,a(se,{href:"/kontakt",children:"Kontaktformular"}),r,i),e})(),siteNotFound:(()=>{var e=h(Gn),n=e.firstChild,t=n.nextSibling,[r,i]=f(t.nextSibling);return r.nextSibling,c(e,a(se,{href:"/kontakt",children:"Kontaktformular"}),r,i),e})(),noAccess:(()=>{var e=h(Qn),n=e.firstChild,t=n.nextSibling,[r,i]=f(t.nextSibling);return r.nextSibling,c(e,a(se,{href:"/kontakt",children:"Kontaktformular"}),r,i),e})()},tr="Neue Spielrunde erstellen",nr="Neuer Eintrag erstellen",rr="Die Eingabe scheint keine gültige E-Mail-Adresse zu sein.",ir="Dies ist ein Pflichtfeld.",ar={FRIDAY:"Freitag",SATURDAY:"Samstag",SUNDAY:"Sonntag"},lr={draft:"Entwurf",published:"Veröffentlicht",archived:"Gelöscht"},T={loading:Xn,error:er,createNewGameRound:tr,createNewEntry:nr,invalidEmail:rr,mandatoryField:ir,days:ar,publishingSteps:lr};function Bt(){let e=new Set;function n(i){return e.add(i),()=>e.delete(i)}let t=!1;function r(i,l){if(t)return!(t=!1);const s={to:i,options:l,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const o of e)o.listener({...s,from:o.location,retry:u=>{u&&(t=!0),o.navigate(i,{...l,resolve:!1})}});return!s.defaultPrevented}return{subscribe:n,confirm:r}}let ct;function $t(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),ct=window.history.state._depth}$t();function sr(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function ur(e,n){let t=!1;return()=>{const r=ct;$t();const i=r==null?null:ct-r;if(t){t=!1;return}i&&n(i)?(t=!0,window.history.go(-i)):e()}}const or=/^(?:[a-z0-9]+:)?\/\//i,cr=/^\/+|(\/)\/+$/g,jt="http://sr";function ye(e,n=!1){const t=e.replace(cr,"$1");return t?n||/^[?#]/.test(t)?t:"/"+t:""}function Oe(e,n,t){if(or.test(n))return;const r=ye(e),i=t&&ye(t);let l="";return!i||n.startsWith("/")?l=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?l=r+i:l=i,(l||"/")+ye(n,!l)}function dr(e,n){if(e==null)throw new Error(n);return e}function gr(e,n){return ye(e).replace(/\/*(\*.*)?$/g,"")+ye(n)}function zt(e){const n={};return e.searchParams.forEach((t,r)=>{r in n?Array.isArray(n[r])?n[r].push(t):n[r]=[n[r],t]:n[r]=t}),n}function hr(e,n,t){const[r,i]=e.split("/*",2),l=r.split("/").filter(Boolean),s=l.length;return o=>{const u=o.split("/").filter(Boolean),d=u.length-s;if(d<0||d>0&&i===void 0&&!n)return null;const g={path:s?"":"/",params:{}},b=_=>t===void 0?void 0:t[_];for(let _=0;_<s;_++){const S=l[_],k=S[0]===":",$=k?u[_]:u[_].toLowerCase(),v=k?S.slice(1):S.toLowerCase();if(k&&et($,b(v)))g.params[v]=$;else if(k||!et($,v))return null;g.path+=`/${$}`}if(i){const _=d?u.slice(-d).join("/"):"";if(et(_,b(i)))g.params[i]=_;else return null}return g}}function et(e,n){const t=r=>r===e;return n===void 0?!0:typeof n=="string"?t(n):typeof n=="function"?n(e):Array.isArray(n)?n.some(t):n instanceof RegExp?n.test(e):!1}function mr(e){const[n,t]=e.pattern.split("/*",2),r=n.split("/").filter(Boolean);return r.reduce((i,l)=>i+(l.startsWith(":")?2:3),r.length-(t===void 0?0:1))}function Mt(e){const n=new Map,t=Ft();return new Proxy({},{get(r,i){return n.has(i)||Pt(t,()=>n.set(i,z(()=>e()[i]))),n.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())},has(r,i){return i in e()}})}function fr(e,n){const t=new URLSearchParams(e);Object.entries(n).forEach(([i,l])=>{l==null||l===""||l instanceof Array&&!l.length?t.delete(i):l instanceof Array?(t.delete(i),l.forEach(s=>{t.append(i,String(s))})):t.set(i,String(l))});const r=t.toString();return r?`?${r}`:""}function Kt(e){let n=/(\/?\:[^\/]+)\?/.exec(e);if(!n)return[e];let t=e.slice(0,n.index),r=e.slice(n.index+n[0].length);const i=[t,t+=n[1]];for(;n=/^(\/\:[^\/]+)\?/.exec(r);)i.push(t+=n[1]),r=r.slice(n[0].length);return Kt(r).reduce((l,s)=>[...l,...i.map(o=>o+s)],[])}const $r=100,Wt=Lt(),bt=Lt(),Ie=()=>dr(gt(Wt),"<A> and 'use' router primitives can be only used inside a Route."),br=()=>gt(bt)||Ie().base,Sr=e=>{const n=br();return z(()=>n.resolvePath(e()))},_r=e=>{const n=Ie();return z(()=>{const t=e();return t!==void 0?n.renderPath(t):t})},St=()=>Ie().navigatorFactory(),Vt=()=>Ie().location,Zt=()=>Ie().params,vr=()=>{const e=Vt(),n=St(),t=(r,i)=>{const l=mt(()=>fr(e.search,r)+e.hash);n(l,{scroll:!1,resolve:!1,...i})};return[e.query,t]};function kr(e,n=""){const{component:t,preload:r,load:i,children:l,info:s}=e,o=!l||Array.isArray(l)&&!l.length,u={key:e,component:t,preload:r||i,info:s};return Jt(e.path).reduce((d,g)=>{for(const b of Kt(g)){const _=gr(n,b);let S=o?_:_.split("/*",1)[0];S=S.split("/").map(k=>k.startsWith(":")||k.startsWith("*")?k:encodeURIComponent(k)).join("/"),d.push({...u,originalPath:g,pattern:S,matcher:hr(S,!o,e.matchFilters)})}return d},[])}function pr(e,n=0){return{routes:e,score:mr(e[e.length-1])*1e4-n,matcher(t){const r=[];for(let i=e.length-1;i>=0;i--){const l=e[i],s=l.matcher(t);if(!s)return null;r.unshift({...s,route:l})}return r}}}function Jt(e){return Array.isArray(e)?e:[e]}function qt(e,n="",t=[],r=[]){const i=Jt(e);for(let l=0,s=i.length;l<s;l++){const o=i[l];if(o&&typeof o=="object"){o.hasOwnProperty("path")||(o.path="");const u=kr(o,n);for(const d of u){t.push(d);const g=Array.isArray(o.children)&&o.children.length===0;if(o.children&&!g)qt(o.children,d.pattern,t,r);else{const b=pr([...t],r.length);r.push(b)}t.pop()}}}return t.length?r:r.sort((l,s)=>s.score-l.score)}function tt(e,n){for(let t=0,r=e.length;t<r;t++){const i=e[t].matcher(n);if(i)return i}return[]}function yr(e,n,t){const r=new URL(jt),i=z(g=>{const b=e();try{return new URL(b,r)}catch{return console.error(`Invalid path ${b}`),g}},r,{equals:(g,b)=>g.href===b.href}),l=z(()=>i().pathname),s=z(()=>i().search,!0),o=z(()=>i().hash),u=()=>"",d=ht(s,()=>zt(i()));return{get pathname(){return l()},get search(){return s()},get hash(){return o()},get state(){return n()},get key(){return u()},query:t?t(d):Mt(d)}}let Se;function Dr(){return Se}function xr(e,n,t,r={}){const{signal:[i,l],utils:s={}}=e,o=s.parsePath||(D=>D),u=s.renderPath||(D=>D),d=s.beforeLeave||Bt(),g=Oe("",r.base||"");if(g===void 0)throw new Error(`${g} is not a valid base path`);g&&!i().value&&l({value:g,replace:!0,scroll:!1});const[b,_]=oe(!1);let S;const k=(D,A)=>{A.value===$()&&A.state===p()||(S===void 0&&_(!0),Se=D,S=A,on(()=>{S===A&&(v(S.value),y(S.state),dn(),N[1](O=>O.filter(te=>te.pending)))}).finally(()=>{S===A&&cn(()=>{Se=void 0,D==="navigate"&&Z(S),_(!1),S=void 0})}))},[$,v]=oe(i().value),[p,y]=oe(i().state),C=yr($,p,s.queryWrapper),P=[],N=oe([]),H=z(()=>typeof r.transformUrl=="function"?tt(n(),r.transformUrl(C.pathname)):tt(n(),C.pathname)),V=()=>{const D=H(),A={};for(let O=0;O<D.length;O++)Object.assign(A,D[O].params);return A},M=s.paramsWrapper?s.paramsWrapper(V,n):Mt(V),ee={pattern:g,path:()=>g,outlet:()=>null,resolvePath(D){return Oe(g,D)}};return j(ht(i,D=>k("native",D),{defer:!0})),{base:ee,location:C,params:M,isRouting:b,renderPath:u,parsePath:o,navigatorFactory:K,matches:H,beforeLeave:d,preloadRoute:G,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:N};function q(D,A,O){mt(()=>{if(typeof A=="number"){A&&(s.go?s.go(A):console.warn("Router integration does not support relative routing"));return}const te=!A||A[0]==="?",{replace:be,resolve:ne,scroll:L,state:re}={replace:!1,resolve:!te,scroll:!0,...O},U=ne?D.resolvePath(A):Oe(te&&C.pathname||"",A);if(U===void 0)throw new Error(`Path '${A}' is not a routable path`);if(P.length>=$r)throw new Error("Too many redirects");const ie=$();(U!==ie||re!==p())&&(un||d.confirm(U,O)&&(P.push({value:ie,replace:be,scroll:L,state:p()}),k("navigate",{value:U,state:re})))})}function K(D){return D=D||gt(bt)||ee,(A,O)=>q(D,A,O)}function Z(D){const A=P[0];A&&(l({...D,replace:A.replace,scroll:A.scroll}),P.length=0)}function G(D,A){const O=tt(n(),D.pathname),te=Se;Se="preload";for(let be in O){const{route:ne,params:L}=O[be];ne.component&&ne.component.preload&&ne.component.preload();const{preload:re}=ne;A&&re&&Pt(t(),()=>re({params:L,location:{pathname:D.pathname,search:D.search,hash:D.hash,query:zt(D),state:null,key:""},intent:"preload"}))}Se=te}}function Er(e,n,t,r){const{base:i,location:l,params:s}=e,{pattern:o,component:u,preload:d}=r().route,g=z(()=>r().path);u&&u.preload&&u.preload();const b=d?d({params:s,location:l,intent:Se||"initial"}):void 0;return{parent:n,pattern:o,path:g,outlet:()=>u?a(u,{params:s,location:l,data:b,get children(){return t()}}):t(),resolvePath(S){return Oe(i.path(),S,g())}}}const wr=e=>n=>{const{base:t}=n,r=gn(()=>n.children),i=z(()=>qt(r(),n.base||""));let l;const s=xr(e,i,()=>l,{base:t,singleFlight:n.singleFlight,transformUrl:n.transformUrl});return e.create&&e.create(s),a(Wt.Provider,{value:s,get children(){return a(Ar,{routerState:s,get root(){return n.root},get preload(){return n.rootPreload||n.rootLoad},get children(){return[W(()=>(l=Ft())&&null),a(Rr,{routerState:s,get branches(){return i()}})]}})}})};function Ar(e){const n=e.routerState.location,t=e.routerState.params,r=z(()=>e.preload&&mt(()=>{e.preload({params:t,location:n,intent:Dr()||"initial"})}));return a(E,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:i=>a(i,{params:t,location:n,get data(){return r()},get children(){return e.children}})})}function Rr(e){const n=[];let t;const r=z(ht(e.routerState.matches,(i,l,s)=>{let o=l&&i.length===l.length;const u=[];for(let d=0,g=i.length;d<g;d++){const b=l&&l[d],_=i[d];s&&b&&_.route.key===b.route.key?u[d]=s[d]:(o=!1,n[d]&&n[d](),hn(S=>{n[d]=S,u[d]=Er(e.routerState,u[d-1]||e.routerState.base,xt(()=>r()[d+1]),()=>{const k=e.routerState.matches();return k[d]??k[0]})}))}return n.splice(i.length).forEach(d=>d()),s&&o?s:(t=u[0],u)}));return xt(()=>r()&&t)()}const xt=e=>()=>a(E,{get when(){return e()},keyed:!0,children:n=>a(bt.Provider,{value:n,get children(){return n.outlet()}})});function Tr([e,n],t,r){return[e,r?i=>n(r(i)):n]}function Ur(e){let n=!1;const t=i=>typeof i=="string"?{value:i}:i,r=Tr(oe(t(e.get()),{equals:(i,l)=>i.value===l.value&&i.state===l.state}),void 0,i=>(!n&&e.set(i),Ge.registry&&!Ge.done&&(Ge.done=!0),i));return e.init&&It(e.init((i=e.get())=>{n=!0,r[1](t(i)),n=!1})),wr({signal:r,create:e.create,utils:e.utils})}function Cr(e,n,t){return e.addEventListener(n,t),()=>e.removeEventListener(n,t)}function Pr(e,n){const t=e&&document.getElementById(e);t?t.scrollIntoView():n&&window.scrollTo(0,0)}const Fr=new Map;function Lr(e=!0,n=!1,t="/_server",r){return i=>{const l=i.base.path(),s=i.navigatorFactory(i.base);let o,u;function d($){return $.namespaceURI==="http://www.w3.org/2000/svg"}function g($){if($.defaultPrevented||$.button!==0||$.metaKey||$.altKey||$.ctrlKey||$.shiftKey)return;const v=$.composedPath().find(H=>H instanceof Node&&H.nodeName.toUpperCase()==="A");if(!v||n&&!v.hasAttribute("link"))return;const p=d(v),y=p?v.href.baseVal:v.href;if((p?v.target.baseVal:v.target)||!y&&!v.hasAttribute("state"))return;const P=(v.getAttribute("rel")||"").split(/\s+/);if(v.hasAttribute("download")||P&&P.includes("external"))return;const N=p?new URL(y,document.baseURI):new URL(y);if(!(N.origin!==window.location.origin||l&&N.pathname&&!N.pathname.toLowerCase().startsWith(l.toLowerCase())))return[v,N]}function b($){const v=g($);if(!v)return;const[p,y]=v,C=i.parsePath(y.pathname+y.search+y.hash),P=p.getAttribute("state");$.preventDefault(),s(C,{resolve:!1,replace:p.hasAttribute("replace"),scroll:!p.hasAttribute("noscroll"),state:P?JSON.parse(P):void 0})}function _($){const v=g($);if(!v)return;const[p,y]=v;i.preloadRoute(y,p.getAttribute("preload")!=="false")}function S($){clearTimeout(o);const v=g($);if(!v)return u=null;const[p,y]=v;u!==p&&(o=setTimeout(()=>{i.preloadRoute(y,p.getAttribute("preload")!=="false"),u=p},20))}function k($){if($.defaultPrevented)return;let v=$.submitter&&$.submitter.hasAttribute("formaction")?$.submitter.getAttribute("formaction"):$.target.getAttribute("action");if(!v)return;if(!v.startsWith("https://action/")){const y=new URL(v,jt);if(v=i.parsePath(y.pathname+y.search),!v.startsWith(t))return}if($.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const p=Fr.get(v);if(p){$.preventDefault();const y=new FormData($.target,$.submitter);p.call({r:i,f:$.target},$.target.enctype==="multipart/form-data"?y:new URLSearchParams(y))}}ft(["click","submit"]),document.addEventListener("click",b),e&&(document.addEventListener("mousemove",S,{passive:!0}),document.addEventListener("focusin",_,{passive:!0}),document.addEventListener("touchstart",_,{passive:!0})),document.addEventListener("submit",k),It(()=>{document.removeEventListener("click",b),e&&(document.removeEventListener("mousemove",S),document.removeEventListener("focusin",_),document.removeEventListener("touchstart",_)),document.removeEventListener("submit",k)})}}function Ir(e){const n=e.replace(/^.*?#/,"");if(!n.startsWith("/")){const[,t="/"]=window.location.hash.split("#",2);return`${t}#${n}`}return n}function Yr(e){const n=()=>window.location.hash.slice(1),t=Bt();return Ur({get:n,set({value:r,replace:i,scroll:l,state:s}){i?window.history.replaceState(sr(s),"","#"+r):window.history.pushState(s,"","#"+r);const o=r.indexOf("#"),u=o>=0?r.slice(o+1):"";Pr(u,l),$t()},init:r=>Cr(window,"hashchange",ur(r,i=>!t.confirm(i&&i<0?i:n()))),create:Lr(e.preload,e.explicitLinks,e.actionBase),utils:{go:r=>window.history.go(r),renderPath:r=>`#${r}`,parsePath:Ir,beforeLeave:t}})(e)}var Nr=m("<a>");function B(e){e=yt({inactiveClass:"inactive",activeClass:"active"},e);const[,n]=mn(e,["href","state","class","activeClass","inactiveClass","end"]),t=Sr(()=>e.href),r=_r(t),i=Vt(),l=z(()=>{const s=t();if(s===void 0)return[!1,!1];const o=ye(s.split(/[?#]/,1)[0]).toLowerCase(),u=decodeURI(ye(i.pathname).toLowerCase());return[e.end?o===u:u.startsWith(o+"/")||u===o,o===u]});return(()=>{var s=h(Nr);return fn(s,yt(n,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!l()[0],[e.activeClass]:l()[0],...n.classList}},link:"",get"aria-current"(){return l()[1]?"page":void 0}}),!1,!1),je(),s})()}var Hr=m("<div class=grid><!$><!/><div>"),Or=m("<div class=boxLink>");function _e(e){const n=e.type??"special";return(()=>{var t=h(Or);return c(t,a(w,{type:n,get onClick(){return e.onClick},get children(){var r=h(Hr),i=r.firstChild,[l,s]=f(i.nextSibling),o=l.nextSibling;return c(r,a(J,{get icon(){return e.icon}}),l,s),c(o,()=>e.children),r}})),t})()}var Br=m("<h3>Programm ansehen"),jr=m("<p>Melde dich (und deine Freunde) für diverse Spielrunden an."),Et=m("<br>"),zr=m("<h3>Programmpunkte erstellen"),Mr=m("<p>Erstelle und editiere Programmpunkte."),Kr=m("<h3>Helfen"),Wr=m("<p>Beim Kiosk und der Essensausgabe können wir immer ein paar helfende Hände gebrauchen."),Vr=m("<h3>Zusammenfassung"),Zr=m("<p>Erhalte einen Überblick über dein gesamtes Programm."),Jr=m("<div><!$><!/><!$><!/><br><!$><!/>");function qr(e){return(()=>{var n=h(Jr),t=n.firstChild,[r,i]=f(t.nextSibling),l=r.nextSibling,[s,o]=f(l.nextSibling),u=s.nextSibling,d=u.nextSibling,[g,b]=f(d.nextSibling);return c(n,a(E,{get when(){return e.roles.includes("admin")},get children(){return[a(B,{get href(){return e.link("/programm")},class:"button-link",get children(){return a(_e,{icon:"dice-d20",get children(){return[h(Br),h(jr)]}})}}),h(Et),a(B,{get href(){return e.link("/erstellen")},class:"button-link",get children(){return a(_e,{icon:"grid-2-plus",get children(){return[h(zr),h(Mr)]}})}}),h(Et)]}}),r,i),c(n,a(B,{get href(){return e.link("/helfen")},class:"button-link",get children(){return a(_e,{icon:"hand-heart",get children(){return[h(Kr),h(Wr)]}})}}),s,o),c(n,a(B,{get href(){return e.link("/zusammenfassung")},class:"button-link",get children(){return a(_e,{icon:"list",get children(){return[h(Vr),h(Zr)]}})}}),g,b),n})()}var Gr=m("<a class=header-anchor>");function Qr(e){return encodeURIComponent(e.replaceAll(/\s/g,"-").replaceAll("&","").replaceAll(/-{1,}/g,"-").toLocaleLowerCase())}function Ye(e){const n=Qr("title"in e?e.id??e.title:e.id);return a($n,{get component(){return`h${e.level}`},id:n,get children(){var t=h(Gr);return xe(t,"href",`#${n}`),c(t,(()=>{var r=W(()=>"title"in e);return()=>r()?e.title:e.children})()),t}})}var Xr=m("<div style=display:grid;gap:1rem><!$><!/><!$><!/><!$><!/>"),ei=m("<div><div style=margin-block-end:1.5rem></div><!$><!/>"),ti=m("<p>Konflikte gefunden! Bitte stelle sicher, dass du nicht zeitlich überlappende Spielrunden eingetragen hast:"),ni=m('<div style="display:grid;grid-template-columns:1fr max-content 1fr;gap:1rem;margin-block:0.5rem"><!$><!/><span style=color:var(--clr-warning-10);align-self:center;font-size:2rem></span><!$><!/>'),ri=m("<div><!$><!/><div class=entries></div><div class=after-hour><div class=annotation>"),ii=m("<div><div class=annotation></div><div class=background>"),ai=m("<div class=entry>");function Gt(e){const n=e.exclude??[];return(()=>{var t=h(Xr),r=t.firstChild,[i,l]=f(r.nextSibling),s=i.nextSibling,[o,u]=f(s.nextSibling),d=o.nextSibling,[g,b]=f(d.nextSibling);return c(t,a(E,{get when(){return W(()=>!n.includes("FRIDAY")&&e.openingHours.FRIDAY.open.from!==e.openingHours.FRIDAY.open.to)()&&(e.dayFilter===null||e.dayFilter==="FRIDAY")},get children(){return a(nt,{get programEntries(){return e.programEntries.FRIDAY},get openingHoursOfDay(){return e.openingHours.FRIDAY},day:"FRIDAY",get conflictsAllowed(){return e.conflictsAllowed??!1},get columns(){return e.columns}})}}),i,l),c(t,a(E,{get when(){return W(()=>!n.includes("SATURDAY"))()&&e.dayFilter===null||e.dayFilter==="SATURDAY"},get children(){return a(nt,{get programEntries(){return e.programEntries.SATURDAY},get openingHoursOfDay(){return e.openingHours.SATURDAY},day:"SATURDAY",get conflictsAllowed(){return e.conflictsAllowed??!1},get columns(){return e.columns}})}}),o,u),c(t,a(E,{get when(){return W(()=>!n.includes("SUNDAY"))()&&e.dayFilter===null||e.dayFilter==="SUNDAY"},get children(){return a(nt,{get programEntries(){return e.programEntries.SUNDAY},get openingHoursOfDay(){return e.openingHours.SUNDAY},day:"SUNDAY",get conflictsAllowed(){return e.conflictsAllowed??!1},get columns(){return e.columns}})}}),g,b),t})()}function nt(e){const n=e.conflictsAllowed?[]:si(e.programEntries);return(()=>{var t=h(ei),r=t.firstChild,i=r.nextSibling,[l,s]=f(i.nextSibling);return c(r,a(Ye,{level:4,get title(){return T.days[e.day]}})),c(t,a(Fe,{get fallback(){return[a(w,{type:"danger",get children(){return h(ti)}}),a(ge,{each:n,children:([o,u])=>(()=>{var d=h(ni),g=d.firstChild,[b,_]=f(g.nextSibling),S=b.nextSibling,k=S.nextSibling,[$,v]=f(k.nextSibling);return c(d,()=>o.component(),b,_),c(S,a(J,{icon:"triangle-exclamation"})),c(d,()=>u.component(),$,v),d})()})]},get children(){return a(Q,{get when(){return n.length===0},get children(){return a(li,{get programEntries(){return e.programEntries},get openingHoursOfDay(){return e.openingHoursOfDay},get day(){return e.day},get conflictsAllowed(){return e.conflictsAllowed},get columns(){return e.columns}})}})}}),l,s),t})()}function li(e){const n=Rn(e.openingHoursOfDay.open),t=e.openingHoursOfDay.breaks.flatMap(({from:s,to:o})=>{X(s<o,`Break is not valid, as from '${s}' is not smaller than to '${o}'`);const u=[s];let d=o-s;for(;d>1;)u.push(s+--d);return u}),r=(n[0]??0)-1,i=n.at(-1)??0,l=()=>{const s=["timetable"];return e.conflictsAllowed&&s.push(e.columns===2?"two-columns":e.columns===4?"four-columns":""),s.join(" ")};return(()=>{var s=h(ri),o=s.firstChild,[u,d]=f(o.nextSibling),g=u.nextSibling,b=g.nextSibling,_=b.firstChild;return c(s,a(ge,{each:n,children:S=>{const k=t.includes(S);return(()=>{var $=h(ii),v=$.firstChild;return $e($,`hour ${k?"break":""}`),c(v,S),j(p=>Qe($,wt({startTime:me.PlainTime.from({hour:S,minute:0}),endTime:me.PlainTime.from({hour:S,minute:0})},r,e.day,e.openingHoursOfDay),p)),$})()}}),u,d),c(g,a(ge,{get each(){return e.programEntries},children:S=>(()=>{var k=h(ai);return c(k,()=>S.component()),j($=>Qe(k,wt(S.range,r,e.day,e.openingHoursOfDay),$)),k})()})),c(_,i+1),j(S=>{var k=l(),$=`grid-row: 1 / ${i-r+1};`;return k!==S.e&&$e(s,S.e=k),S.t=Qe(g,$,S.t),S},{e:void 0,t:void 0}),s})()}function wt(e,n,t,r){const{startTime:i,endTime:l}=e,s=i.hour-n,o=l.hour-n,u=r.open.to;return X(s>0,`[${JSON.stringify(e)}] Entry can't start at '${i.hour}'.`),X(o>0,`[${JSON.stringify(e)}] Entry can't end at '${l.hour}'.`),X(l.hour<=u,`[${JSON.stringify(e)}] Entry can't end at '${l.hour}'. Closing hour set to '${u}' on day '${t}'`),`grid-row: ${s} / ${o};`}function si(e){const n=[];return e.forEach((t,r)=>{e.slice(r+1).forEach(i=>{An(t.range,i.range)&&n.push([t,i])})}),n}const he=me.PlainDate.from({year:2026,month:3,day:13}),x=me.PlainDate.from({year:2026,month:3,day:14}),R=me.PlainDate.from({year:2026,month:3,day:15}),At={FRIDAY:he,SATURDAY:x,SUNDAY:R};function Pe(e){const{year:n,month:t,day:r}=e;return he.year===n&&he.month===t&&he.day===r?"FRIDAY":x.year===n&&x.month===t&&x.day===r?"SATURDAY":R.year===n&&R.month===t&&R.day===r?"SUNDAY":null}const Qt={FRIDAY:{open:{from:0,to:0},breaks:[]},SATURDAY:{open:{from:10,to:24},breaks:[]},SUNDAY:{open:{from:10,to:18},breaks:[]}},ve={kitchen:{title:"Küche",description:"Mahlzeit vorbereiten, unterstützen beim Kochen und Abwaschen."},service:{title:"Essensausgabe",description:""},cleaning:{title:"Reinigung",description:"Unterstützen beim Küche aufräumen und putzen."},kiosk:{title:"Kiosk",description:"Am Kiosk Getränke (inkl. Kaffee) und Snacks verkaufen."},flohmarkt:{title:"Flohmarkt",description:"Hilf uns beim Auf- oder Abbau des Flohmarkt und der Annahme oder Abgabe von Spielen."},checkout:{title:"Kiosk / Flohmarkt",description:"Am Kiosk Getränke und Snacks verkaufen oder am Flohmarkt die Kasse bedienen."},setup:{title:"Menü-Vorbereitung / Aufbau",description:"Hilf uns beim Zubereiten der Menüs und Aufstellen von Tischen, Stühle und der Bibliothek."},breakdown:{title:"Abbau",description:"Hilf uns beim Zusammenräumen von Tischen, Stühle, der Bibliothek und dem Flohmarkt."}},Ae=[{uuid:"eb443040-0674-429c-a3ad-48634a323b76",count:4,kind:"setup",dateTime:{startDate:he.toPlainDateTime({hour:16,minute:0}),endDate:he.toPlainDateTime({hour:21,minute:0})}},{uuid:"91699a72-78d0-4dc9-bfe1-ece55b15db7d",count:1,kind:"flohmarkt",dateTime:{startDate:he.toPlainDateTime({hour:19,minute:0}),endDate:he.toPlainDateTime({hour:22,minute:0})}},{uuid:"6303bd52-cd10-4dd0-b760-b71ab971ad3b",count:4,kind:"flohmarkt",dateTime:{startDate:x.toPlainDateTime({hour:9,minute:0}),endDate:x.toPlainDateTime({hour:11,minute:0})}},{uuid:"9ebca7e9-f44a-4cc9-8961-73539f17d5d6",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:10,minute:0}),endDate:x.toPlainDateTime({hour:12,minute:0})}},{uuid:"804c379d-c747-4d7c-9f0c-a53f8548216e",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:11,minute:0}),endDate:x.toPlainDateTime({hour:13,minute:0})}},{uuid:"bfec6f59-14eb-45b9-a21c-d33ee2205b64",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:12,minute:0}),endDate:x.toPlainDateTime({hour:14,minute:0})}},{uuid:"8db23dfd-616e-4f1d-9a07-deb6e519d35a",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:13,minute:0}),endDate:x.toPlainDateTime({hour:15,minute:0})}},{uuid:"477a1c27-b660-4221-9be0-de34de910f4b",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:14,minute:0}),endDate:x.toPlainDateTime({hour:16,minute:0})}},{uuid:"516de07b-bc06-45b5-94f6-be5de186d4d5b",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:15,minute:0}),endDate:x.toPlainDateTime({hour:17,minute:0})}},{uuid:"490c799f-ced5-461e-a483-ad6a90df221b",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:16,minute:0}),endDate:x.toPlainDateTime({hour:18,minute:0})}},{uuid:"c9f79536-225a-41ee-93e6-ef1741b511f7",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:17,minute:0}),endDate:x.toPlainDateTime({hour:19,minute:0})}},{uuid:"c6c3f0f7-04c6-4819-95e6-aa8476e4392c",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:18,minute:0}),endDate:x.toPlainDateTime({hour:20,minute:0})}},{uuid:"9748b1e6-1712-449b-8dda-eb44f172071e",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:19,minute:0}),endDate:x.toPlainDateTime({hour:21,minute:0})}},{uuid:"04f724ea-4a78-4363-ba0a-75a71ab22598",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:20,minute:0}),endDate:x.toPlainDateTime({hour:22,minute:0})}},{uuid:"62d5af53-5e3e-4d59-b574-261e33b0a872",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:21,minute:0}),endDate:x.toPlainDateTime({hour:23,minute:0})}},{uuid:"98fef052-02ba-4a33-ba2a-13ccad6834c7",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:22,minute:0}),endDate:R.toPlainDateTime({hour:0,minute:0})}},{uuid:"e4700acc-7192-4063-b03d-cb4009cbe6f2",count:2,kind:"checkout",dateTime:{startDate:x.toPlainDateTime({hour:23,minute:0}),endDate:R.toPlainDateTime({hour:0,minute:0})}},{uuid:"d30340e1-e49f-44aa-bf1b-d90839b0f1aa",count:2,kind:"checkout",dateTime:{startDate:R.toPlainDateTime({hour:10,minute:0}),endDate:R.toPlainDateTime({hour:11,minute:0})}},{uuid:"e1a9b252-628c-4c01-b8e1-e1964b51e646",count:2,kind:"checkout",dateTime:{startDate:R.toPlainDateTime({hour:10,minute:0}),endDate:R.toPlainDateTime({hour:12,minute:0})}},{uuid:"873a1308-57bc-46bc-bdfc-a82213364c77",count:2,kind:"checkout",dateTime:{startDate:R.toPlainDateTime({hour:11,minute:0}),endDate:R.toPlainDateTime({hour:13,minute:0})}},{uuid:"2e9864a9-0208-4e56-b232-dcd258e31545",count:2,kind:"checkout",dateTime:{startDate:R.toPlainDateTime({hour:12,minute:0}),endDate:R.toPlainDateTime({hour:14,minute:0})}},{uuid:"caef5fea-8458-4b65-b699-9c4e5ee6589d",count:2,kind:"checkout",dateTime:{startDate:R.toPlainDateTime({hour:13,minute:0}),endDate:R.toPlainDateTime({hour:15,minute:0})}},{uuid:"0da24180-0269-4206-adf7-4b9faeefa091",count:2,kind:"checkout",dateTime:{startDate:R.toPlainDateTime({hour:14,minute:0}),endDate:R.toPlainDateTime({hour:16,minute:0})}},{uuid:"6c0430dd-9968-456d-bf68-d893040f73fa",count:2,kind:"checkout",dateTime:{startDate:R.toPlainDateTime({hour:15,minute:0}),endDate:R.toPlainDateTime({hour:17,minute:0})}},{uuid:"40eaef18-d6a0-46e8-b3e5-a98be09cef57",count:2,kind:"checkout",dateTime:{startDate:R.toPlainDateTime({hour:16,minute:0}),endDate:R.toPlainDateTime({hour:18,minute:0})}},{uuid:"3c6468ad-fdb8-432d-92ce-a52fae471206",count:2,kind:"checkout",dateTime:{startDate:R.toPlainDateTime({hour:17,minute:0}),endDate:R.toPlainDateTime({hour:19,minute:0})}},{uuid:"b9da7047-c359-49fa-b558-53207ac5255a",count:2,kind:"flohmarkt",dateTime:{startDate:R.toPlainDateTime({hour:17,minute:0}),endDate:R.toPlainDateTime({hour:19,minute:0})}},{uuid:"c0e1d54c-0832-4147-9054-082208dab2f2",count:4,kind:"breakdown",dateTime:{startDate:R.toPlainDateTime({hour:17,minute:0}),endDate:R.toPlainDateTime({hour:20,minute:0})}}],ui=Ae.map(e=>e.uuid),Rt=Object.entries(Object.groupBy(ui,e=>e)).reduce((e,[n,t])=>[...e,{uuid:n,count:t?.length??0}],[]).filter(({count:e})=>e!==1);if(Rt.length>0)throw Error(`duplicate uuids found:  ${Rt.map(({uuid:e})=>e).join(", ")}`);function oi(e){return Ae.find(n=>n.uuid===e)??null}const Be={FRIDAY:{open:{from:16,to:22},breaks:[{from:16,to:22}]},SATURDAY:{open:{from:9,to:24},breaks:[{from:9,to:10}]},SUNDAY:{open:{from:10,to:20},breaks:[{from:18,to:20}]}};var ci=m("<span>");function Ke(e){const n=()=>{const t=["chip"];return t.push(e.kind??"gray"),e.inverted&&t.push("inverted"),e.size==="small"&&t.push("small"),t.join(" ")};return(()=>{var t=h(ci);return c(t,()=>e.children),j(r=>{var i=n(),l=e.title;return i!==r.e&&$e(t,r.e=i),l!==r.t&&xe(t,"title",r.t=l),r},{e:void 0,t:void 0}),t})()}const di=ke(Y({})),gi=an(F(),De()),hi=Y({programEntries:di,reservations:gi});async function mi(){const e=await Dn();if(e.kind==="FAILURE")return console.error("Unexpected error. Maybe network, maybe server error."),{kind:"FAILURE"};const n=hi.safeParse(e.data);return n.success?{kind:"SUCCESS",data:n.data}:{kind:"FAILURE"}}var fi=m("<div style=display:flex;flex-wrap:wrap;gap:1rem;justify-content:space-between><h5 style=margin:0>Filter"),$i=m("<div style=display:flex;flex-wrap:wrap;gap:0.5rem><!$><!/><!$><!/><!$><!/><!$><!/>");function Xt(e){const n=e.exclude??[];return a(w,{get children(){return[h(fi),(()=>{var t=h($i),r=t.firstChild,[i,l]=f(r.nextSibling),s=i.nextSibling,[o,u]=f(s.nextSibling),d=o.nextSibling,[g,b]=f(d.nextSibling),_=g.nextSibling,[S,k]=f(_.nextSibling);return c(t,a(ae,{label:"Alle Tage",get kind(){return e.dayFilter()===null?"success":"gray"},onClick:()=>e.setDayFilter(null)}),i,l),c(t,a(E,{get when(){return!n.includes("FRIDAY")},get children(){return a(ae,{label:"Freitag",get kind(){return e.dayFilter()==="FRIDAY"?"success":"gray"},onClick:()=>e.setDayFilter("FRIDAY")})}}),o,u),c(t,a(E,{get when(){return!n.includes("SATURDAY")},get children(){return a(ae,{label:"Samstag",get kind(){return e.dayFilter()==="SATURDAY"?"success":"gray"},onClick:()=>e.setDayFilter("SATURDAY")})}}),g,b),c(t,a(E,{get when(){return!n.includes("SUNDAY")},get children(){return a(ae,{label:"Sonntag",get kind(){return e.dayFilter()==="SUNDAY"?"success":"gray"},onClick:()=>e.setDayFilter("SUNDAY")})}}),S,k),t})()]}})}var bi=m("<p>Beim Kiosk und der Essensausgabe können wir immer ein paar helfende Hände gebrauchen. Wenn du bereit bist zu helfen, klicke in der jeweiligen Stunde auf das Handsymbol <!$><!/>."),He=m("<br>"),Si=m("<h4>Zur Anmeldung für Erklärbären"),_i=m("<div class=dynamic-columns><p>Eines der Hauptziele der Luzerner Spieltage ist es, dass die Besucher/-innen noch nicht gespielte Spiele ausprobieren können. Dazu unterstützen uns jedes Jahr Freiwillige und erklären die ihnen bekannten Spiele aus der Spiele-Bibliothek. Diese Erklärbären sind durch ihr rotes T-Shirt erkennbar.</p><!$><!/>"),vi=m("<p>Plan konnte nicht geladen werden."),ki=m("<div><!$><!/><!$><!/><h5></h5><p class=duration><em><!$><!/> / <!$><!/>"),pi=m("<div><!$><!/><!$><!/><h5></h5><p class=duration><span>von <!$><!/>&nbsp;bis <!$><!/>&nbsp;Uhr | </span><em><!$><!/>&nbsp;/&nbsp;<!$><!/>");function yi(e){const[n,t]=oe(null);return[(()=>{var r=h(bi),i=r.firstChild,l=i.nextSibling,[s,o]=f(l.nextSibling);return s.nextSibling,c(r,a(J,{icon:"hand-heart"}),s,o),r})(),h(He),a(Ye,{level:3,title:"Erklärbären"}),h(He),(()=>{var r=h(_i),i=r.firstChild,l=i.nextSibling,[s,o]=f(l.nextSibling);return c(r,a(B,{get href(){return e.link("/erklaerbaer")},class:"button-link",style:"margin-block-end: 1rem; padding: 0;",get children(){return a(_e,{icon:"forward",type:"success",get children(){return h(Si)}})}}),s,o),r})(),h(He),a(Xt,{dayFilter:n,setDayFilter:t}),h(He),a(Le,{get fallback(){return a(w,{get children(){return T.loading.program}})},get children(){return a(E,{get when(){return e.publicResource()},get fallback(){return a(w,{type:"danger",get children(){return T.error.help}})},children:r=>a(E,{get when(){return r().kind==="SUCCESS"},get fallback(){return a(w,{type:"danger",get children(){return h(vi)}})},get children(){return a(Di,{get myHelpReservations(){return e.reservations$.get()},get allReservations(){return r().data.reservations},get isEditable(){return e.isEditable},get link(){return e.link},get dayFilter(){return n()}})}})})}})]}function Di(e){const n=()=>Object.keys(e.allReservations),t=()=>({FRIDAY:rt({day:"FRIDAY",entries:Ae,alreadyReservedUuids:n(),myReservations:e.myHelpReservations,link:e.link}),SATURDAY:rt({day:"SATURDAY",entries:Ae,alreadyReservedUuids:n(),myReservations:e.myHelpReservations,link:e.link}),SUNDAY:rt({day:"SUNDAY",entries:Ae,alreadyReservedUuids:n(),myReservations:e.myHelpReservations,link:e.link})});return a(Gt,{get programEntries(){return t()},openingHours:Be,conflictsAllowed:!0,columns:4,get dayFilter(){return e.dayFilter}})}function rt(e){const n=St(),t=[],r=xi(e.alreadyReservedUuids);return Object.groupBy(e.entries,l=>Pe(l.dateTime.startDate)??"empty")[e.day]?.forEach(l=>{const s=()=>l.count-(r[l.uuid]??0),o=()=>e.myReservations.filter(g=>"helpEntryUuid"in g&&g.helpEntryUuid===l.uuid).length>0,u=()=>{const g=["box-simple","timeview-entry"];return o()&&g.push("success"),g.join(" ")},d={startTime:me.PlainTime.from({hour:l.dateTime.startDate.hour,minute:l.dateTime.startDate.minute}),endTime:l.dateTime.startDate.day!==l.dateTime.endDate.day?me.PlainTime.from({hour:l.dateTime.endDate.hour+24,minute:l.dateTime.endDate.minute}):me.PlainTime.from({hour:l.dateTime.endDate.hour,minute:l.dateTime.endDate.minute})};s()===0?t.push({range:d,component:()=>(()=>{var g=h(ki),b=g.firstChild,[_,S]=f(b.nextSibling),k=_.nextSibling,[$,v]=f(k.nextSibling),p=$.nextSibling,y=p.nextSibling,C=y.firstChild,P=C.firstChild,[N,H]=f(P.nextSibling),V=N.nextSibling,M=V.nextSibling,[ee,q]=f(M.nextSibling);return g.$$click=()=>n(e.link(`/helfen/${l.uuid}`)),c(g,a(Ke,{title:"Helfer:innen gesucht",get inverted(){return o()},size:"small",children:"HL"}),_,S),c(g,a(E,{get when(){return o()},get children(){return a(Re,{icon:"hand-heart",kind:"ghost",onClick:()=>n(e.link(`/helfen/${l.uuid}`)),title:"Helfen"})}}),$,v),c(p,()=>ve[l.kind].title),c(C,s,N,H),c(C,()=>l.count,ee,q),j(K=>{var Z=u(),G=ve[l.kind].title;return Z!==K.e&&$e(g,K.e=Z),G!==K.t&&xe(p,"title",K.t=G),K},{e:void 0,t:void 0}),je(),g})()}):t.push({range:d,component:()=>(()=>{var g=h(pi),b=g.firstChild,[_,S]=f(b.nextSibling),k=_.nextSibling,[$,v]=f(k.nextSibling),p=$.nextSibling,y=p.nextSibling,C=y.firstChild,P=C.firstChild,N=P.nextSibling,[H,V]=f(N.nextSibling),M=H.nextSibling,ee=M.nextSibling,[q,K]=f(ee.nextSibling);q.nextSibling;var Z=C.nextSibling,G=Z.firstChild,[D,A]=f(G.nextSibling),O=D.nextSibling,te=O.nextSibling,[be,ne]=f(te.nextSibling);return g.$$click=()=>n(e.link(`/helfen/${l.uuid}`)),c(g,a(Ke,{title:"Helfer:innen gesucht",get inverted(){return o()},size:"small",children:"HL"}),_,S),c(g,a(Re,{icon:"hand-heart",kind:"ghost",onClick:()=>n(e.link(`/helfen/${l.uuid}`)),title:"Helfen"}),$,v),c(p,()=>ve[l.kind].title),c(C,()=>d.startTime.hour,H,V),c(C,()=>d.endTime.hour,q,K),c(Z,()=>l.count-s(),D,A),c(Z,()=>l.count,be,ne),j(L=>{var re=u(),U=ve[l.kind].title;return re!==L.e&&$e(g,L.e=re),U!==L.t&&xe(p,"title",L.t=U),L},{e:void 0,t:void 0}),je(),g})()})}),t}function xi(e){const n=Object.groupBy(e,r=>r),t={};for(const r of e)t[r]=n[r]?.length??0;return t}ft(["click"]);var Ei=m("<dialog closedby=any><!$><!/><!$><!/><!$><!/>"),wi=m("<h4>");function Ai(e=!1){return{open:e}}function Ri(e){let n;const[t,r]=ce(e.store);bn(()=>{t.open?n.showModal():n.close()});function i(){r({open:!1}),e.onClose?.()}const l=()=>{const s=[];return e.type!==void 0&&s.push(e.type),e.size!==void 0&&s.push(e.size),e.onClose!==void 0&&s.push("dialog-with-close"),s};return(()=>{var s=h(Ei),o=s.firstChild,[u,d]=f(o.nextSibling),g=u.nextSibling,[b,_]=f(g.nextSibling),S=b.nextSibling,[k,$]=f(S.nextSibling);s.addEventListener("close",i);var v=n;return typeof v=="function"?Sn(v,s):n=s,c(s,a(E,{get when(){return e.onClose},get children(){return a(Re,{onClick:i,icon:"circle-xmark",kind:"gray"})}}),u,d),c(s,a(E,{get when(){return e.title},children:p=>(()=>{var y=h(wi);return c(y,p),y})()}),b,_),c(s,()=>e.children,k,$),j(()=>$e(s,l().join(" "))),s})()}var Ti=m("<p>");function it(e){const[n,t]=ce(e.store),r=e.showErrors==="ALWAYS",i=()=>r||n.isDirty?e.errors??[]:[];return[a(ln,{get label(){return e.label},get name(){return e.name},get value(){return n.value},onValueUpdate:l=>{t("value",l),e.onUpdate?.()},onBlur:()=>t("isDirty",!0),get type(){return e.type},get required(){return e.required},get isHoneypot(){return e.isHoneypot},get disabled(){return e.disabled}}),a(E,{get when(){return i().length>0},get children(){return a(w,{type:"danger",get children(){return a(ge,{get each(){return i()},children:l=>(()=>{var s=h(Ti);return c(s,l),s})()})}})}})]}F().transform(e=>({value:e,isDirty:!1}));function at(e){return{value:e,isDirty:!1}}De().transform(e=>({value:e,isDirty:!1}));var Ui=m("<div><!$><!/><br><!$><!/><br><!$><!/>"),Ci=m("<h5>"),Pi=m("<p class=duration>von <!$><!/> bis <!$><!/> Uhr <em><small>(<!$><!/>)"),Fi=m("<div>");function Li(e){const[n,t]=oe(null),r=Ii(e.save,e.publicState,e.link),i=Ni(r),l=Hi(r);return(()=>{var s=h(Ui),o=s.firstChild,[u,d]=f(o.nextSibling),g=u.nextSibling,b=g.nextSibling,[_,S]=f(b.nextSibling),k=_.nextSibling,$=k.nextSibling,[v,p]=f($.nextSibling);return c(s,a(Ye,{level:3,title:"Mein Programm"}),u,d),c(s,a(Xt,{dayFilter:n,setDayFilter:t,exclude:i}),_,S),c(s,a(Gt,{get dayFilter(){return n()},programEntries:r,openingHours:l,conflictsAllowed:!1,columns:1,exclude:i}),v,p),s})()}function Ii(e,n,t){const{helping:r}=e,i={FRIDAY:[],SATURDAY:[],SUNDAY:[]},l=r.map(o=>{if(o.kind==="ERKLAERBAER"){const d={startDate:At[o.slot.day].toPlainDateTime({hour:o.slot.from,minute:0}),endDate:At[o.slot.day].toPlainDateTime({hour:o.slot.to,minute:0})};return{...o,meta:{dateTime:d}}}const u=Ae.find(d=>d.uuid===o.helpEntryUuid);return X(u!==void 0,`Help UUID is invalid: '${o.helpEntryUuid}'`),{...o,meta:u}}),s=Object.groupBy(l,o=>{const{startDate:u,endDate:d}=o.meta.dateTime;return`${u.year}-${u.month}-${u.day}-${u.hour}-${u.minute}--${d.year}-${d.month}-${d.day}-${d.hour}-${d.minute}`});return Object.values(s).forEach(o=>{if(o===void 0)return;const u=o[0];if(u===void 0)return;let d=!0;const g=o.map($=>$.kind==="ERKLAERBAER"?["Erklärbär","ME"]:$.kind==="SELF"?[ve[$.meta.kind].title,"ME"]:(d=!1,[ve[$.meta.kind].title,$.name])),b=d?g.map(([$])=>$).join(", "):g.map(([$,v])=>v==="ME"?$:`${$} (${v})`).join("; "),_=Pe(u.meta.dateTime.startDate);X(_!==null,`Date '${JSON.stringify(u.meta.dateTime.startDate)}' is not a valid event date.`);const S={startTime:u.meta.dateTime.startDate.toPlainTime(),endTime:u.meta.dateTime.endDate.toPlainTime()},k=u.kind==="ERKLAERBAER"?"/erklaerbaer":`/helfen/${u.helpEntryUuid}`;i[_].push({range:S,component:()=>a(Yi,{title:b,range:S,kind:"help",path:k,link:t})})}),l.forEach(o=>{switch(o.kind){case"SELF":{const u=Pe(o.meta.dateTime.startDate);X(u!==null,`Date '${JSON.stringify(o.meta.dateTime.startDate)}' is not a valid event date.`);break}case"FRIEND":{const u=Pe(o.meta.dateTime.startDate);X(u!==null,`Date '${JSON.stringify(o.meta.dateTime.startDate)}' is not a valid event date.`);break}}}),i}function Yi(e){const n={"master-draft":{label:"SL",help:"Spielleitung",link:{icon:"pencil",label:"Spielrunde bearbeiten"}},master:{label:"SL",help:"Spielleitung",link:{icon:"pencil",label:"Spielrunde bearbeiten"}},play:{label:"TN",help:"Teilnehmer:in",link:{icon:"link",label:"Zur Spielrunde"}},help:{label:"HL",help:"Helfen",link:{icon:"link",label:"Zum Eintrag"}}}[e.kind],t=()=>{const r=["timeview-entry","box-simple"];return e.kind==="master-draft"&&r.push("gray"),e.kind==="master"&&r.push("special"),e.kind==="play"&&r.push("danger"),r.join(" ")};return(()=>{var r=h(Fi);return c(r,a(B,{get href(){return e.link(e.path)},class:"button-link",style:"display: contents;",get children(){return[a(Ke,{get title(){return n.help},get inverted(){return e.kind!=="help"},size:"small",get children(){return n.label}}),a(Re,{get icon(){return n.link.icon},kind:"ghost",get title(){return n.link.label}}),(()=>{var i=h(Ci);return c(i,()=>e.title),j(()=>xe(i,"title",e.title)),i})(),(()=>{var i=h(Pi),l=i.firstChild,s=l.nextSibling,[o,u]=f(s.nextSibling),d=o.nextSibling,g=d.nextSibling,[b,_]=f(g.nextSibling),S=b.nextSibling,k=S.nextSibling,$=k.firstChild,v=$.firstChild,p=v.nextSibling,[y,C]=f(p.nextSibling);return y.nextSibling,c(i,()=>Me(e.range.startTime),o,u),c(i,()=>Me(e.range.endTime),b,_),c($,()=>Tn(e.range.startTime,e.range.endTime),y,C),i})()]}})),j(()=>$e(r,t())),r})()}function Ni(e){const n=[];return e.FRIDAY.length===0&&n.push("FRIDAY"),e.SATURDAY.length===0&&n.push("SATURDAY"),e.SUNDAY.length===0&&n.push("SUNDAY"),n.length===3?["FRIDAY"]:n}function Hi(e){const n=Qt;e.FRIDAY.length>0&&(n.FRIDAY=Be.FRIDAY);let t=!1;e.SATURDAY.forEach(i=>{i.range.startTime.hour<n.SATURDAY.open.from&&(t=!0),i.range.endTime.hour>n.SATURDAY.open.to&&(t=!0)}),t&&(n.SATURDAY=Be.SATURDAY);let r=!1;return e.SUNDAY.forEach(i=>{i.range.startTime.hour<n.SUNDAY.open.from&&(r=!0),i.range.endTime.hour>n.SUNDAY.open.to&&(r=!0)}),r&&(n.SUNDAY=Be.SUNDAY),n}function _t(e,n){const t={get:e,set:r=>n(()=>r),update:n,pipe:r=>r(t)};return t}function Oi(e){const[n,t]=ce({value:e});return _t(()=>n.value,r=>t("value",r(n.value)))}const I={sub:e=>n=>_t(()=>n.get()[e],t=>n.update(r=>({...r,[e]:t(n.get()[e])})))},fe={push:(e,n)=>{e.update(t=>[...t,n])},update:(e,n,t)=>{e.update(r=>r.map(i=>n(i)?t:i))},remove:(e,n)=>{e.update(t=>t.filter(n))},findExact:(e,n)=>(lt(e.get(),n),_t(()=>lt(e.get(),n),t=>{const r=lt(e.get(),n);fe.update(e,n,t(r))}))};function lt(e,n){const[t,...r]=e.filter(n);return X(t!==void 0,"No element found with predicate"),X(r.length===0,"Predicate does not result in unique element"),t}var Bi=m("<label class=input-checkbox><input type=checkbox><div><!$><!/><!$><!/>"),ji=m("<div class=checkbox-description>");function zi(e){return(()=>{var n=h(Bi),t=n.firstChild,r=t.nextSibling,i=r.firstChild,[l,s]=f(i.nextSibling),o=l.nextSibling,[u,d]=f(o.nextSibling);return t.addEventListener("change",g=>e.checked$.set(g.target.checked)),c(r,()=>e.label,l,s),c(r,a(E,{get when(){return e.description},children:g=>(()=>{var b=h(ji);return c(b,g),b})()}),u,d),j(g=>{var b=e.name,_=e.disabled===!0;return b!==g.e&&xe(t,"name",g.e=b),_!==g.t&&pe(t,"disabled",g.t=_),g},{e:void 0,t:void 0}),j(()=>pe(t,"value",e.value)),j(()=>pe(t,"checked",e.checked$.get())),n})()}var Mi=m("<div style=display:grid;gap:1rem><!$><!/><!$><!/><!$><!/>"),Ki=m("<div>"),Wi=m("<div style=display:grid;gap:1rem><h3>Meine Kontaktdaten</h3><p><strong>Name:</strong> <!$><!/></p><p><strong>E-Mail:</strong> <!$><!/></p><p><strong>Handynummer:</strong> <!$><!/></p><!$><!/>"),Vi=m("<form novalidate><!$><!/><!$><!/><!$><!/><!$><!/>");function Zi(e){return(()=>{var n=h(Mi),t=n.firstChild,[r,i]=f(t.nextSibling),l=r.nextSibling,[s,o]=f(l.nextSibling),u=s.nextSibling,[d,g]=f(u.nextSibling);return c(n,a(Ji,{get contact$(){return e.save$.pipe(I.sub("contact"))},get isEditable(){return e.isEditable}}),r,i),c(n,a(zi,{label:"Schickt mir bitte E-Mails, wenn neue Programmpunkte veröffentlicht werden.",get checked$(){return e.save$.pipe(I.sub("config")).pipe(I.sub("wantsUpdates"))},name:"wantsUpdates",value:"wantsUpdates"}),s,o),c(n,a(Le,{get fallback(){return a(w,{get children(){return T.loading.program}})},get children(){return a(E,{get when(){return e.publicResource()},get fallback(){return a(w,{type:"danger",get children(){return T.error.help}})},children:b=>a(E,{get when(){return b().kind==="SUCCESS"},get fallback(){return a(w,{type:"danger",get children(){return T.loading.program}})},get children(){return a(Li,{get save(){return e.save$.get()},get publicState(){return b().data},get link(){return e.link}})}})})}}),d,g),n})()}function Ji(e){const[n,t]=ce(Ai()),{name:r,email:i,mobile:l}=e.contact$.get();return a(w,{get children(){return[a(E,{get when(){return n.open},get children(){return a(qi,{get contact$(){return e.contact$},dialogStore:n})}}),(()=>{var s=h(Wi),o=s.firstChild,u=o.nextSibling,d=u.firstChild,g=d.nextSibling,b=g.nextSibling,[_,S]=f(b.nextSibling),k=u.nextSibling,$=k.firstChild,v=$.nextSibling,p=v.nextSibling,[y,C]=f(p.nextSibling),P=k.nextSibling,N=P.firstChild,H=N.nextSibling,V=H.nextSibling,[M,ee]=f(V.nextSibling),q=P.nextSibling,[K,Z]=f(q.nextSibling);return c(u,r,_,S),c(k,i,y,C),c(P,l,M,ee),c(s,a(E,{get when(){return e.isEditable},get children(){var G=h(Ki);return c(G,a(ue,{icon:"pencil",label:"Kontaktdaten editieren",onClick:()=>t("open",!0)})),G}}),K,Z),s})()]}})}function qi(e){const[n]=vr(),[t]=ce({name:at(e.contact$.get().name),email:at(e.contact$.get().email),mobile:at(e.contact$.get().mobile)}),[r,i]=ce({kind:"IDLE",isDuplicate:!1}),l=z(()=>{const u={name:[],email:[]};return t.name.value.trim().length===0&&u.name.push(T.mandatoryField),t.email.value.trim().length===0?u.email.push(T.mandatoryField):t.email.value.includes("@")||u.email.push(T.invalidEmail),r.kind==="IDLE"&&r.isDuplicate&&u.email.push("Diese E-Mail wird bereits verwendet."),{...u,hasErrors:u.name.length+u.email.length>0}}),[s,o]=ce(e.dialogStore);return a(Ri,{get store(){return e.dialogStore},title:"Kontaktdaten editieren",onClose:()=>{},size:"medium",get children(){var u=h(Vi),d=u.firstChild,[g,b]=f(d.nextSibling),_=g.nextSibling,[S,k]=f(_.nextSibling),$=S.nextSibling,[v,p]=f($.nextSibling),y=v.nextSibling,[C,P]=f(y.nextSibling);return c(u,a(it,{get store(){return t.name},label:"Name",name:"name",showErrors:"ON_BLUR",get errors(){return l().name}}),g,b),c(u,a(it,{get store(){return t.email},label:"E-Mail",name:"email",showErrors:"ALWAYS",get errors(){return l().email},onUpdate:()=>i({kind:"IDLE",isDuplicate:!1})}),S,k),c(u,a(it,{get store(){return t.mobile},label:"Handynummer",name:"mobile"}),v,p),c(u,a(ae,{label:"Speichern",get disabled(){return l().hasErrors||r.kind==="CHECKING"},onClick:async()=>{if(!l().hasErrors){i({kind:"CHECKING"});const N=n.secret,H=await fetch(Ve(`/lst26/check-email?email=${t.email.value}&secret=${N}`));if(!H.ok){i({kind:"IDLE",isDuplicate:!0});return}const V=await H.json(),M=Gi.safeParse(V);if(!M.success){i({kind:"IDLE",isDuplicate:!0});return}if(M.data.kind==="FAILURE"){i({kind:"IDLE",isDuplicate:!0});return}i({kind:"IDLE",isDuplicate:!1}),e.contact$.set({name:t.name.value,email:t.email.value,mobile:t.mobile.value}),o("open",!1)}}}),C,P),u}})}const Gi=dt([Y({kind:de("SUCCESS")}),Y({kind:de("FAILURE")})]);var Qi=m("<div class=tooltip-wrapper><div class=tooltip></div><!$><!/>");function Ue(e){return(()=>{var n=h(Qi),t=n.firstChild,r=t.nextSibling,[i,l]=f(r.nextSibling);return c(t,()=>e.tooltip),c(n,()=>e.children,i,l),n})()}var Xi=m("<div class=quickmenu-wrapper><div class=quickmenu><!$><!/><!$><!/><!$><!/><!$><!/>"),ea=m('<div class="quickmenu extended"><!$><!/><!$><!/><!$><!/><!$><!/>'),ta=m("<div style=margin-block-start:1rem;display:flex;gap:0.5rem;align-items:center><!$><!/><em>Zuletzt gespeichert um: <!$><!/> Uhr"),na=m("<div style=margin-block-start:1rem;display:flex;gap:0.5rem;align-items:center><!$><!/><em>Am Speichern..."),ra=m("<div style=margin-block-start:1rem;display:flex;gap:0.5rem;align-items:center><!$><!/><em>Speichern war nicht möglich!");function ia(e){return(()=>{var n=h(Xi),t=n.firstChild,r=t.firstChild,[i,l]=f(r.nextSibling),s=i.nextSibling,[o,u]=f(s.nextSibling),d=o.nextSibling,[g,b]=f(d.nextSibling),_=g.nextSibling,[S,k]=f(_.nextSibling);return c(t,a(Ue,{tooltip:"Zur Übersicht",get children(){return a(B,{get href(){return e.link(e.parentPath)},class:"button-link",get children(){return a(ae,{get label(){return a(J,{icon:"backward"})}})}})}}),i,l),c(t,a(E,{get when(){return e.roles.includes("admin")},get children(){return[a(Ue,{tooltip:"Zum Programm",get children(){return a(B,{get href(){return e.link("/programm")},class:"button-link",get children(){return a(ae,{get label(){return a(J,{icon:"dice-d20"})}})}})}}),a(Ue,{tooltip:"Zu deinen Programmpunkten",get children(){return a(B,{get href(){return e.link("/erstellen")},class:"button-link",get children(){return a(ae,{get label(){return a(J,{icon:"grid-2-plus"})}})}})}})]}}),o,u),c(t,a(Ue,{tooltip:"Zum Helferplan",get children(){return a(B,{get href(){return e.link("/helfen")},class:"button-link",get children(){return a(ae,{get label(){return a(J,{icon:"hand-heart"})}})}})}}),g,b),c(t,a(Ue,{tooltip:"Zur Zusammenfassung",get children(){return a(B,{get href(){return e.link("/zusammenfassung")},class:"button-link",get children(){return a(ae,{get label(){return a(J,{icon:"list"})}})}})}}),S,k),n})()}function aa(e){return[a(w,{type:"gray",get children(){var n=h(ea),t=n.firstChild,[r,i]=f(t.nextSibling),l=r.nextSibling,[s,o]=f(l.nextSibling),u=s.nextSibling,[d,g]=f(u.nextSibling),b=d.nextSibling,[_,S]=f(b.nextSibling);return c(n,a(B,{get href(){return e.link(e.parentPath)},class:"button-link",get children(){return a(ue,{icon:"backward",label:"Zur Übersicht"})}}),r,i),c(n,a(E,{get when(){return e.roles.includes("admin")},get children(){return[a(B,{get href(){return e.link("/programm")},class:"button-link",get children(){return a(ue,{icon:"dice-d20",label:"Zum Programm"})}}),a(B,{get href(){return e.link("/erstellen")},class:"button-link",get children(){return a(ue,{icon:"grid-2-plus",label:"Zu deinen Programmpunkten"})}})]}}),s,o),c(n,a(B,{get href(){return e.link("/helfen")},class:"button-link",get children(){return a(ue,{icon:"hand-heart",label:"Zum Helferplan"})}}),d,g),c(n,a(B,{get href(){return e.link("/zusammenfassung")},class:"button-link",get children(){return a(ue,{icon:"list",label:"Zur Zusammenfassung"})}}),_,S),n}}),a(la,{get saveState(){return e.saveState},get lastSaved(){return e.lastSaved}})]}function la(e){return a(Fe,{get children(){return[a(Q,{get when(){return e.saveState==="IDLE"},get children(){var n=h(ta),t=n.firstChild,[r,i]=f(t.nextSibling),l=r.nextSibling,s=l.firstChild,o=s.nextSibling,[u,d]=f(o.nextSibling);return u.nextSibling,c(n,a(J,{icon:"circle-check"}),r,i),c(l,()=>Ct(e.lastSaved),u,d),n}}),a(Q,{get when(){return e.saveState==="SAVING"},get children(){var n=h(na),t=n.firstChild,[r,i]=f(t.nextSibling);return r.nextSibling,c(n,a(J,{icon:"floppy-disk-circle-arrow-right"}),r,i),n}}),a(Q,{get when(){return e.saveState==="ERROR"},get children(){var n=h(ra),t=n.firstChild,[r,i]=f(t.nextSibling);return r.nextSibling,c(n,a(J,{icon:"triangle-exclamation"}),r,i),n}})]}})}var sa=m("<div class=page><!$><!/><div class=page-content><!$><!/><!$><!/></div><!$><!/>"),ua=m("<h2>"),oa=m("<br>"),ca=m("<div class=extended-wrapper style=margin-block-start:1rem>");function le(e){return(()=>{var n=h(sa),t=n.firstChild,[r,i]=f(t.nextSibling),l=r.nextSibling,s=l.firstChild,[o,u]=f(s.nextSibling),d=o.nextSibling,[g,b]=f(d.nextSibling),_=l.nextSibling,[S,k]=f(_.nextSibling);return c(n,(()=>{var $=W(()=>e.showQuickmenu!==!1);return()=>$()?a(ia,{get roles(){return e.roles},get link(){return e.link},get saveState(){return e.saveState},get lastSaved(){return e.lastSaved},get parentPath(){return e.parentPath??"/"}}):null})(),r,i),c(l,(()=>{var $=W(()=>e.title===void 0);return()=>$()?null:[(()=>{var v=h(ua);return c(v,()=>e.title),v})(),h(oa)]})(),o,u),c(l,()=>e.children,g,b),c(n,(()=>{var $=W(()=>e.showQuickmenu!==!1);return()=>$()?(()=>{var v=h(ca);return c(v,a(aa,{get roles(){return e.roles},get link(){return e.link},get saveState(){return e.saveState},get lastSaved(){return e.lastSaved},get parentPath(){return e.parentPath??"/"}})),v})():null})(),S,k),n})()}var da=m('<form class=input-button style="display:grid;gap:0rem;grid-template-columns:1fr max-content"><input type=text style=border-color:var(--clr-special-9)><!$><!/>');function Tt(e){const[n,t]=oe("");return(()=>{var r=h(da),i=r.firstChild,l=i.nextSibling,[s,o]=f(l.nextSibling);return r.addEventListener("submit",u=>{u.preventDefault();const d=n();d.trim().length>0&&e.addFriend(d)}),pe(r,"noValidate",!0),i.$$input=u=>t(u.target.value),c(r,a(ue,{icon:"arrow-right",type:"submit",label:"Begleitperson anmelden",kind:"special"}),s,o),j(()=>pe(i,"value",n())),je(),r})()}ft(["input"]);var ga=m("<p>Details konnten nicht geladen werden."),ha=m("<div style=display:flex;gap:1rem;flex-wrap:wrap;justify-content:space-between><h3></h3><!$><!/>"),ma=m("<div class=game-dialog><ul role=list style=display:grid;gap:0.5rem><li><strong style=color:var(--clr-accent-1)>Tag, Zeit:</strong> <br><!$><!/>, <!$><!/> - <!$><!/> Uhr</li><li><strong style=color:var(--clr-accent-1)>Beschreibung:</strong> <br><!$><!/></li></ul><div class=reservations><h5 style=margin-block-start:0>Plätze reservieren</h5><div class=reservation-table>"),fa=m("<div class=count>"),$a=m("<div class=reservation-table-entry><p>Reserviert für mich </p><!$><!/>"),ba=m('<div class=reservation-table-entry><p>Reserviert für "<!$><!/>"</p><!$><!/>'),Sa=m('<div style="display:grid;gap:1rem;grid-template-columns:max-content 1fr"><!$><!/><!$><!/>');function _a(e){const n=Zt().uuid??"no-uuid-found",t=oi(n);return a(Le,{get fallback(){return a(w,{get children(){return T.loading.program}})},get children(){return a(E,{get when(){return e.publicResource()},get fallback(){return a(w,{type:"danger",get children(){return T.error.help}})},children:r=>a(E,{get when(){return r().kind==="SUCCESS"},get fallback(){return a(w,{type:"danger",get children(){return T.loading.program}})},get children(){return a(E,{when:t,get fallback(){return a(w,{type:"danger",get children(){return h(ga)}})},children:i=>a(va,{get entry(){return i()},get myHelpReservations(){return e.reservations$.get()},get allReservations(){return r().data.reservations},get isEditable(){return e.isEditable},addReservation:l=>fe.push(e.reservations$,{...l,uuid:crypto.randomUUID()}),removeReservation:l=>{fe.remove(e.reservations$,s=>s.uuid!==l)},get link(){return e.link}})})}})})}})}function va(e){const{dateTime:n,kind:t}=e.entry,r=ve[t],i=Pe(n.startDate);X(i!==null,`Date '${JSON.stringify(n.startDate)}' is not a valid event date.`);const l=()=>e.myHelpReservations.filter(d=>"helpEntryUuid"in d&&d.helpEntryUuid===e.entry.uuid),s=(e.allReservations[e.entry.uuid]??0)-l().length,o=()=>Ot(e.entry.count).map(d=>{const g=l()[d];return g!==void 0?g:e.entry.count-s<=d?{kind:"RESERVED_OTHER"}:{kind:"FREE"}}),u=()=>l().find(d=>d.kind==="SELF")!==void 0;return[(()=>{var d=h(ha),g=d.firstChild,b=g.nextSibling,[_,S]=f(b.nextSibling);return c(g,()=>r.title),c(d,a(B,{get href(){return e.link("/helfen")},class:"button-link",get children(){return a(ue,{icon:"backward",label:"Zurück zur Helfer-Übersicht"})}}),_,S),d})(),(()=>{var d=h(ma),g=d.firstChild,b=g.firstChild,_=b.firstChild,S=_.nextSibling,k=S.nextSibling,$=k.nextSibling,[v,p]=f($.nextSibling),y=v.nextSibling,C=y.nextSibling,[P,N]=f(C.nextSibling),H=P.nextSibling,V=H.nextSibling,[M,ee]=f(V.nextSibling);M.nextSibling;var q=b.nextSibling,K=q.firstChild,Z=K.nextSibling,G=Z.nextSibling,D=G.nextSibling,[A,O]=f(D.nextSibling),te=g.nextSibling,be=te.firstChild,ne=be.nextSibling;return c(b,()=>T.days[i],v,p),c(b,()=>Me(n.startDate.toPlainTime(),{minutes:!1}),P,N),c(b,()=>Me(n.endDate.toPlainTime(),{minutes:!1}),M,ee),c(q,()=>r.description,A,O),c(ne,a(ge,{get each(){return o()},children:(L,re)=>[(()=>{var U=h(fa);return c(U,()=>re()+1),U})(),a(Fe,{get children(){return[a(Q,{get when(){return L.kind==="RESERVED_OTHER"},get children(){return a(w,{children:"Bereits reserviert"})}}),a(Q,{get when(){return!e.isEditable},get children(){return a(w,{children:"Freier Platz"})}}),a(Q,{get when(){return L.kind==="SELF"},get children(){return a(kt,{type:"success",get children(){var U=h($a),ie=U.firstChild,Ee=ie.nextSibling,[Te,we]=f(Ee.nextSibling);return c(U,a(Re,{icon:"trash",onClick:()=>e.removeReservation(L.kind==="SELF"?L.uuid:"should not happen")}),Te,we),U}})}}),a(Q,{get when(){return L.kind==="FRIEND"},get children(){return a(kt,{type:"success",get children(){var U=h(ba),ie=U.firstChild,Ee=ie.firstChild,Te=Ee.nextSibling,[we,Ze]=f(Te.nextSibling);we.nextSibling;var Je=ie.nextSibling,[qe,en]=f(Je.nextSibling);return c(ie,(()=>{var tn=W(()=>L.kind==="FRIEND");return()=>tn()?L.name:"[Fehler beim Laden]"})(),we,Ze),c(U,a(Re,{icon:"trash",onClick:()=>e.removeReservation(L.kind==="FRIEND"?L.uuid:"should not happen")}),qe,en),U}})}}),a(Q,{get when(){return L.kind==="FREE"},get children(){return a(E,{get when(){return u()},get fallback(){return(()=>{var U=h(Sa),ie=U.firstChild,[Ee,Te]=f(ie.nextSibling),we=Ee.nextSibling,[Ze,Je]=f(we.nextSibling);return c(U,a(ue,{icon:"person-to-portal",label:"Mich anmelden",kind:"success",onClick:()=>e.addReservation({kind:"SELF",helpEntryUuid:e.entry.uuid,uuid:crypto.randomUUID()})}),Ee,Te),c(U,a(Tt,{addFriend:qe=>e.addReservation({kind:"FRIEND",helpEntryUuid:e.entry.uuid,name:qe,uuid:crypto.randomUUID()})}),Ze,Je),U})()},get children(){return a(Tt,{addFriend:U=>e.addReservation({kind:"FRIEND",helpEntryUuid:e.entry.uuid,name:U,uuid:crypto.randomUUID()})})}})}})]}})]})),d})()]}var ka=m("<ul role=list>"),pa=m("<li>"),ya=m("<label class=input-radio><input type=radio><!$><!/>");function Da(e){const n=e.layout??"vertical";return(()=>{var t=h(ka);return $e(t,`radio-list ${n}`),c(t,a(ge,{get each(){return e.items},children:r=>(()=>{var i=h(pa);return c(i,a(xa,{get label(){return r.label},get name(){return`${r.value}-${e.name}`},get value(){return r.value},get checked(){return r.checked},onValueUpdate:()=>e.onValueUpdate(r.value)})),i})()})),t})()}function xa(e){return(()=>{var n=h(ya),t=n.firstChild,r=t.nextSibling,[i,l]=f(r.nextSibling);return _n(t,"change",e.onValueUpdate),c(n,()=>e.label,i,l),j(()=>xe(t,"name",e.name)),j(()=>pe(t,"value",e.value)),j(()=>pe(t,"checked",e.checked)),n})()}var Ea=m("<p>Eines der Hauptziele der Luzerner Spieltage ist es, dass die Besucher/-innen noch nicht gespielte Spiele ausprobieren können. Dazu unterstützen uns jedes Jahr Freiwillige und erklären die ihnen bekannten Spiele aus der Spiele-Bibliothek. Diese Erklärbären sind durch ihr rotes T-Shirt erkennbar."),vt=m("<br>"),wa=m("<div class=dynamic-columns><div></div><div><!$><!/><ul><li>Sie müssen nicht alle Spiele der Spiele-Bibliothek kennen!</li><li>Sie erklären Spiele während der eingeplanten Zeit<ul><li>Grundsätzlich spielen die Erklärbären nicht mit</li><li>Sobald die Spieler/-innen die Regeln verstanden haben (z.B. nach den ersten paar Runden) verlassen sie den Tisch</li><li>Sie stehen weiterhin für Fragen zur Verfügung und kommen allenfalls periodisch zum Tisch zurück</li></ul></li><li>Sie bringen Spiele für die Spiele-Bibliothek mit welche sie erklären können<ul><li>Diese Spiele sollen ein breites Spektrum, von einfach bis komplex, abdecken</li><li>Eine Liste der mitgebrachten Spiele (Spiele-Bibliothek) wird vor dem Event von allen Erklärbären zusammen erstellt</li><li>Vor dem Event notieren die Erklärbären, was sie aus der Spiele-Bibliothek erklären können - (Mitbringen eigener Spiele ist nicht Pflicht, falls genügend Spiele aus der Liste erklärt werden können)</li></ul></li><li>Sie erarbeiten gemeinsam vor dem Event eine Empfehlungsliste aus ca.&nbsp;6&nbsp;Spielen<ul><li>Alle Erklärbären sollen die Regeln dieser Spiele vor dem Event lesen"),Aa=m("<h3>"),Ra=m("<div style=display:grid;gap:1rem><!$><!/><!$><!/>"),Ta=m("<p>Bitte nimm mit uns <!$><!/> auf, damit wir uns kurz mit dir absprechen und dir diesen Bereich freischalten können."),Ua=m("<em>Noch keine Einsätze eingetragen"),Ca=m("<h4>Tag"),Pa=m("<h4>Uhrzeit"),Fa=m('<div style="display:grid;grid-template-columns:repeat(2, 1fr);gap:1rem"><!$><!/><!$><!/>'),La=m("<h5>Warnungen"),Ia=m("<ul>"),Ya=m("<li>");function Na(e){return[h(Ea),h(vt),(()=>{var n=h(wa),t=n.firstChild,r=t.nextSibling,i=r.firstChild,[l,s]=f(i.nextSibling);return l.nextSibling,c(t,a(Ha,{get reservations$(){return e.save$.pipe(I.sub("helping"))},get roles(){return e.roles},get isEditable(){return e.isEditable}})),c(r,a(Ye,{level:3,title:"Was machen die Erklärbären"}),l,s),n})()]}function Ha(e){function n(){return e.reservations$.get().filter(t=>t.kind==="ERKLAERBAER")}return[a(Ye,{level:3,title:"Meine Einsätze"}),h(vt),a(Fe,{get fallback(){return a(w,{get children(){var t=h(Ta),r=t.firstChild,i=r.nextSibling,[l,s]=f(i.nextSibling);return l.nextSibling,c(t,a(se,{href:"/kontakt",children:"Kontakt"}),l,s),t}})},get children(){return a(Q,{get when(){return e.roles.includes("erklaerbaer")},get children(){var t=h(Ra),r=t.firstChild,[i,l]=f(r.nextSibling),s=i.nextSibling,[o,u]=f(s.nextSibling);return c(t,a(ge,{get each(){return n()},get fallback(){return h(Ua)},children:d=>a(Oa,{job:d,updateJob:g=>{fe.update(e.reservations$,b=>b.uuid===d.uuid,g)},removeJob:()=>{fe.remove(e.reservations$,g=>g.uuid!==d.uuid)},get isEditable(){return e.isEditable}})}),i,l),c(t,a(E,{get when(){return e.isEditable},get children(){return a(_e,{icon:"grid-2-plus",type:"success",onClick:()=>{fe.push(e.reservations$,{kind:"ERKLAERBAER",uuid:crypto.randomUUID(),slot:{day:"SATURDAY",from:10,to:18}})},get children(){var d=h(Aa);return c(d,()=>T.createNewEntry),d}})}}),o,u),t}})}})]}function Oa(e){function n(){const t=[],{day:r,from:i,to:l}=e.job.slot;i>=l&&t.push("Das Ende muss grösser sein als der Start.");const s=Qt[r],{from:o,to:u}=s.open;return o>i&&t.push(`Die Spieltage öffnen am ${T.days[r]} erst um ${o} Uhr.`),u<l&&t.push(`Die Spieltage schliessen am ${T.days[r]} um ${u} Uhr.`),t}return a(w,{get onClose(){return W(()=>!!e.isEditable)()?e.removeJob:void 0},get children(){return[h(Ca),a(Da,{get items(){return[{label:T.days.SATURDAY,checked:e.job.slot.day==="SATURDAY",value:"SATURDAY"},{label:T.days.SUNDAY,checked:e.job.slot.day==="SUNDAY",value:"SUNDAY"}]},onValueUpdate:t=>{e.updateJob({...e.job,slot:{...e.job.slot,day:t}})},get name(){return`day-entry-${e.job.uuid}`},layout:"horizontal",get disabled(){return!e.isEditable}}),h(vt),h(Pa),(()=>{var t=h(Fa),r=t.firstChild,[i,l]=f(r.nextSibling),s=i.nextSibling,[o,u]=f(s.nextSibling);return c(t,a(pt,{label:"Start",name:"from",get value(){return e.job.slot.from},onValueUpdate:d=>e.updateJob({...e.job,slot:{...e.job.slot,from:d}}),get disabled(){return!e.isEditable}}),i,l),c(t,a(pt,{label:"Ende",name:"to",get value(){return e.job.slot.to},onValueUpdate:d=>e.updateJob({...e.job,slot:{...e.job.slot,to:d}}),get disabled(){return!e.isEditable}}),o,u),t})(),a(E,{get when(){return n().length>0},get children(){return[h(La),(()=>{var t=h(Ia);return c(t,a(ge,{get each(){return n()},children:r=>(()=>{var i=h(Ya);return c(i,r),i})()})),t})()]}})]}})}function Ba(){return a(w,{children:"Inhalt folgt."})}var ja=m("<h3>");function za(e){const n=St();return a(E,{get when(){return e.isEditable},get children(){return a(_e,{icon:"grid-2-plus",type:"success",onClick:()=>{const t=crypto.randomUUID();fe.push(e.programEntries$,{uuid:t,status:"draft",title:"",shortDescription:"",longDescription:"",playerMax:6,slots:[],tagNames:[]}),n(e.link(`/erstellen/${t}`))},get children(){var t=h(ja);return c(t,()=>T.createNewGameRound),t}})}})}var Ma=m("<p>Details konnten nicht geladen werden."),Ut=m("<br>"),Ka=m("<form novalidate>"),Wa=m("<span> mit Fehlern <!$><!/>"),Va=m("<h4>Spielrunde inkomplett"),Za=m("<p>Du hast noch einen oder mehre Fehler/fehlende Informationen in dieser Spielrunde:"),Ja=m("<ul>"),qa=m("<li>");function Ga(e){const n=Zt().uuid??"no-uuid-found";return a(Le,{get fallback(){return a(w,{get children(){return T.loading.program}})},get children(){return a(E,{get when(){return e.publicResource()},get fallback(){return a(w,{type:"danger",get children(){return T.error.help}})},children:t=>a(E,{get when(){return t().kind==="SUCCESS"},get fallback(){return a(w,{type:"danger",get children(){return T.loading.program}})},get children(){return a(Yt,{get fallback(){return a(w,{type:"danger",get children(){return h(Ma)}})},get children(){return a(Qa,{get entry$(){return fe.findExact(e.programEntries$,r=>r.uuid===n)},get isEditable(){return e.isEditable},get link(){return e.link}})}})}})})}})}function Qa(e){const n=Xa(e.entry$.get());return[a(Ke,{get kind(){return n.length>0?"danger":"special"},get children(){return["Status: ",W(()=>T.publishingSteps[e.entry$.get().status]),W(()=>W(()=>n.length>0)()?(()=>{var t=h(Wa),r=t.firstChild,i=r.nextSibling,[l,s]=f(i.nextSibling);return c(t,a(J,{icon:"triangle-exclamation"}),l,s),t})():"")]}}),h(Ut),h(Ut),(()=>{var t=h(Ka);return c(t,a(el,{errors:n})),t})()]}function Xa(e){const n=[];return e.title.trim().length===0&&n.push("Titel ist ein Pflichtfeld"),n}function el(e){return a(E,{get when(){return e.errors.length>0},get children(){return a(w,{type:"danger",get children(){return[h(Va),h(Za),(()=>{var n=h(Ja);return c(n,a(ge,{get each(){return e.errors},children:t=>(()=>{var r=h(qa);return c(r,t),r})()})),n})()]}})}})}function tl(e){const[n]=st(mi),t=Oi({meta:{saveState:"IDLE",lastSaved:new Date,roles:e.initState.roles},save:e.initState.data}),r=crypto.randomUUID(),[i,l]=oe(!1);st(()=>JSON.stringify(t.get().save),async()=>{if(!i()){l(!0);return}if(e.initState.status!=="published"){Nt("Diese Anmeldung wurde deaktiviert und kann nicht editiert werden.",{kind:"danger",uuid:r});return}const o=vn(t.get().save);try{const u=await Bn(t.get().meta,o,e.secret);u.kind==="FAILURE"?console.error(u):t.pipe(I.sub("meta")).pipe(I.sub("lastSaved")).set(u.data)}catch(u){console.error(u),t.pipe(I.sub("meta")).pipe(I.sub("saveState")).set("ERROR")}});function s(o){return`${o}?secret=${e.secret}`}return a(Yr,{children:[{path:"/",component:()=>a(le,{title:"Wo möchtest du starten?",get roles(){return t.get().meta.roles},link:s,get saveState(){return t.get().meta.saveState},get lastSaved(){return t.get().meta.lastSaved},get children(){return a(qr,{get roles(){return t.get().meta.roles},link:s})}})},{path:"/programm",component:()=>a(le,{title:"Programm",get roles(){return t.get().meta.roles},link:s,get saveState(){return t.get().meta.saveState},get lastSaved(){return t.get().meta.lastSaved},get children(){return a(Ba,{})}})},{path:"/erstellen",component:()=>a(le,{title:"Programmpunkte erstellen und editieren",get roles(){return t.get().meta.roles},link:s,get saveState(){return t.get().meta.saveState},get lastSaved(){return t.get().meta.lastSaved},get children(){return a(za,{get programEntries$(){return t.pipe(I.sub("save")).pipe(I.sub("program")).pipe(I.sub("organising"))},publicResource:n,link:s,get isEditable(){return e.initState.status==="published"}})}})},{path:"/erstellen/:uuid",component:()=>a(le,{get roles(){return t.get().meta.roles},link:s,get saveState(){return t.get().meta.saveState},get lastSaved(){return t.get().meta.lastSaved},parentPath:"/erstellen",get children(){return a(Ga,{get programEntries$(){return t.pipe(I.sub("save")).pipe(I.sub("program")).pipe(I.sub("organising"))},publicResource:n,link:s,get isEditable(){return e.initState.status==="published"}})}})},{path:"/helfen",component:()=>a(le,{title:"Helfen",get roles(){return t.get().meta.roles},link:s,get saveState(){return t.get().meta.saveState},get lastSaved(){return t.get().meta.lastSaved},showQuickmenu:!0,get children(){return a(yi,{get reservations$(){return t.pipe(I.sub("save")).pipe(I.sub("helping"))},publicResource:n,get isEditable(){return e.initState.status==="published"},link:s,get roles(){return t.get().meta.roles}})}})},{path:"/helfen/:uuid",component:()=>a(le,{link:s,get roles(){return t.get().meta.roles},get saveState(){return t.get().meta.saveState},get lastSaved(){return t.get().meta.lastSaved},showQuickmenu:!0,parentPath:"/helfen",get children(){return a(_a,{get reservations$(){return t.pipe(I.sub("save")).pipe(I.sub("helping"))},publicResource:n,link:s,get isEditable(){return e.initState.status==="published"}})}})},{path:"/erklaerbaer",component:()=>a(le,{title:"Helfen: Erklärbären",get roles(){return t.get().meta.roles},link:s,get saveState(){return t.get().meta.saveState},get lastSaved(){return t.get().meta.lastSaved},showQuickmenu:!0,parentPath:"/helfen",get children(){return a(Na,{get save$(){return t.pipe(I.sub("save"))},get roles(){return t.get().meta.roles},get isEditable(){return e.initState.status==="published"}})}})},{path:"/zusammenfassung",component:()=>a(le,{title:"Zusammenfassung",get roles(){return t.get().meta.roles},link:s,get saveState(){return t.get().meta.saveState},get lastSaved(){return t.get().meta.lastSaved},showQuickmenu:!0,get children(){return a(Zi,{get save$(){return t.pipe(I.sub("save"))},publicResource:n,link:s,get isEditable(){return e.initState.status==="published"}})}})},{path:"*",component:()=>a(le,{title:"Seite nicht gefunden",get roles(){return t.get().meta.roles},link:s,get saveState(){return t.get().meta.saveState},get lastSaved(){return t.get().meta.lastSaved},showQuickmenu:!0,get children(){return a(w,{type:"danger",get children(){return T.error.siteNotFound}})}})}]})}function nl(){return a(w,{get children(){return T.loading.registration}})}function ol(){const n=URL.parse(location.toString().replace("#/",""))?.searchParams.get("secret")??"no-secret-found",[t]=st(()=>Hn(n));return a(Yt,{fallback:r=>(console.error(r),a(w,{type:"danger",get children(){return T.error.general}})),get children(){return a(Le,{get fallback(){return a(nl,{})},get children(){return a(Fe,{get children(){return a(Q,{get when(){return t()},children:r=>{const{kind:i,value:l}=sn(r());return i==="FAILURE"?l.reason==="SECRET_INVALID"?a(w,{type:"danger",get children(){return T.error.secretError}}):(console.error(l),a(w,{type:"danger",get children(){return T.error.ourMistake}})):a(tl,{get initState(){return l.data},secret:n})}})}})}})}})}export{ol as MeineAnmeldungWrapper};
