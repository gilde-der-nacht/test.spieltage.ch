import{m as B,o as W,g as d,t as D,a as V,i as b,c as e,b as S,s as T,u as G,d as R,e as k,r as z,f as x,S as m,F as M,h as I,M as N}from"./web.x3tUugcc.js";import{b as j,e as J,I as P,B as w,a as K}from"./utils.CBJVEUl0.js";var Q=D("<form method=post><!$><!/><!$><!/>");function X(n){const a=B({language:"de",submitLabel:n.language==="en"?"Submit":"Absenden"},n);let h;W(()=>{h.setAttribute("novalidate",""),[...h.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(i=>i.remove())});async function E(s){const{target:i}=s;if(i!==null&&i instanceof HTMLFormElement){s.preventDefault();const u=new FormData(i);if(!a.isValid(u))return;try{const l=await fetch(a.actionUrl,{method:"post",body:u});l.ok?a.onSuccess():a.onError(await l.text())}catch(l){a.onError(l)}}}return(()=>{var s=d(Q),i=s.firstChild,[u,l]=V(i.nextSibling),p=u.nextSibling,[f,y]=V(p.nextSibling),$=h;return typeof $=="function"?G($,s):h=s,s.addEventListener("submit",E),b(s,()=>a.children,u,l),b(s,e(j,{type:"submit",get label(){return a.submitLabel}}),f,y),S(()=>T(s,"action",a.actionUrl.href)),s})()}var Y=D("<label><!$><!/><textarea>");function Z(n){const a=B({required:!0},n);return(()=>{var h=d(Y),E=h.firstChild,[s,i]=V(E.nextSibling),u=s.nextSibling;return b(h,()=>a.label,s,i),u.$$input=l=>a.onValueUpdate(l.target.value),S(l=>{var p=a.name,f=a.label,y=a.required;return p!==l.e&&T(u,"name",l.e=p),f!==l.t&&T(u,"placeholder",l.t=f),y!==l.a&&k(u,"required",l.a=y),l},{e:void 0,t:void 0,a:void 0}),S(()=>k(u,"value",a.value)),z(),h})()}R(["input"]);var ee=D("<input type=hidden>");function _(n){return(()=>{var a=d(ee);return S(()=>T(a,"name",n.name)),S(()=>k(a,"value",n.value)),a})()}var q=D("<br>"),L=D("<p>");function A(){return{name:"",email:"",captcha:"",message:""}}function U(){return{name:[],email:[],captcha:[],message:[]}}const te=J("/forms");function ae(n){const a="Name",h=n.language!=="en"?"E-Mail":"Email",E=n.language!=="en"?"Bitte leer lassen":"leave this field empty",s=n.language!=="en"?"Nachricht":"Message",[i,u]=x(A());let l;const[p,f]=x(!1),[y,$]=x(!1);function C(){$(!1),u(A()),f(!0)}function H(t){f(!1),$(!0),console.error(t)}const[g,v]=x(U());function F(t){return r=>{$(!1),v(U()),u(o=>({...o,[t]:r}))}}function O(t){v(U());const r=n.language==="en";if(i().name.trim().length===0){const o=r?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";v(c=>({...c,name:[...c.name,o]}))}if(i().email.trim().length===0){const o=r?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";v(c=>({...c,email:[...c.email,o]}))}if(l.validity.typeMismatch){const o=r?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";v(c=>({...c,email:[...c.email,o]}))}if(i().captcha.trim().length>0){const o=r?"This is field must be empty.":"Dieses Feld muss leer bleiben.";v(c=>({...c,captcha:[...c.captcha,o]}))}if(i().message.trim().length===0){const o=r?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";v(c=>({...c,message:[...c.message,o]}))}return g().name.length===0&&g().email.length===0&&g().captcha.length===0&&g().message.length===0}return[e(X,{actionUrl:te,get language(){return n.language??"de"},isValid:O,onSuccess:C,onError:H,get children(){return[e(P,{label:a,name:"private-name",get value(){return i().name},get onValueUpdate(){return F("name")}}),e(m,{get when(){return g().name.length>0},get children(){return e(w,{type:"danger",get children(){return e(M,{get each(){return g().name},children:t=>(()=>{var r=d(L);return b(r,t),r})()})}})}}),e(K,{label:h,name:"private-email",type:"email",get value(){return i().email},get onValueUpdate(){return F("email")},ref(t){var r=l;typeof r=="function"?r(t):l=t}}),e(m,{get when(){return g().email.length>0},get children(){return e(w,{type:"danger",get children(){return e(M,{get each(){return g().email},children:t=>(()=>{var r=d(L);return b(r,t),r})()})}})}}),e(P,{label:E,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return i().captcha},get onValueUpdate(){return F("captcha")}}),e(m,{get when(){return g().captcha.length>0},get children(){return e(w,{type:"danger",get children(){return e(M,{get each(){return g().captcha},children:t=>(()=>{var r=d(L);return b(r,t),r})()})}})}}),e(Z,{label:s,name:"private-message",get value(){return i().message},get onValueUpdate(){return F("message")}}),e(m,{get when(){return g().message.length>0},get children(){return e(w,{type:"danger",get children(){return e(M,{get each(){return g().message},children:t=>(()=>{var r=d(L);return b(r,t),r})()})}})}}),e(m,{get when(){return n.language},children:t=>e(_,{name:"language",get value(){return t()}})}),e(m,{get when(){return n.category},children:t=>e(_,{name:"category",get value(){return t()}})}),e(m,{get when(){return n.referer},children:t=>e(_,{name:"referer",get value(){return t().href}})}),e(m,{get when(){return n.redirectOnSuccess},children:t=>e(_,{name:"redirect-on-success",get value(){return t().href}})}),e(m,{get when(){return n.redirectOnFailure},children:t=>e(_,{name:"redirect-on-failure",get value(){return t().href}})}),e(m,{get when(){return n.redirectOnSpam},children:t=>e(_,{name:"redirect-on-spam",get value(){return t().href}})})]}}),e(m,{get when(){return y()},get children(){return[d(q),e(w,{type:"danger",get children(){return e(I,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return e(N,{get when(){return n.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),e(m,{get when(){return p()},get children(){return[d(q),e(w,{type:"success",get children(){return e(I,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return e(N,{get when(){return n.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{ae as ContactFormImpl};
