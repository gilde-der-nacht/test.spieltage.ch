import{m as B,o as W,g as f,t as D,a as N,i as y,c as e,b as S,s as T,u as z,d as G,e as R,f as V,r as j,h as x,S as m,F as M,j as k,M as I}from"./web.MlMwTvoW.js";import{B as J,e as K,I as P,a as w,b as Q}from"./utils.DlsWdZDC.js";var X=D("<form method=post><!$><!/><!$><!/>");function Y(r){const l=B({language:"de",submitLabel:r.language==="en"?"Submit":"Absenden"},r);let h;W(()=>{h.setAttribute("novalidate",""),[...h.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(i=>i.remove())});async function _(s){const{target:i}=s;if(i!==null&&i instanceof HTMLFormElement){s.preventDefault();const u=new FormData(i);if(!l.isValid(u))return;try{const n=await fetch(l.actionUrl,{method:"post",body:u});n.ok?l.onSuccess():l.onError(await n.text())}catch(n){l.onError(n)}}}return(()=>{var s=f(X),i=s.firstChild,[u,n]=N(i.nextSibling),p=u.nextSibling,[v,$]=N(p.nextSibling),d=h;return typeof d=="function"?z(d,s):h=s,s.addEventListener("submit",_),y(s,()=>l.children,u,n),y(s,e(J,{type:"submit",get label(){return l.submitLabel}}),v,$),S(()=>T(s,"action",l.actionUrl.href)),s})()}var Z=D("<label><!$><!/><textarea>");function ee(r){const l=B({required:!0},r);return(()=>{var h=f(Z),_=h.firstChild,[s,i]=N(_.nextSibling),u=s.nextSibling;return y(h,()=>l.label,s,i),u.$$input=n=>l.onValueUpdate(n.target.value),S(n=>{var p=r.size==="sm"?"small":"",v=l.name,$=l.label,d=l.required;return p!==n.e&&R(u,n.e=p),v!==n.t&&T(u,"name",n.t=v),$!==n.a&&T(u,"placeholder",n.a=$),d!==n.o&&V(u,"required",n.o=d),n},{e:void 0,t:void 0,a:void 0,o:void 0}),S(()=>V(u,"value",l.value)),j(),h})()}G(["input"]);var te=D("<input type=hidden>");function E(r){return(()=>{var l=f(te);return S(()=>T(l,"name",r.name)),S(()=>V(l,"value",r.value)),l})()}var q=D("<br>"),L=D("<p>");function A(){return{name:"",email:"",captcha:"",message:""}}function U(){return{name:[],email:[],captcha:[],message:[]}}const re=K("/forms");function le(r){const l="Name",h=r.language!=="en"?"E-Mail":"Email",_=r.language!=="en"?"Bitte leer lassen":"leave this field empty",s=r.language!=="en"?"Nachricht":"Message",[i,u]=x(A());let n;const[p,v]=x(!1),[$,d]=x(!1);function C(){d(!1),u(A()),v(!0)}function H(t){v(!1),d(!0),console.error(t)}const[g,b]=x(U());function F(t){return a=>{d(!1),b(U()),u(o=>({...o,[t]:a}))}}function O(t){b(U());const a=r.language==="en";if(i().name.trim().length===0){const o=a?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";b(c=>({...c,name:[...c.name,o]}))}if(i().email.trim().length===0){const o=a?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";b(c=>({...c,email:[...c.email,o]}))}if(n.validity.typeMismatch){const o=a?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";b(c=>({...c,email:[...c.email,o]}))}if(i().captcha.trim().length>0){const o=a?"This is field must be empty.":"Dieses Feld muss leer bleiben.";b(c=>({...c,captcha:[...c.captcha,o]}))}if(i().message.trim().length===0){const o=a?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";b(c=>({...c,message:[...c.message,o]}))}return g().name.length===0&&g().email.length===0&&g().captcha.length===0&&g().message.length===0}return[e(Y,{actionUrl:re,get language(){return r.language??"de"},isValid:O,onSuccess:C,onError:H,get children(){return[e(P,{label:l,name:"private-name",get value(){return i().name},get onValueUpdate(){return F("name")}}),e(m,{get when(){return g().name.length>0},get children(){return e(w,{type:"danger",get children(){return e(M,{get each(){return g().name},children:t=>(()=>{var a=f(L);return y(a,t),a})()})}})}}),e(Q,{label:h,name:"private-email",type:"email",get value(){return i().email},get onValueUpdate(){return F("email")},ref(t){var a=n;typeof a=="function"?a(t):n=t}}),e(m,{get when(){return g().email.length>0},get children(){return e(w,{type:"danger",get children(){return e(M,{get each(){return g().email},children:t=>(()=>{var a=f(L);return y(a,t),a})()})}})}}),e(P,{label:_,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return i().captcha},get onValueUpdate(){return F("captcha")}}),e(m,{get when(){return g().captcha.length>0},get children(){return e(w,{type:"danger",get children(){return e(M,{get each(){return g().captcha},children:t=>(()=>{var a=f(L);return y(a,t),a})()})}})}}),e(ee,{label:s,name:"private-message",get value(){return i().message},get onValueUpdate(){return F("message")}}),e(m,{get when(){return g().message.length>0},get children(){return e(w,{type:"danger",get children(){return e(M,{get each(){return g().message},children:t=>(()=>{var a=f(L);return y(a,t),a})()})}})}}),e(m,{get when(){return r.language},children:t=>e(E,{name:"language",get value(){return t()}})}),e(m,{get when(){return r.category},children:t=>e(E,{name:"category",get value(){return t()}})}),e(m,{get when(){return r.referer},children:t=>e(E,{name:"referer",get value(){return t().href}})}),e(m,{get when(){return r.redirectOnSuccess},children:t=>e(E,{name:"redirect-on-success",get value(){return t().href}})}),e(m,{get when(){return r.redirectOnFailure},children:t=>e(E,{name:"redirect-on-failure",get value(){return t().href}})}),e(m,{get when(){return r.redirectOnSpam},children:t=>e(E,{name:"redirect-on-spam",get value(){return t().href}})})]}}),e(m,{get when(){return $()},get children(){return[f(q),e(w,{type:"danger",get children(){return e(k,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return e(I,{get when(){return r.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),e(m,{get when(){return p()},get children(){return[f(q),e(w,{type:"success",get children(){return e(k,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return e(I,{get when(){return r.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{le as ContactFormImpl};
