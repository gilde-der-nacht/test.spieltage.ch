import{g as m,t as k,c as S,a as F,s as Y,d as I,i as v,b as r,e as x,f as D,r as V,m as N,o as Z,h as C,u as J,j as P,S as _,k as B,F as H,l as j,M as O}from"./web.CXIi3SLr.js";var p=k("<i>");function K(e){const t=(e.classes??[]).concat(["fa-duotone",`fa-${e.icon}`]);return(()=>{var n=m(p);return S(l=>{var u=t.join(" "),c=e.style;return u!==l.e&&F(n,l.e=u),l.t=Y(n,c,l.t),l},{e:void 0,t:void 0}),n})()}var Q=k("<button>");function ee(e){const t=()=>{const n=[];return e.kind!==void 0?n.push(`button-${e.kind}`):e.disabled?n.push("button-gray"):n.push("button-accent"),e.onClick===void 0&&e.type!=="submit"&&n.push("button-no-event"),n};return(()=>{var n=m(Q);return n.$$click=l=>e.onClick?.(l),v(n,()=>e.label),S(l=>{var u=e.type??"button",c=t().join(" "),a=e.disabled===!0;return u!==l.e&&x(n,"type",l.e=u),c!==l.t&&F(n,l.t=c),a!==l.a&&D(n,"disabled",l.a=a),l},{e:void 0,t:void 0,a:void 0}),V(),n})()}function te(e){const t=()=>{const n=["button-icon"];return e.kind!==void 0?n.push(`button-${e.kind}`):e.disabled?n.push("button-gray"):n.push("button-accent"),e.onClick===void 0&&n.push("button-no-event"),n};return(()=>{var n=m(Q);return n.$$click=l=>e.onClick?.(l),v(n,r(K,{get icon(){return e.icon}})),S(l=>{var u=e.type??"button",c=t().join(" "),a=e.disabled===!0;return u!==l.e&&x(n,"type",l.e=u),c!==l.t&&F(n,l.t=c),a!==l.a&&D(n,"disabled",l.a=a),l},{e:void 0,t:void 0,a:void 0}),V(),n})()}I(["click"]);var ne=k("<form method=post><!$><!/><!$><!/>");function re(e){const t=N({language:"de",submitLabel:e.language==="en"?"Submit":"Absenden"},e);let n;Z(()=>{n.setAttribute("novalidate",""),[...n.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(c=>c.remove())});async function l(u){const{target:c}=u;if(c!==null&&c instanceof HTMLFormElement){u.preventDefault();const a=new FormData(c);if(!t.isValid(a))return;try{const i=await fetch(t.actionUrl,{method:"post",body:a});i.ok?t.onSuccess():t.onError(await i.text())}catch(i){t.onError(i)}}}return(()=>{var u=m(ne),c=u.firstChild,[a,i]=C(c.nextSibling),o=a.nextSibling,[g,f]=C(o.nextSibling),h=n;return typeof h=="function"?J(h,u):n=u,u.addEventListener("submit",l),v(u,()=>t.children,a,i),v(u,r(ee,{type:"submit",get label(){return t.submitLabel}}),g,f),S(()=>x(u,"action",t.actionUrl.href)),u})()}var X=k("<label><!$><!/><input>");function R(e){const t=N({type:"text",required:!0,isHoneypot:!1},e);return(()=>{var n=m(X),l=n.firstChild,[u,c]=C(l.nextSibling),a=u.nextSibling;return v(n,()=>t.label,u,c),P(a,"blur",e.onBlur),a.$$input=i=>t.onValueUpdate(i.target.value),S(i=>{var o=t.isHoneypot?"honey":"",g=t.type,f=t.name,h=t.label,w=t.required;return o!==i.e&&F(n,i.e=o),g!==i.t&&x(a,"type",i.t=g),f!==i.a&&x(a,"name",i.a=f),h!==i.o&&x(a,"placeholder",i.o=h),w!==i.i&&D(a,"required",i.i=w),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),S(()=>D(a,"value",t.value)),V(),n})()}function ae(e){const t=N({type:"text",required:!0,isHoneypot:!1},e);return(()=>{var n=m(X),l=n.firstChild,[u,c]=C(l.nextSibling),a=u.nextSibling;v(n,()=>t.label,u,c);var i=t.ref;return typeof i=="function"?J(i,a):t.ref=a,P(a,"blur",e.onBlur),a.$$input=o=>t.onValueUpdate(o.target.value),S(o=>{var g=t.isHoneypot?"honey":"",f=t.type,h=t.name,w=t.label,L=t.required;return g!==o.e&&F(n,o.e=g),f!==o.t&&x(a,"type",o.t=f),h!==o.a&&x(a,"name",o.a=h),w!==o.o&&x(a,"placeholder",o.o=w),L!==o.i&&D(a,"required",o.i=L),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),S(()=>D(a,"value",t.value)),V(),n})()}I(["input"]);var ie=k("<label><!$><!/><textarea>");function le(e){const t=N({required:!0},e);return(()=>{var n=m(ie),l=n.firstChild,[u,c]=C(l.nextSibling),a=u.nextSibling;return v(n,()=>t.label,u,c),P(a,"blur",e.onBlur),a.$$input=i=>t.onValueUpdate(i.target.value),S(i=>{var o=e.size==="sm"?"small":"",g=t.name,f=t.label,h=t.required;return o!==i.e&&F(a,i.e=o),g!==i.t&&x(a,"name",i.t=g),f!==i.a&&x(a,"placeholder",i.a=f),h!==i.o&&D(a,"required",i.o=h),i},{e:void 0,t:void 0,a:void 0,o:void 0}),S(()=>D(a,"value",t.value)),V(),n})()}I(["input"]);var ue=k("<input type=hidden>");function U(e){return(()=>{var t=m(ue);return S(()=>x(t,"name",e.name)),S(()=>D(t,"value",e.value)),t})()}var ce=k("<a><!$><!/><span> <!$><!/>"),se=k("<div><!$><!/><span></span><!$><!/>");function M(e){return(()=>{var t=m(se),n=t.firstChild,[l,u]=C(n.nextSibling),c=l.nextSibling,a=c.nextSibling,[i,o]=C(a.nextSibling);return P(t,"click",e.onClick,!0),v(t,r(_,{get when(){return e.onClose},children:g=>r(te,{get onClick(){return g()},icon:"circle-xmark",kind:"gray"})}),l,u),v(c,()=>e.children),v(t,r(_,{get when(){return e.link!==void 0&&e.linkLabel!==void 0},get children(){var g=m(ce),f=g.firstChild,[h,w]=C(f.nextSibling),L=h.nextSibling,b=L.firstChild,E=b.nextSibling,[q,A]=C(E.nextSibling);return v(g,r(K,{icon:"arrow-turn-down-right",classes:["event-icon"]}),h,w),v(L,()=>e.linkLabel,q,A),S(s=>{var d=e.link??"",$=`button button-small button-${e.type??"gray"}`;return d!==s.e&&x(g,"href",s.e=d),$!==s.t&&F(g,s.t=$),s},{e:void 0,t:void 0}),g}}),i,o),S(()=>F(t,`box-${e.type??"gray"} ${e.onClose!==void 0?"box-with-close":""}`)),V(),t})()}I(["click"]);function oe(e){return new URL(e,"https://elysium.gildedernacht.ch")}var z=k("<br>"),T=k("<p>");function G(){return{name:"",email:"",captcha:"",message:""}}function W(){return{name:[],email:[],captcha:[],message:[]}}const de=oe("/forms");function he(e){const t="Name",n=e.language!=="en"?"E-Mail":"Email",l=e.language!=="en"?"Bitte leer lassen":"leave this field empty",u=e.language!=="en"?"Nachricht":"Message",[c,a]=B(G());let i;const[o,g]=B(!1),[f,h]=B(!1);function w(){h(!1),a(G()),g(!0)}function L(s){g(!1),h(!0),console.error(s)}const[b,E]=B(W());function q(s){return d=>{h(!1),E(W()),a($=>({...$,[s]:d}))}}function A(s){E(W());const d=e.language==="en";if(c().name.trim().length===0){const $=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(y=>({...y,name:[...y.name,$]}))}if(c().email.trim().length===0){const $=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(y=>({...y,email:[...y.email,$]}))}if(i.validity.typeMismatch){const $=d?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";E(y=>({...y,email:[...y.email,$]}))}if(c().captcha.trim().length>0){const $=d?"This is field must be empty.":"Dieses Feld muss leer bleiben.";E(y=>({...y,captcha:[...y.captcha,$]}))}if(c().message.trim().length===0){const $=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(y=>({...y,message:[...y.message,$]}))}return b().name.length===0&&b().email.length===0&&b().captcha.length===0&&b().message.length===0}return[r(re,{actionUrl:de,get language(){return e.language??"de"},isValid:A,onSuccess:w,onError:L,get children(){return[r(R,{label:t,name:"private-name",get value(){return c().name},get onValueUpdate(){return q("name")}}),r(_,{get when(){return b().name.length>0},get children(){return r(M,{type:"danger",get children(){return r(H,{get each(){return b().name},children:s=>(()=>{var d=m(T);return v(d,s),d})()})}})}}),r(ae,{label:n,name:"private-email",type:"email",get value(){return c().email},get onValueUpdate(){return q("email")},ref(s){var d=i;typeof d=="function"?d(s):i=s}}),r(_,{get when(){return b().email.length>0},get children(){return r(M,{type:"danger",get children(){return r(H,{get each(){return b().email},children:s=>(()=>{var d=m(T);return v(d,s),d})()})}})}}),r(R,{label:l,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return c().captcha},get onValueUpdate(){return q("captcha")}}),r(_,{get when(){return b().captcha.length>0},get children(){return r(M,{type:"danger",get children(){return r(H,{get each(){return b().captcha},children:s=>(()=>{var d=m(T);return v(d,s),d})()})}})}}),r(le,{label:u,name:"private-message",get value(){return c().message},get onValueUpdate(){return q("message")}}),r(_,{get when(){return b().message.length>0},get children(){return r(M,{type:"danger",get children(){return r(H,{get each(){return b().message},children:s=>(()=>{var d=m(T);return v(d,s),d})()})}})}}),r(_,{get when(){return e.language},children:s=>r(U,{name:"language",get value(){return s()}})}),r(_,{get when(){return e.category},children:s=>r(U,{name:"category",get value(){return s()}})}),r(_,{get when(){return e.referer},children:s=>r(U,{name:"referer",get value(){return s().href}})}),r(_,{get when(){return e.redirectOnSuccess},children:s=>r(U,{name:"redirect-on-success",get value(){return s().href}})}),r(_,{get when(){return e.redirectOnFailure},children:s=>r(U,{name:"redirect-on-failure",get value(){return s().href}})}),r(_,{get when(){return e.redirectOnSpam},children:s=>r(U,{name:"redirect-on-spam",get value(){return s().href}})})]}}),r(_,{get when(){return f()},get children(){return[m(z),r(M,{type:"danger",get children(){return r(j,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return r(O,{get when(){return e.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),r(_,{get when(){return o()},get children(){return[m(z),r(M,{type:"success",get children(){return r(j,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return r(O,{get when(){return e.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{he as ContactFormImpl};
