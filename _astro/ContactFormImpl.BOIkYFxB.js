import{g as m,t as k,c as x,a as F,s as Y,d as I,i as v,b as a,e as f,f as D,r as V,m as N,o as Z,h as C,u as J,j as P,S,k as B,F as H,l as j,M as O}from"./web.CXIi3SLr.js";var p=k("<i>");function K(e){const t=(e.classes??[]).concat(["fa-duotone",`fa-${e.icon}`]);return(()=>{var n=m(p);return x(i=>{var u=t.join(" "),c=e.style;return u!==i.e&&F(n,i.e=u),i.t=Y(n,c,i.t),i},{e:void 0,t:void 0}),n})()}var Q=k("<button>");function ee(e){const t=()=>{const n=[];return e.kind!==void 0?n.push(`button-${e.kind}`):e.disabled?n.push("button-gray"):n.push("button-accent"),e.onClick===void 0&&e.type!=="submit"&&n.push("button-no-event"),n};return(()=>{var n=m(Q);return n.$$click=i=>e.onClick?.(i),v(n,()=>e.label),x(i=>{var u=e.type??"button",c=t().join(" "),l=e.disabled===!0,r=e.title;return u!==i.e&&f(n,"type",i.e=u),c!==i.t&&F(n,i.t=c),l!==i.a&&D(n,"disabled",i.a=l),r!==i.o&&f(n,"title",i.o=r),i},{e:void 0,t:void 0,a:void 0,o:void 0}),V(),n})()}function te(e){const t=()=>{const n=["button-icon"];return e.kind!==void 0?n.push(`button-${e.kind}`):e.disabled?n.push("button-gray"):n.push("button-accent"),e.onClick===void 0&&n.push("button-no-event"),n};return(()=>{var n=m(Q);return n.$$click=i=>e.onClick?.(i),v(n,a(K,{get icon(){return e.icon}})),x(i=>{var u=e.type??"button",c=t().join(" "),l=e.disabled===!0,r=e.title;return u!==i.e&&f(n,"type",i.e=u),c!==i.t&&F(n,i.t=c),l!==i.a&&D(n,"disabled",i.a=l),r!==i.o&&f(n,"title",i.o=r),i},{e:void 0,t:void 0,a:void 0,o:void 0}),V(),n})()}I(["click"]);var ne=k("<form method=post><!$><!/><!$><!/>");function re(e){const t=N({language:"de",submitLabel:e.language==="en"?"Submit":"Absenden"},e);let n;Z(()=>{n.setAttribute("novalidate",""),[...n.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(c=>c.remove())});async function i(u){const{target:c}=u;if(c!==null&&c instanceof HTMLFormElement){u.preventDefault();const l=new FormData(c);if(!t.isValid(l))return;try{const r=await fetch(t.actionUrl,{method:"post",body:l});r.ok?t.onSuccess():t.onError(await r.text())}catch(r){t.onError(r)}}}return(()=>{var u=m(ne),c=u.firstChild,[l,r]=C(c.nextSibling),o=l.nextSibling,[g,b]=C(o.nextSibling),h=n;return typeof h=="function"?J(h,u):n=u,u.addEventListener("submit",i),v(u,()=>t.children,l,r),v(u,a(ee,{type:"submit",get label(){return t.submitLabel}}),g,b),x(()=>f(u,"action",t.actionUrl.href)),u})()}var X=k("<label><!$><!/><input>");function R(e){const t=N({type:"text",required:!0,isHoneypot:!1},e);return(()=>{var n=m(X),i=n.firstChild,[u,c]=C(i.nextSibling),l=u.nextSibling;return v(n,()=>t.label,u,c),P(l,"blur",e.onBlur),l.$$input=r=>t.onValueUpdate(r.target.value),x(r=>{var o=t.isHoneypot?"honey":"",g=t.type,b=t.name,h=t.label,w=t.required;return o!==r.e&&F(n,r.e=o),g!==r.t&&f(l,"type",r.t=g),b!==r.a&&f(l,"name",r.a=b),h!==r.o&&f(l,"placeholder",r.o=h),w!==r.i&&D(l,"required",r.i=w),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),x(()=>D(l,"value",t.value)),V(),n})()}function ae(e){const t=N({type:"text",required:!0,isHoneypot:!1},e);return(()=>{var n=m(X),i=n.firstChild,[u,c]=C(i.nextSibling),l=u.nextSibling;v(n,()=>t.label,u,c);var r=t.ref;return typeof r=="function"?J(r,l):t.ref=l,P(l,"blur",e.onBlur),l.$$input=o=>t.onValueUpdate(o.target.value),x(o=>{var g=t.isHoneypot?"honey":"",b=t.type,h=t.name,w=t.label,L=t.required;return g!==o.e&&F(n,o.e=g),b!==o.t&&f(l,"type",o.t=b),h!==o.a&&f(l,"name",o.a=h),w!==o.o&&f(l,"placeholder",o.o=w),L!==o.i&&D(l,"required",o.i=L),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),x(()=>D(l,"value",t.value)),V(),n})()}I(["input"]);var ie=k("<label><!$><!/><textarea>");function le(e){const t=N({required:!0},e);return(()=>{var n=m(ie),i=n.firstChild,[u,c]=C(i.nextSibling),l=u.nextSibling;return v(n,()=>t.label,u,c),P(l,"blur",e.onBlur),l.$$input=r=>t.onValueUpdate(r.target.value),x(r=>{var o=e.size==="small"?"small":"",g=t.name,b=t.label,h=t.required;return o!==r.e&&F(l,r.e=o),g!==r.t&&f(l,"name",r.t=g),b!==r.a&&f(l,"placeholder",r.a=b),h!==r.o&&D(l,"required",r.o=h),r},{e:void 0,t:void 0,a:void 0,o:void 0}),x(()=>D(l,"value",t.value)),V(),n})()}I(["input"]);var ue=k("<input type=hidden>");function U(e){return(()=>{var t=m(ue);return x(()=>f(t,"name",e.name)),x(()=>D(t,"value",e.value)),t})()}var ce=k("<a><!$><!/><span> <!$><!/>"),se=k("<div><!$><!/><span></span><!$><!/>");function M(e){return(()=>{var t=m(se),n=t.firstChild,[i,u]=C(n.nextSibling),c=i.nextSibling,l=c.nextSibling,[r,o]=C(l.nextSibling);return P(t,"click",e.onClick,!0),v(t,a(S,{get when(){return e.onClose},children:g=>a(te,{get onClick(){return g()},icon:"circle-xmark",kind:"gray"})}),i,u),v(c,()=>e.children),v(t,a(S,{get when(){return e.link!==void 0&&e.linkLabel!==void 0},get children(){var g=m(ce),b=g.firstChild,[h,w]=C(b.nextSibling),L=h.nextSibling,$=L.firstChild,E=$.nextSibling,[q,A]=C(E.nextSibling);return v(g,a(K,{icon:"arrow-turn-down-right",classes:["event-icon"]}),h,w),v(L,()=>e.linkLabel,q,A),x(s=>{var d=e.link??"",y=`button button-small button-${e.type??"gray"}`;return d!==s.e&&f(g,"href",s.e=d),y!==s.t&&F(g,s.t=y),s},{e:void 0,t:void 0}),g}}),r,o),x(()=>F(t,`box-${e.type??"gray"} ${e.onClose!==void 0?"box-with-close":""}`)),V(),t})()}I(["click"]);function oe(e){return new URL(e,"https://elysium.gildedernacht.ch")}var z=k("<br>"),T=k("<p>");function G(){return{name:"",email:"",captcha:"",message:""}}function W(){return{name:[],email:[],captcha:[],message:[]}}const de=oe("/forms");function he(e){const t="Name",n=e.language!=="en"?"E-Mail":"Email",i=e.language!=="en"?"Bitte leer lassen":"leave this field empty",u=e.language!=="en"?"Nachricht":"Message",[c,l]=B(G());let r;const[o,g]=B(!1),[b,h]=B(!1);function w(){h(!1),l(G()),g(!0)}function L(s){g(!1),h(!0),console.error(s)}const[$,E]=B(W());function q(s){return d=>{h(!1),E(W()),l(y=>({...y,[s]:d}))}}function A(s){E(W());const d=e.language==="en";if(c().name.trim().length===0){const y=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(_=>({..._,name:[..._.name,y]}))}if(c().email.trim().length===0){const y=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(_=>({..._,email:[..._.email,y]}))}if(r.validity.typeMismatch){const y=d?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";E(_=>({..._,email:[..._.email,y]}))}if(c().captcha.trim().length>0){const y=d?"This is field must be empty.":"Dieses Feld muss leer bleiben.";E(_=>({..._,captcha:[..._.captcha,y]}))}if(c().message.trim().length===0){const y=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(_=>({..._,message:[..._.message,y]}))}return $().name.length===0&&$().email.length===0&&$().captcha.length===0&&$().message.length===0}return[a(re,{actionUrl:de,get language(){return e.language??"de"},isValid:A,onSuccess:w,onError:L,get children(){return[a(R,{label:t,name:"private-name",get value(){return c().name},get onValueUpdate(){return q("name")}}),a(S,{get when(){return $().name.length>0},get children(){return a(M,{type:"danger",get children(){return a(H,{get each(){return $().name},children:s=>(()=>{var d=m(T);return v(d,s),d})()})}})}}),a(ae,{label:n,name:"private-email",type:"email",get value(){return c().email},get onValueUpdate(){return q("email")},ref(s){var d=r;typeof d=="function"?d(s):r=s}}),a(S,{get when(){return $().email.length>0},get children(){return a(M,{type:"danger",get children(){return a(H,{get each(){return $().email},children:s=>(()=>{var d=m(T);return v(d,s),d})()})}})}}),a(R,{label:i,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return c().captcha},get onValueUpdate(){return q("captcha")}}),a(S,{get when(){return $().captcha.length>0},get children(){return a(M,{type:"danger",get children(){return a(H,{get each(){return $().captcha},children:s=>(()=>{var d=m(T);return v(d,s),d})()})}})}}),a(le,{label:u,name:"private-message",get value(){return c().message},get onValueUpdate(){return q("message")}}),a(S,{get when(){return $().message.length>0},get children(){return a(M,{type:"danger",get children(){return a(H,{get each(){return $().message},children:s=>(()=>{var d=m(T);return v(d,s),d})()})}})}}),a(S,{get when(){return e.language},children:s=>a(U,{name:"language",get value(){return s()}})}),a(S,{get when(){return e.category},children:s=>a(U,{name:"category",get value(){return s()}})}),a(S,{get when(){return e.referer},children:s=>a(U,{name:"referer",get value(){return s().href}})}),a(S,{get when(){return e.redirectOnSuccess},children:s=>a(U,{name:"redirect-on-success",get value(){return s().href}})}),a(S,{get when(){return e.redirectOnFailure},children:s=>a(U,{name:"redirect-on-failure",get value(){return s().href}})}),a(S,{get when(){return e.redirectOnSpam},children:s=>a(U,{name:"redirect-on-spam",get value(){return s().href}})})]}}),a(S,{get when(){return b()},get children(){return[m(z),a(M,{type:"danger",get children(){return a(j,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return a(O,{get when(){return e.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),a(S,{get when(){return o()},get children(){return[m(z),a(M,{type:"success",get children(){return a(j,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return a(O,{get when(){return e.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{he as ContactFormImpl};
