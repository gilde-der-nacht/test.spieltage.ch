import{d as A,g as b,t as D,i as y,c as S,s as _,a as U,b as k,r as T,m as N,o as J,e as F,f as r,u as G,S as $,h as M,F as V,j as I,M as W}from"./web.CuMqYYec.js";var K=D("<button>");function Q(t){return(()=>{var e=b(K);return e.$$click=()=>t.onClick?.(),y(e,()=>t.label),S(i=>{var h=t.type??"button",l=`button-${t.kind??(t.disabled?"gray":"accent")}`,u=t.disabled===!0;return h!==i.e&&_(e,"type",i.e=h),l!==i.t&&U(e,i.t=l),u!==i.a&&k(e,"disabled",i.a=u),i},{e:void 0,t:void 0,a:void 0}),T(),e})()}A(["click"]);var X=D("<form method=post><!$><!/><!$><!/>");function Y(t){const e=N({language:"de",submitLabel:t.language==="en"?"Submit":"Absenden"},t);let i;J(()=>{i.setAttribute("novalidate",""),[...i.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(u=>u.remove())});async function h(l){const{target:u}=l;if(u!==null&&u instanceof HTMLFormElement){l.preventDefault();const a=new FormData(u);if(!e.isValid(a))return;try{const n=await fetch(e.actionUrl,{method:"post",body:a});n.ok?e.onSuccess():e.onError(await n.text())}catch(n){e.onError(n)}}}return(()=>{var l=b(X),u=l.firstChild,[a,n]=F(u.nextSibling),c=a.nextSibling,[g,m]=F(c.nextSibling),f=i;return typeof f=="function"?G(f,l):i=l,l.addEventListener("submit",h),y(l,()=>e.children,a,n),y(l,r(Q,{type:"submit",get label(){return e.submitLabel}}),g,m),S(()=>_(l,"action",e.actionUrl.href)),l})()}var j=D("<label><!$><!/><input>");function B(t){const e=N({type:"text",required:!0,isHoneypot:!1},t);return(()=>{var i=b(j),h=i.firstChild,[l,u]=F(h.nextSibling),a=l.nextSibling;return y(i,()=>e.label,l,u),a.$$input=n=>e.onValueUpdate(n.target.value),S(n=>{var c=e.isHoneypot?"honey":"",g=e.type,m=e.name,f=e.label,p=e.required;return c!==n.e&&U(i,n.e=c),g!==n.t&&_(a,"type",n.t=g),m!==n.a&&_(a,"name",n.a=m),f!==n.o&&_(a,"placeholder",n.o=f),p!==n.i&&k(a,"required",n.i=p),n},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),S(()=>k(a,"value",e.value)),T(),i})()}function Z(t){const e=N({type:"text",required:!0,isHoneypot:!1},t);return(()=>{var i=b(j),h=i.firstChild,[l,u]=F(h.nextSibling),a=l.nextSibling;y(i,()=>e.label,l,u);var n=e.ref;return typeof n=="function"?G(n,a):e.ref=a,a.$$input=c=>e.onValueUpdate(c.target.value),S(c=>{var g=e.isHoneypot?"honey":"",m=e.type,f=e.name,p=e.label,x=e.required;return g!==c.e&&U(i,c.e=g),m!==c.t&&_(a,"type",c.t=m),f!==c.a&&_(a,"name",c.a=f),p!==c.o&&_(a,"placeholder",c.o=p),x!==c.i&&k(a,"required",c.i=x),c},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),S(()=>k(a,"value",e.value)),T(),i})()}A(["input"]);var ee=D("<label><!$><!/><textarea>");function te(t){const e=N({required:!0},t);return(()=>{var i=b(ee),h=i.firstChild,[l,u]=F(h.nextSibling),a=l.nextSibling;return y(i,()=>e.label,l,u),a.$$input=n=>e.onValueUpdate(n.target.value),S(n=>{var c=e.name,g=e.label,m=e.required;return c!==n.e&&_(a,"name",n.e=c),g!==n.t&&_(a,"placeholder",n.t=g),m!==n.a&&k(a,"required",n.a=m),n},{e:void 0,t:void 0,a:void 0}),S(()=>k(a,"value",e.value)),T(),i})()}A(["input"]);var ne=D("<input type=hidden>");function L(t){return(()=>{var e=b(ne);return S(()=>_(e,"name",t.name)),S(()=>k(e,"value",t.value)),e})()}var re=D('<a><i class="fa-duotone fa-arrow-turn-down-right event-icon"></i><span> <!$><!/>'),ae=D("<div><span></span><!$><!/>");function q(t){return(()=>{var e=b(ae),i=e.firstChild,h=i.nextSibling,[l,u]=F(h.nextSibling);return y(i,()=>t.children),y(e,r($,{get when(){return t.link!==void 0&&t.linkLabel!==void 0},get children(){var a=b(re),n=a.firstChild,c=n.nextSibling,g=c.firstChild,m=g.nextSibling,[f,p]=F(m.nextSibling);return y(c,()=>t.linkLabel,f,p),S(x=>{var o=t.link??"",E=`button button-small button-${t.type??"gray"}`;return o!==x.e&&_(a,"href",x.e=o),E!==x.t&&U(a,x.t=E),x},{e:void 0,t:void 0}),a}}),l,u),S(()=>U(e,`box-${t.type??"gray"}`)),e})()}var O=D("<br>"),H=D("<p>");function R(){return{name:"",email:"",captcha:"",message:""}}function P(){return{name:[],email:[],captcha:[],message:[]}}const ie=new URL("https://elysium.gildedernacht.ch/forms");function ue(t){const e="Name",i=t.language!=="en"?"E-Mail":"Email",h=t.language!=="en"?"Bitte leer lassen":"leave this field empty",l=t.language!=="en"?"Nachricht":"Message",[u,a]=M(R());let n;const[c,g]=M(!1),[m,f]=M(!1);function p(){f(!1),a(R()),g(!0)}function x(s){g(!1),f(!0),console.error(s)}const[o,E]=M(P());function C(s){return d=>{f(!1),E(P()),a(w=>({...w,[s]:d}))}}function z(s){E(P());const d=t.language==="en";if(u().name.trim().length===0){const w=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(v=>({...v,name:[...v.name,w]}))}if(u().email.trim().length===0){const w=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(v=>({...v,email:[...v.email,w]}))}if(n.validity.typeMismatch){const w=d?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";E(v=>({...v,email:[...v.email,w]}))}if(u().captcha.trim().length>0){const w=d?"This is field must be empty.":"Dieses Feld muss leer bleiben.";E(v=>({...v,captcha:[...v.captcha,w]}))}if(u().message.trim().length===0){const w=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(v=>({...v,message:[...v.message,w]}))}return o().name.length===0&&o().email.length===0&&o().captcha.length===0&&o().message.length===0}return[r(Y,{actionUrl:ie,get language(){return t.language??"de"},isValid:z,onSuccess:p,onError:x,get children(){return[r(B,{label:e,name:"private-name",get value(){return u().name},get onValueUpdate(){return C("name")}}),r($,{get when(){return o().name.length>0},get children(){return r(q,{type:"danger",get children(){return r(V,{get each(){return o().name},children:s=>(()=>{var d=b(H);return y(d,s),d})()})}})}}),r(Z,{label:i,name:"private-email",type:"email",get value(){return u().email},get onValueUpdate(){return C("email")},ref(s){var d=n;typeof d=="function"?d(s):n=s}}),r($,{get when(){return o().email.length>0},get children(){return r(q,{type:"danger",get children(){return r(V,{get each(){return o().email},children:s=>(()=>{var d=b(H);return y(d,s),d})()})}})}}),r(B,{label:h,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return u().captcha},get onValueUpdate(){return C("captcha")}}),r($,{get when(){return o().captcha.length>0},get children(){return r(q,{type:"danger",get children(){return r(V,{get each(){return o().captcha},children:s=>(()=>{var d=b(H);return y(d,s),d})()})}})}}),r(te,{label:l,name:"private-message",get value(){return u().message},get onValueUpdate(){return C("message")}}),r($,{get when(){return o().message.length>0},get children(){return r(q,{type:"danger",get children(){return r(V,{get each(){return o().message},children:s=>(()=>{var d=b(H);return y(d,s),d})()})}})}}),r($,{get when(){return t.language},children:s=>r(L,{name:"language",get value(){return s()}})}),r($,{get when(){return t.category},children:s=>r(L,{name:"category",get value(){return s()}})}),r($,{get when(){return t.referer},children:s=>r(L,{name:"referer",get value(){return s().href}})}),r($,{get when(){return t.redirectOnSuccess},children:s=>r(L,{name:"redirect-on-success",get value(){return s().href}})}),r($,{get when(){return t.redirectOnFailure},children:s=>r(L,{name:"redirect-on-failure",get value(){return s().href}})}),r($,{get when(){return t.redirectOnSpam},children:s=>r(L,{name:"redirect-on-spam",get value(){return s().href}})})]}}),r($,{get when(){return m()},get children(){return[b(O),r(q,{type:"danger",get children(){return r(I,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return r(W,{get when(){return t.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),r($,{get when(){return c()},get children(){return[b(O),r(q,{type:"success",get children(){return r(I,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return r(W,{get when(){return t.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{ue as ContactFormImpl};
