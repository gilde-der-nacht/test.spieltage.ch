import{g as v,t as C,c as x,a as L,s as Y,d as I,i as f,b as i,e as b,f as w,r as V,m as N,o as Z,h as F,u as J,j as P,S,k as B,F as H,l as j,M as O}from"./web.CXIi3SLr.js";var p=C("<i>");function K(e){const t=(e.classes??[]).concat(["fa-duotone",`fa-${e.icon}`]);return(()=>{var n=v(p);return x(l=>{var u=t.join(" "),c=e.style;return u!==l.e&&L(n,l.e=u),l.t=Y(n,c,l.t),l},{e:void 0,t:void 0}),n})()}var Q=C("<button>");function ee(e){const t=()=>{const n=[];return e.kind!==void 0?n.push(`button-${e.kind}`):e.disabled?n.push("button-gray"):n.push("button-accent"),e.onClick===void 0&&e.type!=="submit"&&n.push("button-no-event"),n};return(()=>{var n=v(Q);return n.$$click=l=>e.onClick?.(l),f(n,()=>e.label),x(l=>{var u=e.type??"button",c=t().join(" "),a=e.disabled===!0,r=e.title;return u!==l.e&&b(n,"type",l.e=u),c!==l.t&&L(n,l.t=c),a!==l.a&&w(n,"disabled",l.a=a),r!==l.o&&b(n,"title",l.o=r),l},{e:void 0,t:void 0,a:void 0,o:void 0}),V(),n})()}function te(e){const t=()=>{const n=["button-icon"];return e.kind!==void 0?n.push(`button-${e.kind}`):e.disabled?n.push("button-gray"):n.push("button-accent"),e.onClick===void 0&&n.push("button-no-event"),n};return(()=>{var n=v(Q);return n.$$click=l=>e.onClick?.(l),f(n,i(K,{get icon(){return e.icon}})),x(l=>{var u=e.type??"button",c=t().join(" "),a=e.disabled===!0,r=e.title;return u!==l.e&&b(n,"type",l.e=u),c!==l.t&&L(n,l.t=c),a!==l.a&&w(n,"disabled",l.a=a),r!==l.o&&b(n,"title",l.o=r),l},{e:void 0,t:void 0,a:void 0,o:void 0}),V(),n})()}I(["click"]);var ne=C("<form method=post><!$><!/><!$><!/>");function re(e){const t=N({language:"de",submitLabel:e.language==="en"?"Submit":"Absenden"},e);let n;Z(()=>{n.setAttribute("novalidate",""),[...n.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(c=>c.remove())});async function l(u){const{target:c}=u;if(c!==null&&c instanceof HTMLFormElement){u.preventDefault();const a=new FormData(c);if(!t.isValid(a))return;try{const r=await fetch(t.actionUrl,{method:"post",body:a});r.ok?t.onSuccess():t.onError(await r.text())}catch(r){t.onError(r)}}}return(()=>{var u=v(ne),c=u.firstChild,[a,r]=F(c.nextSibling),o=a.nextSibling,[g,y]=F(o.nextSibling),h=n;return typeof h=="function"?J(h,u):n=u,u.addEventListener("submit",l),f(u,()=>t.children,a,r),f(u,i(ee,{type:"submit",get label(){return t.submitLabel}}),g,y),x(()=>b(u,"action",t.actionUrl.href)),u})()}var X=C("<label><!$><!/><input>");function R(e){const t=N({type:"text",required:!0,isHoneypot:!1},e);return(()=>{var n=v(X),l=n.firstChild,[u,c]=F(l.nextSibling),a=u.nextSibling;return f(n,()=>t.label,u,c),P(a,"blur",e.onBlur),a.$$input=r=>t.onValueUpdate(r.target.value),x(r=>{var o=t.isHoneypot?"honey":"",g=t.type,y=t.name,h=t.label,k=t.required,E=e.disabled===!0;return o!==r.e&&L(n,r.e=o),g!==r.t&&b(a,"type",r.t=g),y!==r.a&&b(a,"name",r.a=y),h!==r.o&&b(a,"placeholder",r.o=h),k!==r.i&&w(a,"required",r.i=k),E!==r.n&&w(a,"disabled",r.n=E),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),x(()=>w(a,"value",t.value)),V(),n})()}function ae(e){const t=N({type:"text",required:!0,isHoneypot:!1},e);return(()=>{var n=v(X),l=n.firstChild,[u,c]=F(l.nextSibling),a=u.nextSibling;f(n,()=>t.label,u,c);var r=t.ref;return typeof r=="function"?J(r,a):t.ref=a,P(a,"blur",e.onBlur),a.$$input=o=>t.onValueUpdate(o.target.value),x(o=>{var g=t.isHoneypot?"honey":"",y=t.type,h=t.name,k=t.label,E=t.required,m=e.disabled===!0;return g!==o.e&&L(n,o.e=g),y!==o.t&&b(a,"type",o.t=y),h!==o.a&&b(a,"name",o.a=h),k!==o.o&&b(a,"placeholder",o.o=k),E!==o.i&&w(a,"required",o.i=E),m!==o.n&&w(a,"disabled",o.n=m),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),x(()=>w(a,"value",t.value)),V(),n})()}I(["input"]);var ie=C("<label><!$><!/><textarea>");function le(e){const t=N({required:!0},e);return(()=>{var n=v(ie),l=n.firstChild,[u,c]=F(l.nextSibling),a=u.nextSibling;return f(n,()=>t.label,u,c),P(a,"blur",e.onBlur),a.$$input=r=>t.onValueUpdate(r.target.value),x(r=>{var o=e.size==="small"?"small":"",g=t.name,y=t.label,h=t.required,k=e.disabled===!0;return o!==r.e&&L(a,r.e=o),g!==r.t&&b(a,"name",r.t=g),y!==r.a&&b(a,"placeholder",r.a=y),h!==r.o&&w(a,"required",r.o=h),k!==r.i&&w(a,"disabled",r.i=k),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),x(()=>w(a,"value",t.value)),V(),n})()}I(["input"]);var ue=C("<input type=hidden>");function U(e){return(()=>{var t=v(ue);return x(()=>b(t,"name",e.name)),x(()=>w(t,"value",e.value)),t})()}var ce=C("<a><!$><!/><span> <!$><!/>"),se=C("<div><!$><!/><span></span><!$><!/>");function M(e){return(()=>{var t=v(se),n=t.firstChild,[l,u]=F(n.nextSibling),c=l.nextSibling,a=c.nextSibling,[r,o]=F(a.nextSibling);return P(t,"click",e.onClick,!0),f(t,i(S,{get when(){return e.onClose},children:g=>i(te,{get onClick(){return g()},icon:"circle-xmark",kind:"gray"})}),l,u),f(c,()=>e.children),f(t,i(S,{get when(){return e.link!==void 0&&e.linkLabel!==void 0},get children(){var g=v(ce),y=g.firstChild,[h,k]=F(y.nextSibling),E=h.nextSibling,m=E.firstChild,D=m.nextSibling,[q,A]=F(D.nextSibling);return f(g,i(K,{icon:"arrow-turn-down-right",classes:["event-icon"]}),h,k),f(E,()=>e.linkLabel,q,A),x(s=>{var d=e.link??"",$=`button button-small button-${e.type??"gray"}`;return d!==s.e&&b(g,"href",s.e=d),$!==s.t&&L(g,s.t=$),s},{e:void 0,t:void 0}),g}}),r,o),x(()=>L(t,`box-${e.type??"gray"} ${e.onClose!==void 0?"box-with-close":""}`)),V(),t})()}I(["click"]);function oe(e){return new URL(e,"https://elysium.gildedernacht.ch")}var z=C("<br>"),T=C("<p>");function G(){return{name:"",email:"",captcha:"",message:""}}function W(){return{name:[],email:[],captcha:[],message:[]}}const de=oe("/forms");function he(e){const t="Name",n=e.language!=="en"?"E-Mail":"Email",l=e.language!=="en"?"Bitte leer lassen":"leave this field empty",u=e.language!=="en"?"Nachricht":"Message",[c,a]=B(G());let r;const[o,g]=B(!1),[y,h]=B(!1);function k(){h(!1),a(G()),g(!0)}function E(s){g(!1),h(!0),console.error(s)}const[m,D]=B(W());function q(s){return d=>{h(!1),D(W()),a($=>({...$,[s]:d}))}}function A(s){D(W());const d=e.language==="en";if(c().name.trim().length===0){const $=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";D(_=>({..._,name:[..._.name,$]}))}if(c().email.trim().length===0){const $=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";D(_=>({..._,email:[..._.email,$]}))}if(r.validity.typeMismatch){const $=d?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";D(_=>({..._,email:[..._.email,$]}))}if(c().captcha.trim().length>0){const $=d?"This is field must be empty.":"Dieses Feld muss leer bleiben.";D(_=>({..._,captcha:[..._.captcha,$]}))}if(c().message.trim().length===0){const $=d?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";D(_=>({..._,message:[..._.message,$]}))}return m().name.length===0&&m().email.length===0&&m().captcha.length===0&&m().message.length===0}return[i(re,{actionUrl:de,get language(){return e.language??"de"},isValid:A,onSuccess:k,onError:E,get children(){return[i(R,{label:t,name:"private-name",get value(){return c().name},get onValueUpdate(){return q("name")}}),i(S,{get when(){return m().name.length>0},get children(){return i(M,{type:"danger",get children(){return i(H,{get each(){return m().name},children:s=>(()=>{var d=v(T);return f(d,s),d})()})}})}}),i(ae,{label:n,name:"private-email",type:"email",get value(){return c().email},get onValueUpdate(){return q("email")},ref(s){var d=r;typeof d=="function"?d(s):r=s}}),i(S,{get when(){return m().email.length>0},get children(){return i(M,{type:"danger",get children(){return i(H,{get each(){return m().email},children:s=>(()=>{var d=v(T);return f(d,s),d})()})}})}}),i(R,{label:l,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return c().captcha},get onValueUpdate(){return q("captcha")}}),i(S,{get when(){return m().captcha.length>0},get children(){return i(M,{type:"danger",get children(){return i(H,{get each(){return m().captcha},children:s=>(()=>{var d=v(T);return f(d,s),d})()})}})}}),i(le,{label:u,name:"private-message",get value(){return c().message},get onValueUpdate(){return q("message")}}),i(S,{get when(){return m().message.length>0},get children(){return i(M,{type:"danger",get children(){return i(H,{get each(){return m().message},children:s=>(()=>{var d=v(T);return f(d,s),d})()})}})}}),i(S,{get when(){return e.language},children:s=>i(U,{name:"language",get value(){return s()}})}),i(S,{get when(){return e.category},children:s=>i(U,{name:"category",get value(){return s()}})}),i(S,{get when(){return e.referer},children:s=>i(U,{name:"referer",get value(){return s().href}})}),i(S,{get when(){return e.redirectOnSuccess},children:s=>i(U,{name:"redirect-on-success",get value(){return s().href}})}),i(S,{get when(){return e.redirectOnFailure},children:s=>i(U,{name:"redirect-on-failure",get value(){return s().href}})}),i(S,{get when(){return e.redirectOnSpam},children:s=>i(U,{name:"redirect-on-spam",get value(){return s().href}})})]}}),i(S,{get when(){return y()},get children(){return[v(z),i(M,{type:"danger",get children(){return i(j,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return i(O,{get when(){return e.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),i(S,{get when(){return o()},get children(){return[v(z),i(M,{type:"success",get children(){return i(j,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return i(O,{get when(){return e.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{he as ContactFormImpl};
